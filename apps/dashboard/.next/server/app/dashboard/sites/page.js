/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/dashboard/sites/page";
exports.ids = ["app/dashboard/sites/page"];
exports.modules = {

/***/ "@aws-sdk/client-s3":
/*!*************************************!*\
  !*** external "@aws-sdk/client-s3" ***!
  \*************************************/
/***/ ((module) => {

"use strict";
module.exports = require("@aws-sdk/client-s3");

/***/ }),

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

"use strict";
module.exports = require("@prisma/client");

/***/ }),

/***/ "@prisma/client/runtime/library":
/*!*************************************************!*\
  !*** external "@prisma/client/runtime/library" ***!
  \*************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("@prisma/client/runtime/library");

/***/ }),

/***/ "../../client/components/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/client/components/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/action-async-storage.external.js");

/***/ }),

/***/ "../../client/components/request-async-storage.external":
/*!********************************************************************************!*\
  !*** external "next/dist/client/components/request-async-storage.external.js" ***!
  \********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/request-async-storage.external.js");

/***/ }),

/***/ "../../client/components/static-generation-async-storage.external":
/*!******************************************************************************************!*\
  !*** external "next/dist/client/components/static-generation-async-storage.external.js" ***!
  \******************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/static-generation-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("buffer");

/***/ }),

/***/ "child_process":
/*!********************************!*\
  !*** external "child_process" ***!
  \********************************/
/***/ ((module) => {

"use strict";
module.exports = require("child_process");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "dns":
/*!**********************!*\
  !*** external "dns" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("dns");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("net");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("os");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("tls");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ }),

/***/ "node:fs/promises":
/*!***********************************!*\
  !*** external "node:fs/promises" ***!
  \***********************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:fs/promises");

/***/ }),

/***/ "(rsc)/../../node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fdashboard%2Fsites%2Fpage&page=%2Fdashboard%2Fsites%2Fpage&appPaths=%2Fdashboard%2Fsites%2Fpage&pagePath=private-next-app-dir%2Fdashboard%2Fsites%2Fpage.tsx&appDir=%2FUsers%2Fantonlozkin%2FDocuments%2Fobsidian-website%2Fapps%2Fdashboard%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fantonlozkin%2FDocuments%2Fobsidian-website%2Fapps%2Fdashboard&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fdashboard%2Fsites%2Fpage&page=%2Fdashboard%2Fsites%2Fpage&appPaths=%2Fdashboard%2Fsites%2Fpage&pagePath=private-next-app-dir%2Fdashboard%2Fsites%2Fpage.tsx&appDir=%2FUsers%2Fantonlozkin%2FDocuments%2Fobsidian-website%2Fapps%2Fdashboard%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fantonlozkin%2FDocuments%2Fobsidian-website%2Fapps%2Fdashboard&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GlobalError: () => (/* reexport default from dynamic */ next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2___default.a),\n/* harmony export */   __next_app__: () => (/* binding */ __next_app__),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   pages: () => (/* binding */ pages),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   tree: () => (/* binding */ tree)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-page/module.compiled */ \"(ssr)/../../node_modules/next/dist/server/future/route-modules/app-page/module.compiled.js?ac0d\");\n/* harmony import */ var next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/../../node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/client/components/error-boundary */ \"(rsc)/../../node_modules/next/dist/client/components/error-boundary.js\");\n/* harmony import */ var next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/dist/server/app-render/entry-base */ \"(rsc)/../../node_modules/next/dist/server/app-render/entry-base.js\");\n/* harmony import */ var next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__) if([\"default\",\"tree\",\"pages\",\"GlobalError\",\"originalPathname\",\"__next_app__\",\"routeModule\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n\"TURBOPACK { transition: next-ssr }\";\n\n\n// We inject the tree and pages here so that we can use them in the route\n// module.\nconst tree = {\n        children: [\n        '',\n        {\n        children: [\n        'dashboard',\n        {\n        children: [\n        'sites',\n        {\n        children: ['__PAGE__', {}, {\n          page: [() => Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./src/app/dashboard/sites/page.tsx */ \"(rsc)/./src/app/dashboard/sites/page.tsx\")), \"/Users/antonlozkin/Documents/obsidian-website/apps/dashboard/src/app/dashboard/sites/page.tsx\"],\n          \n        }]\n      },\n        {\n        \n        \n      }\n      ]\n      },\n        {\n        'layout': [() => Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./src/app/dashboard/layout.tsx */ \"(rsc)/./src/app/dashboard/layout.tsx\")), \"/Users/antonlozkin/Documents/obsidian-website/apps/dashboard/src/app/dashboard/layout.tsx\"],\n        \n      }\n      ]\n      },\n        {\n        'layout': [() => Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./src/app/layout.tsx */ \"(rsc)/./src/app/layout.tsx\")), \"/Users/antonlozkin/Documents/obsidian-website/apps/dashboard/src/app/layout.tsx\"],\n'not-found': [() => Promise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! next/dist/client/components/not-found-error */ \"(rsc)/../../node_modules/next/dist/client/components/not-found-error.js\", 23)), \"next/dist/client/components/not-found-error\"],\n        \n      }\n      ]\n      }.children;\nconst pages = [\"/Users/antonlozkin/Documents/obsidian-website/apps/dashboard/src/app/dashboard/sites/page.tsx\"];\n\n\nconst __next_app_require__ = __webpack_require__\nconst __next_app_load_chunk__ = () => Promise.resolve()\nconst originalPathname = \"/dashboard/sites/page\";\nconst __next_app__ = {\n    require: __next_app_require__,\n    loadChunk: __next_app_load_chunk__\n};\n\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppPageRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_PAGE,\n        page: \"/dashboard/sites/page\",\n        pathname: \"/dashboard/sites\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\",\n        appPaths: []\n    },\n    userland: {\n        loaderTree: tree\n    }\n});\n\n//# sourceMappingURL=app-page.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9idWlsZC93ZWJwYWNrL2xvYWRlcnMvbmV4dC1hcHAtbG9hZGVyLmpzP25hbWU9YXBwJTJGZGFzaGJvYXJkJTJGc2l0ZXMlMkZwYWdlJnBhZ2U9JTJGZGFzaGJvYXJkJTJGc2l0ZXMlMkZwYWdlJmFwcFBhdGhzPSUyRmRhc2hib2FyZCUyRnNpdGVzJTJGcGFnZSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmRhc2hib2FyZCUyRnNpdGVzJTJGcGFnZS50c3gmYXBwRGlyPSUyRlVzZXJzJTJGYW50b25sb3praW4lMkZEb2N1bWVudHMlMkZvYnNpZGlhbi13ZWJzaXRlJTJGYXBwcyUyRmRhc2hib2FyZCUyRnNyYyUyRmFwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9JTJGVXNlcnMlMkZhbnRvbmxvemtpbiUyRkRvY3VtZW50cyUyRm9ic2lkaWFuLXdlYnNpdGUlMkZhcHBzJTJGZGFzaGJvYXJkJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsYUFBYSxzQkFBc0I7QUFDaUU7QUFDckM7QUFDL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDLHVCQUF1QixnTEFBa0k7QUFDeko7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSx5QkFBeUIsd0tBQThIO0FBQ3ZKO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLHlCQUF5QixvSkFBb0g7QUFDN0ksb0JBQW9CLDhOQUFnRjtBQUNwRztBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDdUI7QUFDNkQ7QUFDcEYsNkJBQTZCLG1CQUFtQjtBQUNoRDtBQUNPO0FBQ0E7QUFDUDtBQUNBO0FBQ0E7QUFDdUQ7QUFDdkQ7QUFDTyx3QkFBd0IsOEdBQWtCO0FBQ2pEO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRCIsInNvdXJjZXMiOlsid2VicGFjazovL0Bub3RlcHViL2Rhc2hib2FyZC8/YzYwMiJdLCJzb3VyY2VzQ29udGVudCI6WyJcIlRVUkJPUEFDSyB7IHRyYW5zaXRpb246IG5leHQtc3NyIH1cIjtcbmltcG9ydCB7IEFwcFBhZ2VSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1wYWdlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbi8vIFdlIGluamVjdCB0aGUgdHJlZSBhbmQgcGFnZXMgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IHRyZWUgPSB7XG4gICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICcnLFxuICAgICAgICB7XG4gICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICdkYXNoYm9hcmQnLFxuICAgICAgICB7XG4gICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICdzaXRlcycsXG4gICAgICAgIHtcbiAgICAgICAgY2hpbGRyZW46IFsnX19QQUdFX18nLCB7fSwge1xuICAgICAgICAgIHBhZ2U6IFsoKSA9PiBpbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi9Vc2Vycy9hbnRvbmxvemtpbi9Eb2N1bWVudHMvb2JzaWRpYW4td2Vic2l0ZS9hcHBzL2Rhc2hib2FyZC9zcmMvYXBwL2Rhc2hib2FyZC9zaXRlcy9wYWdlLnRzeFwiKSwgXCIvVXNlcnMvYW50b25sb3praW4vRG9jdW1lbnRzL29ic2lkaWFuLXdlYnNpdGUvYXBwcy9kYXNoYm9hcmQvc3JjL2FwcC9kYXNoYm9hcmQvc2l0ZXMvcGFnZS50c3hcIl0sXG4gICAgICAgICAgXG4gICAgICAgIH1dXG4gICAgICB9LFxuICAgICAgICB7XG4gICAgICAgIFxuICAgICAgICBcbiAgICAgIH1cbiAgICAgIF1cbiAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgJ2xheW91dCc6IFsoKSA9PiBpbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi9Vc2Vycy9hbnRvbmxvemtpbi9Eb2N1bWVudHMvb2JzaWRpYW4td2Vic2l0ZS9hcHBzL2Rhc2hib2FyZC9zcmMvYXBwL2Rhc2hib2FyZC9sYXlvdXQudHN4XCIpLCBcIi9Vc2Vycy9hbnRvbmxvemtpbi9Eb2N1bWVudHMvb2JzaWRpYW4td2Vic2l0ZS9hcHBzL2Rhc2hib2FyZC9zcmMvYXBwL2Rhc2hib2FyZC9sYXlvdXQudHN4XCJdLFxuICAgICAgICBcbiAgICAgIH1cbiAgICAgIF1cbiAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgJ2xheW91dCc6IFsoKSA9PiBpbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi9Vc2Vycy9hbnRvbmxvemtpbi9Eb2N1bWVudHMvb2JzaWRpYW4td2Vic2l0ZS9hcHBzL2Rhc2hib2FyZC9zcmMvYXBwL2xheW91dC50c3hcIiksIFwiL1VzZXJzL2FudG9ubG96a2luL0RvY3VtZW50cy9vYnNpZGlhbi13ZWJzaXRlL2FwcHMvZGFzaGJvYXJkL3NyYy9hcHAvbGF5b3V0LnRzeFwiXSxcbidub3QtZm91bmQnOiBbKCkgPT4gaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCJuZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvbm90LWZvdW5kLWVycm9yXCIpLCBcIm5leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9ub3QtZm91bmQtZXJyb3JcIl0sXG4gICAgICAgIFxuICAgICAgfVxuICAgICAgXVxuICAgICAgfS5jaGlsZHJlbjtcbmNvbnN0IHBhZ2VzID0gW1wiL1VzZXJzL2FudG9ubG96a2luL0RvY3VtZW50cy9vYnNpZGlhbi13ZWJzaXRlL2FwcHMvZGFzaGJvYXJkL3NyYy9hcHAvZGFzaGJvYXJkL3NpdGVzL3BhZ2UudHN4XCJdO1xuZXhwb3J0IHsgdHJlZSwgcGFnZXMgfTtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgR2xvYmFsRXJyb3IgfSBmcm9tIFwibmV4dC9kaXN0L2NsaWVudC9jb21wb25lbnRzL2Vycm9yLWJvdW5kYXJ5XCI7XG5jb25zdCBfX25leHRfYXBwX3JlcXVpcmVfXyA9IF9fd2VicGFja19yZXF1aXJlX19cbmNvbnN0IF9fbmV4dF9hcHBfbG9hZF9jaHVua19fID0gKCkgPT4gUHJvbWlzZS5yZXNvbHZlKClcbmV4cG9ydCBjb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvZGFzaGJvYXJkL3NpdGVzL3BhZ2VcIjtcbmV4cG9ydCBjb25zdCBfX25leHRfYXBwX18gPSB7XG4gICAgcmVxdWlyZTogX19uZXh0X2FwcF9yZXF1aXJlX18sXG4gICAgbG9hZENodW5rOiBfX25leHRfYXBwX2xvYWRfY2h1bmtfX1xufTtcbmV4cG9ydCAqIGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2FwcC1yZW5kZXIvZW50cnktYmFzZVwiO1xuLy8gQ3JlYXRlIGFuZCBleHBvcnQgdGhlIHJvdXRlIG1vZHVsZSB0aGF0IHdpbGwgYmUgY29uc3VtZWQuXG5leHBvcnQgY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUGFnZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUEFHRSxcbiAgICAgICAgcGFnZTogXCIvZGFzaGJvYXJkL3NpdGVzL3BhZ2VcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2Rhc2hib2FyZC9zaXRlc1wiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcIlwiLFxuICAgICAgICBhcHBQYXRoczogW11cbiAgICB9LFxuICAgIHVzZXJsYW5kOiB7XG4gICAgICAgIGxvYWRlclRyZWU6IHRyZWVcbiAgICB9XG59KTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXBhZ2UuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fdashboard%2Fsites%2Fpage&page=%2Fdashboard%2Fsites%2Fpage&appPaths=%2Fdashboard%2Fsites%2Fpage&pagePath=private-next-app-dir%2Fdashboard%2Fsites%2Fpage.tsx&appDir=%2FUsers%2Fantonlozkin%2FDocuments%2Fobsidian-website%2Fapps%2Fdashboard%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fantonlozkin%2FDocuments%2Fobsidian-website%2Fapps%2Fdashboard&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(action-browser)/../../node_modules/next/dist/build/webpack/loaders/next-flight-action-entry-loader.js?actions=%5B%5B%22%2FUsers%2Fantonlozkin%2FDocuments%2Fobsidian-website%2Fapps%2Fdashboard%2Fsrc%2Fapp%2Fverify-email%2Factions.ts%22%2C%5B%22verifyEmailAction%22%2C%22resendVerificationAction%22%2C%22verifyEmailByToken%22%5D%5D%5D&__client_imported__=true!":
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/next/dist/build/webpack/loaders/next-flight-action-entry-loader.js?actions=%5B%5B%22%2FUsers%2Fantonlozkin%2FDocuments%2Fobsidian-website%2Fapps%2Fdashboard%2Fsrc%2Fapp%2Fverify-email%2Factions.ts%22%2C%5B%22verifyEmailAction%22%2C%22resendVerificationAction%22%2C%22verifyEmailByToken%22%5D%5D%5D&__client_imported__=true! ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\nconst actions = {\n'2368fce516b797d3ed444e92ea500e97d17fe106': () => Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./src/app/verify-email/actions.ts */ \"(action-browser)/./src/app/verify-email/actions.ts\")).then(mod => mod[\"verifyEmailAction\"]),\n'5710deafb07bb7de6e3ab7c26af2e5ae60713953': () => Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./src/app/verify-email/actions.ts */ \"(action-browser)/./src/app/verify-email/actions.ts\")).then(mod => mod[\"resendVerificationAction\"]),\n'f515440e3c08faafd17192c3c51d6e15aaed6b05': () => Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./src/app/verify-email/actions.ts */ \"(action-browser)/./src/app/verify-email/actions.ts\")).then(mod => mod[\"verifyEmailByToken\"]),\n}\n\nasync function endpoint(id, ...args) {\n  const action = await actions[id]()\n  return action.apply(null, args)\n}\n\n// Using CJS to avoid this to be tree-shaken away due to unused exports.\nmodule.exports = {\n  '2368fce516b797d3ed444e92ea500e97d17fe106': endpoint.bind(null, '2368fce516b797d3ed444e92ea500e97d17fe106'),\n  '5710deafb07bb7de6e3ab7c26af2e5ae60713953': endpoint.bind(null, '5710deafb07bb7de6e3ab7c26af2e5ae60713953'),\n  'f515440e3c08faafd17192c3c51d6e15aaed6b05': endpoint.bind(null, 'f515440e3c08faafd17192c3c51d6e15aaed6b05'),\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uLi8uLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWZsaWdodC1hY3Rpb24tZW50cnktbG9hZGVyLmpzP2FjdGlvbnM9JTVCJTVCJTIyJTJGVXNlcnMlMkZhbnRvbmxvemtpbiUyRkRvY3VtZW50cyUyRm9ic2lkaWFuLXdlYnNpdGUlMkZhcHBzJTJGZGFzaGJvYXJkJTJGc3JjJTJGYXBwJTJGdmVyaWZ5LWVtYWlsJTJGYWN0aW9ucy50cyUyMiUyQyU1QiUyMnZlcmlmeUVtYWlsQWN0aW9uJTIyJTJDJTIycmVzZW5kVmVyaWZpY2F0aW9uQWN0aW9uJTIyJTJDJTIydmVyaWZ5RW1haWxCeVRva2VuJTIyJTVEJTVEJTVEJl9fY2xpZW50X2ltcG9ydGVkX189dHJ1ZSEiLCJtYXBwaW5ncyI6IjtBQUNBO0FBQ0Esa0RBQWtELHlMQUFpSTtBQUNuTCxrREFBa0QseUxBQWlJO0FBQ25MLGtEQUFrRCx5TEFBaUk7QUFDbkw7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQG5vdGVwdWIvZGFzaGJvYXJkLz81MmMwIl0sInNvdXJjZXNDb250ZW50IjpbIlxuY29uc3QgYWN0aW9ucyA9IHtcbicyMzY4ZmNlNTE2Yjc5N2QzZWQ0NDRlOTJlYTUwMGU5N2QxN2ZlMTA2JzogKCkgPT4gaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCIvVXNlcnMvYW50b25sb3praW4vRG9jdW1lbnRzL29ic2lkaWFuLXdlYnNpdGUvYXBwcy9kYXNoYm9hcmQvc3JjL2FwcC92ZXJpZnktZW1haWwvYWN0aW9ucy50c1wiKS50aGVuKG1vZCA9PiBtb2RbXCJ2ZXJpZnlFbWFpbEFjdGlvblwiXSksXG4nNTcxMGRlYWZiMDdiYjdkZTZlM2FiN2MyNmFmMmU1YWU2MDcxMzk1Myc6ICgpID0+IGltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiL1VzZXJzL2FudG9ubG96a2luL0RvY3VtZW50cy9vYnNpZGlhbi13ZWJzaXRlL2FwcHMvZGFzaGJvYXJkL3NyYy9hcHAvdmVyaWZ5LWVtYWlsL2FjdGlvbnMudHNcIikudGhlbihtb2QgPT4gbW9kW1wicmVzZW5kVmVyaWZpY2F0aW9uQWN0aW9uXCJdKSxcbidmNTE1NDQwZTNjMDhmYWFmZDE3MTkyYzNjNTFkNmUxNWFhZWQ2YjA1JzogKCkgPT4gaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCIvVXNlcnMvYW50b25sb3praW4vRG9jdW1lbnRzL29ic2lkaWFuLXdlYnNpdGUvYXBwcy9kYXNoYm9hcmQvc3JjL2FwcC92ZXJpZnktZW1haWwvYWN0aW9ucy50c1wiKS50aGVuKG1vZCA9PiBtb2RbXCJ2ZXJpZnlFbWFpbEJ5VG9rZW5cIl0pLFxufVxuXG5hc3luYyBmdW5jdGlvbiBlbmRwb2ludChpZCwgLi4uYXJncykge1xuICBjb25zdCBhY3Rpb24gPSBhd2FpdCBhY3Rpb25zW2lkXSgpXG4gIHJldHVybiBhY3Rpb24uYXBwbHkobnVsbCwgYXJncylcbn1cblxuLy8gVXNpbmcgQ0pTIHRvIGF2b2lkIHRoaXMgdG8gYmUgdHJlZS1zaGFrZW4gYXdheSBkdWUgdG8gdW51c2VkIGV4cG9ydHMuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgJzIzNjhmY2U1MTZiNzk3ZDNlZDQ0NGU5MmVhNTAwZTk3ZDE3ZmUxMDYnOiBlbmRwb2ludC5iaW5kKG51bGwsICcyMzY4ZmNlNTE2Yjc5N2QzZWQ0NDRlOTJlYTUwMGU5N2QxN2ZlMTA2JyksXG4gICc1NzEwZGVhZmIwN2JiN2RlNmUzYWI3YzI2YWYyZTVhZTYwNzEzOTUzJzogZW5kcG9pbnQuYmluZChudWxsLCAnNTcxMGRlYWZiMDdiYjdkZTZlM2FiN2MyNmFmMmU1YWU2MDcxMzk1MycpLFxuICAnZjUxNTQ0MGUzYzA4ZmFhZmQxNzE5MmMzYzUxZDZlMTVhYWVkNmIwNSc6IGVuZHBvaW50LmJpbmQobnVsbCwgJ2Y1MTU0NDBlM2MwOGZhYWZkMTcxOTJjM2M1MWQ2ZTE1YWFlZDZiMDUnKSxcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/../../node_modules/next/dist/build/webpack/loaders/next-flight-action-entry-loader.js?actions=%5B%5B%22%2FUsers%2Fantonlozkin%2FDocuments%2Fobsidian-website%2Fapps%2Fdashboard%2Fsrc%2Fapp%2Fverify-email%2Factions.ts%22%2C%5B%22verifyEmailAction%22%2C%22resendVerificationAction%22%2C%22verifyEmailByToken%22%5D%5D%5D&__client_imported__=true!\n");

/***/ }),

/***/ "(ssr)/../../node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fantonlozkin%2FDocuments%2Fobsidian-website%2Fapps%2Fdashboard%2Fsrc%2Fapp%2Fdashboard%2Flayout.module.css%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fantonlozkin%2FDocuments%2Fobsidian-website%2Fapps%2Fdashboard%2Fsrc%2Fcomponents%2FVerifyBanner.tsx%22%2C%22ids%22%3A%5B%22VerifyBanner%22%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fantonlozkin%2FDocuments%2Fobsidian-website%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Flink.js%22%2C%22ids%22%3A%5B%22*%22%5D%7D&server=true!":
/*!********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fantonlozkin%2FDocuments%2Fobsidian-website%2Fapps%2Fdashboard%2Fsrc%2Fapp%2Fdashboard%2Flayout.module.css%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fantonlozkin%2FDocuments%2Fobsidian-website%2Fapps%2Fdashboard%2Fsrc%2Fcomponents%2FVerifyBanner.tsx%22%2C%22ids%22%3A%5B%22VerifyBanner%22%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fantonlozkin%2FDocuments%2Fobsidian-website%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Flink.js%22%2C%22ids%22%3A%5B%22*%22%5D%7D&server=true! ***!
  \********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./src/components/VerifyBanner.tsx */ \"(ssr)/./src/components/VerifyBanner.tsx\"));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ../../node_modules/next/dist/client/link.js */ \"(ssr)/../../node_modules/next/dist/client/link.js\", 23));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9idWlsZC93ZWJwYWNrL2xvYWRlcnMvbmV4dC1mbGlnaHQtY2xpZW50LWVudHJ5LWxvYWRlci5qcz9tb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjIlMkZVc2VycyUyRmFudG9ubG96a2luJTJGRG9jdW1lbnRzJTJGb2JzaWRpYW4td2Vic2l0ZSUyRmFwcHMlMkZkYXNoYm9hcmQlMkZzcmMlMkZhcHAlMkZkYXNoYm9hcmQlMkZsYXlvdXQubW9kdWxlLmNzcyUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZtb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjIlMkZVc2VycyUyRmFudG9ubG96a2luJTJGRG9jdW1lbnRzJTJGb2JzaWRpYW4td2Vic2l0ZSUyRmFwcHMlMkZkYXNoYm9hcmQlMkZzcmMlMkZjb21wb25lbnRzJTJGVmVyaWZ5QmFubmVyLnRzeCUyMiUyQyUyMmlkcyUyMiUzQSU1QiUyMlZlcmlmeUJhbm5lciUyMiU1RCU3RCZtb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjIlMkZVc2VycyUyRmFudG9ubG96a2luJTJGRG9jdW1lbnRzJTJGb2JzaWRpYW4td2Vic2l0ZSUyRm5vZGVfbW9kdWxlcyUyRm5leHQlMkZkaXN0JTJGY2xpZW50JTJGbGluay5qcyUyMiUyQyUyMmlkcyUyMiUzQSU1QiUyMiolMjIlNUQlN0Qmc2VydmVyPXRydWUhIiwibWFwcGluZ3MiOiJBQUFBLDhLQUFtSztBQUNuSztBQUNBLHdNQUF3SCIsInNvdXJjZXMiOlsid2VicGFjazovL0Bub3RlcHViL2Rhc2hib2FyZC8/NzNjOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiwgd2VicGFja0V4cG9ydHM6IFtcIlZlcmlmeUJhbm5lclwiXSAqLyBcIi9Vc2Vycy9hbnRvbmxvemtpbi9Eb2N1bWVudHMvb2JzaWRpYW4td2Vic2l0ZS9hcHBzL2Rhc2hib2FyZC9zcmMvY29tcG9uZW50cy9WZXJpZnlCYW5uZXIudHN4XCIpO1xuO1xuaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCIvVXNlcnMvYW50b25sb3praW4vRG9jdW1lbnRzL29ic2lkaWFuLXdlYnNpdGUvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jbGllbnQvbGluay5qc1wiKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fantonlozkin%2FDocuments%2Fobsidian-website%2Fapps%2Fdashboard%2Fsrc%2Fapp%2Fdashboard%2Flayout.module.css%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fantonlozkin%2FDocuments%2Fobsidian-website%2Fapps%2Fdashboard%2Fsrc%2Fcomponents%2FVerifyBanner.tsx%22%2C%22ids%22%3A%5B%22VerifyBanner%22%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fantonlozkin%2FDocuments%2Fobsidian-website%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Flink.js%22%2C%22ids%22%3A%5B%22*%22%5D%7D&server=true!\n");

/***/ }),

/***/ "(ssr)/../../node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fantonlozkin%2FDocuments%2Fobsidian-website%2Fapps%2Fdashboard%2Fsrc%2Fapp%2Fdashboard%2Fsites%2Fsites.module.css%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fantonlozkin%2FDocuments%2Fobsidian-website%2Fapps%2Fdashboard%2Fsrc%2Fcomponents%2FCreateSiteButton.tsx%22%2C%22ids%22%3A%5B%22CreateSiteButton%22%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fantonlozkin%2FDocuments%2Fobsidian-website%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Flink.js%22%2C%22ids%22%3A%5B%22*%22%5D%7D&server=true!":
/*!***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fantonlozkin%2FDocuments%2Fobsidian-website%2Fapps%2Fdashboard%2Fsrc%2Fapp%2Fdashboard%2Fsites%2Fsites.module.css%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fantonlozkin%2FDocuments%2Fobsidian-website%2Fapps%2Fdashboard%2Fsrc%2Fcomponents%2FCreateSiteButton.tsx%22%2C%22ids%22%3A%5B%22CreateSiteButton%22%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fantonlozkin%2FDocuments%2Fobsidian-website%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Flink.js%22%2C%22ids%22%3A%5B%22*%22%5D%7D&server=true! ***!
  \***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./src/components/CreateSiteButton.tsx */ \"(ssr)/./src/components/CreateSiteButton.tsx\"));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ../../node_modules/next/dist/client/link.js */ \"(ssr)/../../node_modules/next/dist/client/link.js\", 23));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9idWlsZC93ZWJwYWNrL2xvYWRlcnMvbmV4dC1mbGlnaHQtY2xpZW50LWVudHJ5LWxvYWRlci5qcz9tb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjIlMkZVc2VycyUyRmFudG9ubG96a2luJTJGRG9jdW1lbnRzJTJGb2JzaWRpYW4td2Vic2l0ZSUyRmFwcHMlMkZkYXNoYm9hcmQlMkZzcmMlMkZhcHAlMkZkYXNoYm9hcmQlMkZzaXRlcyUyRnNpdGVzLm1vZHVsZS5jc3MlMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyJTJGVXNlcnMlMkZhbnRvbmxvemtpbiUyRkRvY3VtZW50cyUyRm9ic2lkaWFuLXdlYnNpdGUlMkZhcHBzJTJGZGFzaGJvYXJkJTJGc3JjJTJGY29tcG9uZW50cyUyRkNyZWF0ZVNpdGVCdXR0b24udHN4JTIyJTJDJTIyaWRzJTIyJTNBJTVCJTIyQ3JlYXRlU2l0ZUJ1dHRvbiUyMiU1RCU3RCZtb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjIlMkZVc2VycyUyRmFudG9ubG96a2luJTJGRG9jdW1lbnRzJTJGb2JzaWRpYW4td2Vic2l0ZSUyRm5vZGVfbW9kdWxlcyUyRm5leHQlMkZkaXN0JTJGY2xpZW50JTJGbGluay5qcyUyMiUyQyUyMmlkcyUyMiUzQSU1QiUyMiolMjIlNUQlN0Qmc2VydmVyPXRydWUhIiwibWFwcGluZ3MiOiJBQUFBLHNMQUEySztBQUMzSztBQUNBLHdNQUF3SCIsInNvdXJjZXMiOlsid2VicGFjazovL0Bub3RlcHViL2Rhc2hib2FyZC8/YjE4YSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiwgd2VicGFja0V4cG9ydHM6IFtcIkNyZWF0ZVNpdGVCdXR0b25cIl0gKi8gXCIvVXNlcnMvYW50b25sb3praW4vRG9jdW1lbnRzL29ic2lkaWFuLXdlYnNpdGUvYXBwcy9kYXNoYm9hcmQvc3JjL2NvbXBvbmVudHMvQ3JlYXRlU2l0ZUJ1dHRvbi50c3hcIik7XG47XG5pbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi9Vc2Vycy9hbnRvbmxvemtpbi9Eb2N1bWVudHMvb2JzaWRpYW4td2Vic2l0ZS9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2NsaWVudC9saW5rLmpzXCIpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fantonlozkin%2FDocuments%2Fobsidian-website%2Fapps%2Fdashboard%2Fsrc%2Fapp%2Fdashboard%2Fsites%2Fsites.module.css%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fantonlozkin%2FDocuments%2Fobsidian-website%2Fapps%2Fdashboard%2Fsrc%2Fcomponents%2FCreateSiteButton.tsx%22%2C%22ids%22%3A%5B%22CreateSiteButton%22%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fantonlozkin%2FDocuments%2Fobsidian-website%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Flink.js%22%2C%22ids%22%3A%5B%22*%22%5D%7D&server=true!\n");

/***/ }),

/***/ "(ssr)/../../node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fantonlozkin%2FDocuments%2Fobsidian-website%2Fapps%2Fdashboard%2Fsrc%2Fapp%2Fglobals.css%22%2C%22ids%22%3A%5B%5D%7D&server=true!":
/*!**********************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fantonlozkin%2FDocuments%2Fobsidian-website%2Fapps%2Fdashboard%2Fsrc%2Fapp%2Fglobals.css%22%2C%22ids%22%3A%5B%5D%7D&server=true! ***!
  \**********************************************************************************************************************************************************************************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(ssr)/../../node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fantonlozkin%2FDocuments%2Fobsidian-website%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fapp-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fantonlozkin%2FDocuments%2Fobsidian-website%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fclient-page.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fantonlozkin%2FDocuments%2Fobsidian-website%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Ferror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fantonlozkin%2FDocuments%2Fobsidian-website%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Flayout-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fantonlozkin%2FDocuments%2Fobsidian-website%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fnot-found-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fantonlozkin%2FDocuments%2Fobsidian-website%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Frender-from-template-context.js%22%2C%22ids%22%3A%5B%5D%7D&server=true!":
/*!********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fantonlozkin%2FDocuments%2Fobsidian-website%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fapp-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fantonlozkin%2FDocuments%2Fobsidian-website%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fclient-page.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fantonlozkin%2FDocuments%2Fobsidian-website%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Ferror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fantonlozkin%2FDocuments%2Fobsidian-website%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Flayout-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fantonlozkin%2FDocuments%2Fobsidian-website%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fnot-found-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fantonlozkin%2FDocuments%2Fobsidian-website%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Frender-from-template-context.js%22%2C%22ids%22%3A%5B%5D%7D&server=true! ***!
  \********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ../../node_modules/next/dist/client/components/app-router.js */ \"(ssr)/../../node_modules/next/dist/client/components/app-router.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ../../node_modules/next/dist/client/components/client-page.js */ \"(ssr)/../../node_modules/next/dist/client/components/client-page.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ../../node_modules/next/dist/client/components/error-boundary.js */ \"(ssr)/../../node_modules/next/dist/client/components/error-boundary.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ../../node_modules/next/dist/client/components/layout-router.js */ \"(ssr)/../../node_modules/next/dist/client/components/layout-router.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ../../node_modules/next/dist/client/components/not-found-boundary.js */ \"(ssr)/../../node_modules/next/dist/client/components/not-found-boundary.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ../../node_modules/next/dist/client/components/render-from-template-context.js */ \"(ssr)/../../node_modules/next/dist/client/components/render-from-template-context.js\", 23));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9idWlsZC93ZWJwYWNrL2xvYWRlcnMvbmV4dC1mbGlnaHQtY2xpZW50LWVudHJ5LWxvYWRlci5qcz9tb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjIlMkZVc2VycyUyRmFudG9ubG96a2luJTJGRG9jdW1lbnRzJTJGb2JzaWRpYW4td2Vic2l0ZSUyRm5vZGVfbW9kdWxlcyUyRm5leHQlMkZkaXN0JTJGY2xpZW50JTJGY29tcG9uZW50cyUyRmFwcC1yb3V0ZXIuanMlMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyJTJGVXNlcnMlMkZhbnRvbmxvemtpbiUyRkRvY3VtZW50cyUyRm9ic2lkaWFuLXdlYnNpdGUlMkZub2RlX21vZHVsZXMlMkZuZXh0JTJGZGlzdCUyRmNsaWVudCUyRmNvbXBvbmVudHMlMkZjbGllbnQtcGFnZS5qcyUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZtb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjIlMkZVc2VycyUyRmFudG9ubG96a2luJTJGRG9jdW1lbnRzJTJGb2JzaWRpYW4td2Vic2l0ZSUyRm5vZGVfbW9kdWxlcyUyRm5leHQlMkZkaXN0JTJGY2xpZW50JTJGY29tcG9uZW50cyUyRmVycm9yLWJvdW5kYXJ5LmpzJTIyJTJDJTIyaWRzJTIyJTNBJTVCJTVEJTdEJm1vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMiUyRlVzZXJzJTJGYW50b25sb3praW4lMkZEb2N1bWVudHMlMkZvYnNpZGlhbi13ZWJzaXRlJTJGbm9kZV9tb2R1bGVzJTJGbmV4dCUyRmRpc3QlMkZjbGllbnQlMkZjb21wb25lbnRzJTJGbGF5b3V0LXJvdXRlci5qcyUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZtb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjIlMkZVc2VycyUyRmFudG9ubG96a2luJTJGRG9jdW1lbnRzJTJGb2JzaWRpYW4td2Vic2l0ZSUyRm5vZGVfbW9kdWxlcyUyRm5leHQlMkZkaXN0JTJGY2xpZW50JTJGY29tcG9uZW50cyUyRm5vdC1mb3VuZC1ib3VuZGFyeS5qcyUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZtb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjIlMkZVc2VycyUyRmFudG9ubG96a2luJTJGRG9jdW1lbnRzJTJGb2JzaWRpYW4td2Vic2l0ZSUyRm5vZGVfbW9kdWxlcyUyRm5leHQlMkZkaXN0JTJGY2xpZW50JTJGY29tcG9uZW50cyUyRnJlbmRlci1mcm9tLXRlbXBsYXRlLWNvbnRleHQuanMlMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0Qmc2VydmVyPXRydWUhIiwibWFwcGluZ3MiOiJBQUFBLDBPQUF5STtBQUN6STtBQUNBLDRPQUEwSTtBQUMxSTtBQUNBLGtQQUE2STtBQUM3STtBQUNBLGdQQUE0STtBQUM1STtBQUNBLDBQQUFpSjtBQUNqSjtBQUNBLDhRQUEySiIsInNvdXJjZXMiOlsid2VicGFjazovL0Bub3RlcHViL2Rhc2hib2FyZC8/NTM5YyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi9Vc2Vycy9hbnRvbmxvemtpbi9Eb2N1bWVudHMvb2JzaWRpYW4td2Vic2l0ZS9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2NsaWVudC9jb21wb25lbnRzL2FwcC1yb3V0ZXIuanNcIik7XG47XG5pbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi9Vc2Vycy9hbnRvbmxvemtpbi9Eb2N1bWVudHMvb2JzaWRpYW4td2Vic2l0ZS9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2NsaWVudC9jb21wb25lbnRzL2NsaWVudC1wYWdlLmpzXCIpO1xuO1xuaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCIvVXNlcnMvYW50b25sb3praW4vRG9jdW1lbnRzL29ic2lkaWFuLXdlYnNpdGUvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9lcnJvci1ib3VuZGFyeS5qc1wiKTtcbjtcbmltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiL1VzZXJzL2FudG9ubG96a2luL0RvY3VtZW50cy9vYnNpZGlhbi13ZWJzaXRlL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvbGF5b3V0LXJvdXRlci5qc1wiKTtcbjtcbmltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiL1VzZXJzL2FudG9ubG96a2luL0RvY3VtZW50cy9vYnNpZGlhbi13ZWJzaXRlL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvbm90LWZvdW5kLWJvdW5kYXJ5LmpzXCIpO1xuO1xuaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCIvVXNlcnMvYW50b25sb3praW4vRG9jdW1lbnRzL29ic2lkaWFuLXdlYnNpdGUvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9yZW5kZXItZnJvbS10ZW1wbGF0ZS1jb250ZXh0LmpzXCIpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fantonlozkin%2FDocuments%2Fobsidian-website%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fapp-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fantonlozkin%2FDocuments%2Fobsidian-website%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fclient-page.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fantonlozkin%2FDocuments%2Fobsidian-website%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Ferror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fantonlozkin%2FDocuments%2Fobsidian-website%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Flayout-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fantonlozkin%2FDocuments%2Fobsidian-website%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fnot-found-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fantonlozkin%2FDocuments%2Fobsidian-website%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Frender-from-template-context.js%22%2C%22ids%22%3A%5B%5D%7D&server=true!\n");

/***/ }),

/***/ "(ssr)/./src/app/verify-email/actions.ts":
/*!*****************************************!*\
  !*** ./src/app/verify-email/actions.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   resendVerificationAction: () => (/* binding */ resendVerificationAction),
/* harmony export */   verifyEmailAction: () => (/* binding */ verifyEmailAction),
/* harmony export */   verifyEmailByToken: () => (/* binding */ verifyEmailByToken)
/* harmony export */ });
/* harmony import */ var next_dist_client_app_call_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/client/app-call-server */ "(ssr)/../../node_modules/next/dist/client/app-call-server.js");
/* harmony import */ var next_dist_client_app_call_server__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_client_app_call_server__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! private-next-rsc-action-client-wrapper */ "(ssr)/../../node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js");



function __build_action__(action, args) {
  return (0,next_dist_client_app_call_server__WEBPACK_IMPORTED_MODULE_0__.callServer)(action.$$id, args)
}

/* __next_internal_action_entry_do_not_use__ {"2368fce516b797d3ed444e92ea500e97d17fe106":"verifyEmailAction","5710deafb07bb7de6e3ab7c26af2e5ae60713953":"resendVerificationAction","f515440e3c08faafd17192c3c51d6e15aaed6b05":"verifyEmailByToken"} */ var verifyEmailByToken = (0,private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_1__.createServerReference)("f515440e3c08faafd17192c3c51d6e15aaed6b05");

var resendVerificationAction = (0,private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_1__.createServerReference)("5710deafb07bb7de6e3ab7c26af2e5ae60713953");
var verifyEmailAction = (0,private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_1__.createServerReference)("2368fce516b797d3ed444e92ea500e97d17fe106");



/***/ }),

/***/ "(ssr)/./src/components/CreateSiteButton.tsx":
/*!*********************************************!*\
  !*** ./src/components/CreateSiteButton.tsx ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CreateSiteButton: () => (/* binding */ CreateSiteButton)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/../../node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/link */ \"(ssr)/../../node_modules/next/dist/api/link.js\");\n/* harmony import */ var _app_dashboard_sites_sites_module_css__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/app/dashboard/sites/sites.module.css */ \"(ssr)/./src/app/dashboard/sites/sites.module.css\");\n/* harmony import */ var _app_dashboard_sites_sites_module_css__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_app_dashboard_sites_sites_module_css__WEBPACK_IMPORTED_MODULE_2__);\n/* __next_internal_client_entry_do_not_use__ CreateSiteButton auto */ \n\n\nfunction CreateSiteButton({ canCreate }) {\n    if (canCreate) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_link__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {\n            className: (_app_dashboard_sites_sites_module_css__WEBPACK_IMPORTED_MODULE_2___default().primary),\n            href: \"/dashboard/sites/new\",\n            children: \" \"\n        }, void 0, false, {\n            fileName: \"/Users/antonlozkin/Documents/obsidian-website/apps/dashboard/src/components/CreateSiteButton.tsx\",\n            lineNumber: 9,\n            columnNumber: 7\n        }, this);\n    }\n    const onClick = ()=>{\n        alert(\": 1   .    .\");\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n        type: \"button\",\n        className: (_app_dashboard_sites_sites_module_css__WEBPACK_IMPORTED_MODULE_2___default().primary),\n        onClick: onClick,\n        \"aria-label\": \" \",\n        children: \" \"\n    }, void 0, false, {\n        fileName: \"/Users/antonlozkin/Documents/obsidian-website/apps/dashboard/src/components/CreateSiteButton.tsx\",\n        lineNumber: 20,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvY29tcG9uZW50cy9DcmVhdGVTaXRlQnV0dG9uLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBRTZCO0FBQytCO0FBRXJELFNBQVNFLGlCQUFpQixFQUFFQyxTQUFTLEVBQTBCO0lBQ3BFLElBQUlBLFdBQVc7UUFDYixxQkFDRSw4REFBQ0gsaURBQUlBO1lBQUNJLFdBQVdILHNGQUFjO1lBQUVLLE1BQUs7c0JBQXVCOzs7Ozs7SUFJakU7SUFFQSxNQUFNQyxVQUFVO1FBQ2RDLE1BQU07SUFDUjtJQUVBLHFCQUNFLDhEQUFDQztRQUFPQyxNQUFLO1FBQVNOLFdBQVdILHNGQUFjO1FBQUVNLFNBQVNBO1FBQVNJLGNBQVc7a0JBQWU7Ozs7OztBQUlqRyIsInNvdXJjZXMiOlsid2VicGFjazovL0Bub3RlcHViL2Rhc2hib2FyZC8uL3NyYy9jb21wb25lbnRzL0NyZWF0ZVNpdGVCdXR0b24udHN4P2M1YTEiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCBMaW5rIGZyb20gXCJuZXh0L2xpbmtcIjtcbmltcG9ydCBzdHlsZXMgZnJvbSBcIkAvYXBwL2Rhc2hib2FyZC9zaXRlcy9zaXRlcy5tb2R1bGUuY3NzXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBDcmVhdGVTaXRlQnV0dG9uKHsgY2FuQ3JlYXRlIH06IHsgY2FuQ3JlYXRlOiBib29sZWFuIH0pIHtcbiAgaWYgKGNhbkNyZWF0ZSkge1xuICAgIHJldHVybiAoXG4gICAgICA8TGluayBjbGFzc05hbWU9e3N0eWxlcy5wcmltYXJ5fSBocmVmPVwiL2Rhc2hib2FyZC9zaXRlcy9uZXdcIj5cbiAgICAgICAg0J3QvtCy0YvQuSDRgdCw0LnRglxuICAgICAgPC9MaW5rPlxuICAgICk7XG4gIH1cblxuICBjb25zdCBvbkNsaWNrID0gKCkgPT4ge1xuICAgIGFsZXJ0KFwi0JvQuNC80LjRgjogMSDRgdCw0LnRgiDQvdCwINC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRjy4g0KHQutC+0YDQviDQtNC+0LHQsNCy0LjQvCDQv9C70LDRgtC90YvQtSDQv9C70LDQvdGLLlwiKTtcbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT17c3R5bGVzLnByaW1hcnl9IG9uQ2xpY2s9e29uQ2xpY2t9IGFyaWEtbGFiZWw9XCLQm9C40LzQuNGCINGB0LDQudGC0L7QslwiPlxuICAgICAg0J3QvtCy0YvQuSDRgdCw0LnRglxuICAgIDwvYnV0dG9uPlxuICApO1xufVxuIl0sIm5hbWVzIjpbIkxpbmsiLCJzdHlsZXMiLCJDcmVhdGVTaXRlQnV0dG9uIiwiY2FuQ3JlYXRlIiwiY2xhc3NOYW1lIiwicHJpbWFyeSIsImhyZWYiLCJvbkNsaWNrIiwiYWxlcnQiLCJidXR0b24iLCJ0eXBlIiwiYXJpYS1sYWJlbCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./src/components/CreateSiteButton.tsx\n");

/***/ }),

/***/ "(ssr)/./src/components/VerifyBanner.tsx":
/*!*****************************************!*\
  !*** ./src/components/VerifyBanner.tsx ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   VerifyBanner: () => (/* binding */ VerifyBanner)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/../../node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/../../node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _app_verify_email_actions__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/app/verify-email/actions */ \"(ssr)/./src/app/verify-email/actions.ts\");\n/* harmony import */ var _app_dashboard_layout_module_css__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/app/dashboard/layout.module.css */ \"(ssr)/./src/app/dashboard/layout.module.css\");\n/* harmony import */ var _app_dashboard_layout_module_css__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_app_dashboard_layout_module_css__WEBPACK_IMPORTED_MODULE_3__);\n/* __next_internal_client_entry_do_not_use__ VerifyBanner auto */ \n\n\n\nfunction VerifyBanner({ email, verified }) {\n    const [pending, startTransition] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useTransition)();\n    const [status, setStatus] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"idle\");\n    const [message, setMessage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    if (verified) return null;\n    const onSend = ()=>{\n        startTransition(async ()=>{\n            const res = await (0,_app_verify_email_actions__WEBPACK_IMPORTED_MODULE_2__.resendVerificationAction)();\n            if (res.error) {\n                setStatus(\"error\");\n                setMessage(res.error);\n            } else {\n                setStatus(\"sent\");\n                setMessage(res.success || \"\");\n            }\n        });\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: (_app_dashboard_layout_module_css__WEBPACK_IMPORTED_MODULE_3___default().banner),\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                children: [\n                    \" email \",\n                    email,\n                    \".       .\"\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/antonlozkin/Documents/obsidian-website/apps/dashboard/src/components/VerifyBanner.tsx\",\n                lineNumber: 29,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                className: (_app_dashboard_layout_module_css__WEBPACK_IMPORTED_MODULE_3___default().bannerButton),\n                onClick: onSend,\n                disabled: pending,\n                children: pending ? \"...\" : status === \"sent\" ? \"\" : \" \"\n            }, void 0, false, {\n                fileName: \"/Users/antonlozkin/Documents/obsidian-website/apps/dashboard/src/components/VerifyBanner.tsx\",\n                lineNumber: 32,\n                columnNumber: 7\n            }, this),\n            message && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                children: message\n            }, void 0, false, {\n                fileName: \"/Users/antonlozkin/Documents/obsidian-website/apps/dashboard/src/components/VerifyBanner.tsx\",\n                lineNumber: 35,\n                columnNumber: 19\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/antonlozkin/Documents/obsidian-website/apps/dashboard/src/components/VerifyBanner.tsx\",\n        lineNumber: 28,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvY29tcG9uZW50cy9WZXJpZnlCYW5uZXIudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUVnRDtBQUNzQjtBQUNmO0FBRWhELFNBQVNJLGFBQWEsRUFBRUMsS0FBSyxFQUFFQyxRQUFRLEVBQXdDO0lBQ3BGLE1BQU0sQ0FBQ0MsU0FBU0MsZ0JBQWdCLEdBQUdSLG9EQUFhQTtJQUNoRCxNQUFNLENBQUNTLFFBQVFDLFVBQVUsR0FBR1QsK0NBQVFBLENBQTRCO0lBQ2hFLE1BQU0sQ0FBQ1UsU0FBU0MsV0FBVyxHQUFHWCwrQ0FBUUEsQ0FBUztJQUUvQyxJQUFJSyxVQUFVLE9BQU87SUFFckIsTUFBTU8sU0FBUztRQUNiTCxnQkFBZ0I7WUFDZCxNQUFNTSxNQUFNLE1BQU1aLG1GQUF3QkE7WUFDMUMsSUFBSVksSUFBSUMsS0FBSyxFQUFFO2dCQUNiTCxVQUFVO2dCQUNWRSxXQUFXRSxJQUFJQyxLQUFLO1lBQ3RCLE9BQU87Z0JBQ0xMLFVBQVU7Z0JBQ1ZFLFdBQVdFLElBQUlFLE9BQU8sSUFBSTtZQUM1QjtRQUNGO0lBQ0Y7SUFFQSxxQkFDRSw4REFBQ0M7UUFBSUMsV0FBV2YsZ0ZBQWE7OzBCQUMzQiw4REFBQ2lCOztvQkFBSztvQkFDZWY7b0JBQU07Ozs7Ozs7MEJBRTNCLDhEQUFDZ0I7Z0JBQU9ILFdBQVdmLHNGQUFtQjtnQkFBRW9CLFNBQVNWO2dCQUFRVyxVQUFVakI7MEJBQ2hFQSxVQUFVLGtCQUFrQkUsV0FBVyxTQUFTLGVBQWU7Ozs7OztZQUVqRUUseUJBQVcsOERBQUNTOzBCQUFNVDs7Ozs7Ozs7Ozs7O0FBR3pCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQG5vdGVwdWIvZGFzaGJvYXJkLy4vc3JjL2NvbXBvbmVudHMvVmVyaWZ5QmFubmVyLnRzeD9lNTNmIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgeyB1c2VUcmFuc2l0aW9uLCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgcmVzZW5kVmVyaWZpY2F0aW9uQWN0aW9uIH0gZnJvbSBcIkAvYXBwL3ZlcmlmeS1lbWFpbC9hY3Rpb25zXCI7XG5pbXBvcnQgc3R5bGVzIGZyb20gXCJAL2FwcC9kYXNoYm9hcmQvbGF5b3V0Lm1vZHVsZS5jc3NcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIFZlcmlmeUJhbm5lcih7IGVtYWlsLCB2ZXJpZmllZCB9OiB7IGVtYWlsOiBzdHJpbmc7IHZlcmlmaWVkOiBib29sZWFuIH0pIHtcbiAgY29uc3QgW3BlbmRpbmcsIHN0YXJ0VHJhbnNpdGlvbl0gPSB1c2VUcmFuc2l0aW9uKCk7XG4gIGNvbnN0IFtzdGF0dXMsIHNldFN0YXR1c10gPSB1c2VTdGF0ZTxcImlkbGVcIiB8IFwic2VudFwiIHwgXCJlcnJvclwiPihcImlkbGVcIik7XG4gIGNvbnN0IFttZXNzYWdlLCBzZXRNZXNzYWdlXSA9IHVzZVN0YXRlPHN0cmluZz4oXCJcIik7XG5cbiAgaWYgKHZlcmlmaWVkKSByZXR1cm4gbnVsbDtcblxuICBjb25zdCBvblNlbmQgPSAoKSA9PiB7XG4gICAgc3RhcnRUcmFuc2l0aW9uKGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHJlc2VuZFZlcmlmaWNhdGlvbkFjdGlvbigpO1xuICAgICAgaWYgKHJlcy5lcnJvcikge1xuICAgICAgICBzZXRTdGF0dXMoXCJlcnJvclwiKTtcbiAgICAgICAgc2V0TWVzc2FnZShyZXMuZXJyb3IpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2V0U3RhdHVzKFwic2VudFwiKTtcbiAgICAgICAgc2V0TWVzc2FnZShyZXMuc3VjY2VzcyB8fCBcIlwiKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMuYmFubmVyfT5cbiAgICAgIDxzcGFuPlxuICAgICAgICDQn9C+0LTRgtCy0LXRgNC00LjRgtC1IGVtYWlsIHtlbWFpbH0uINCS0LLQtdC00LjRgtC1INC60L7QtCDQuNC3INC/0LjRgdGM0LzQsCDQuNC70Lgg0LfQsNC/0YDQvtGB0LjRgtC1INC90L7QstGL0LkuXG4gICAgICA8L3NwYW4+XG4gICAgICA8YnV0dG9uIGNsYXNzTmFtZT17c3R5bGVzLmJhbm5lckJ1dHRvbn0gb25DbGljaz17b25TZW5kfSBkaXNhYmxlZD17cGVuZGluZ30+XG4gICAgICAgIHtwZW5kaW5nID8gXCLQntGC0L/RgNCw0LLQu9GP0LXQvC4uLlwiIDogc3RhdHVzID09PSBcInNlbnRcIiA/IFwi0J7RgtC/0YDQsNCy0LvQtdC90L5cIiA6IFwi0J7RgtC/0YDQsNCy0LjRgtGMINC60L7QtFwifVxuICAgICAgPC9idXR0b24+XG4gICAgICB7bWVzc2FnZSAmJiA8c3Bhbj57bWVzc2FnZX08L3NwYW4+fVxuICAgIDwvZGl2PlxuICApO1xufVxuIl0sIm5hbWVzIjpbInVzZVRyYW5zaXRpb24iLCJ1c2VTdGF0ZSIsInJlc2VuZFZlcmlmaWNhdGlvbkFjdGlvbiIsInN0eWxlcyIsIlZlcmlmeUJhbm5lciIsImVtYWlsIiwidmVyaWZpZWQiLCJwZW5kaW5nIiwic3RhcnRUcmFuc2l0aW9uIiwic3RhdHVzIiwic2V0U3RhdHVzIiwibWVzc2FnZSIsInNldE1lc3NhZ2UiLCJvblNlbmQiLCJyZXMiLCJlcnJvciIsInN1Y2Nlc3MiLCJkaXYiLCJjbGFzc05hbWUiLCJiYW5uZXIiLCJzcGFuIiwiYnV0dG9uIiwiYmFubmVyQnV0dG9uIiwib25DbGljayIsImRpc2FibGVkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./src/components/VerifyBanner.tsx\n");

/***/ }),

/***/ "(rsc)/./src/app/globals.css":
/*!*****************************!*\
  !*** ./src/app/globals.css ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"7bb87ba1de14\");\nif (false) {}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2dsb2JhbHMuY3NzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQSxpRUFBZSxjQUFjO0FBQzdCLElBQUksS0FBVSxFQUFFLEVBQXVCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQG5vdGVwdWIvZGFzaGJvYXJkLy4vc3JjL2FwcC9nbG9iYWxzLmNzcz9jZDNjIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IFwiN2JiODdiYTFkZTE0XCJcbmlmIChtb2R1bGUuaG90KSB7IG1vZHVsZS5ob3QuYWNjZXB0KCkgfVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/app/globals.css\n");

/***/ }),

/***/ "(rsc)/./src/app/dashboard/layout.module.css":
/*!*********************************************!*\
  !*** ./src/app/dashboard/layout.module.css ***!
  \*********************************************/
/***/ ((module) => {

eval("// Exports\nmodule.exports = {\n\t\"shell\": \"layout_shell__k30wC\",\n\t\"header\": \"layout_header__NmuR0\",\n\t\"brand\": \"layout_brand__umhlZ\",\n\t\"nav\": \"layout_nav__QiydH\",\n\t\"user\": \"layout_user__lEKG9\",\n\t\"main\": \"layout_main__Gm60I\",\n\t\"banner\": \"layout_banner__NghRC\",\n\t\"bannerButton\": \"layout_bannerButton__85dXF\"\n};\n\nmodule.exports.__checksum = \"d855c7812235\"\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2Rhc2hib2FyZC9sYXlvdXQubW9kdWxlLmNzcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHlCQUF5QiIsInNvdXJjZXMiOlsid2VicGFjazovL0Bub3RlcHViL2Rhc2hib2FyZC8uL3NyYy9hcHAvZGFzaGJvYXJkL2xheW91dC5tb2R1bGUuY3NzP2M2OGEiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gRXhwb3J0c1xubW9kdWxlLmV4cG9ydHMgPSB7XG5cdFwic2hlbGxcIjogXCJsYXlvdXRfc2hlbGxfX2szMHdDXCIsXG5cdFwiaGVhZGVyXCI6IFwibGF5b3V0X2hlYWRlcl9fTm11UjBcIixcblx0XCJicmFuZFwiOiBcImxheW91dF9icmFuZF9fdW1obFpcIixcblx0XCJuYXZcIjogXCJsYXlvdXRfbmF2X19RaXlkSFwiLFxuXHRcInVzZXJcIjogXCJsYXlvdXRfdXNlcl9fbEVLRzlcIixcblx0XCJtYWluXCI6IFwibGF5b3V0X21haW5fX0dtNjBJXCIsXG5cdFwiYmFubmVyXCI6IFwibGF5b3V0X2Jhbm5lcl9fTmdoUkNcIixcblx0XCJiYW5uZXJCdXR0b25cIjogXCJsYXlvdXRfYmFubmVyQnV0dG9uX184NWRYRlwiXG59O1xuXG5tb2R1bGUuZXhwb3J0cy5fX2NoZWNrc3VtID0gXCJkODU1Yzc4MTIyMzVcIlxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/app/dashboard/layout.module.css\n");

/***/ }),

/***/ "(ssr)/./src/app/dashboard/layout.module.css":
/*!*********************************************!*\
  !*** ./src/app/dashboard/layout.module.css ***!
  \*********************************************/
/***/ ((module) => {

eval("// Exports\nmodule.exports = {\n\t\"shell\": \"layout_shell__k30wC\",\n\t\"header\": \"layout_header__NmuR0\",\n\t\"brand\": \"layout_brand__umhlZ\",\n\t\"nav\": \"layout_nav__QiydH\",\n\t\"user\": \"layout_user__lEKG9\",\n\t\"main\": \"layout_main__Gm60I\",\n\t\"banner\": \"layout_banner__NghRC\",\n\t\"bannerButton\": \"layout_bannerButton__85dXF\"\n};\n\nmodule.exports.__checksum = \"d855c7812235\"\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvYXBwL2Rhc2hib2FyZC9sYXlvdXQubW9kdWxlLmNzcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHlCQUF5QiIsInNvdXJjZXMiOlsid2VicGFjazovL0Bub3RlcHViL2Rhc2hib2FyZC8uL3NyYy9hcHAvZGFzaGJvYXJkL2xheW91dC5tb2R1bGUuY3NzP2YxZTEiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gRXhwb3J0c1xubW9kdWxlLmV4cG9ydHMgPSB7XG5cdFwic2hlbGxcIjogXCJsYXlvdXRfc2hlbGxfX2szMHdDXCIsXG5cdFwiaGVhZGVyXCI6IFwibGF5b3V0X2hlYWRlcl9fTm11UjBcIixcblx0XCJicmFuZFwiOiBcImxheW91dF9icmFuZF9fdW1obFpcIixcblx0XCJuYXZcIjogXCJsYXlvdXRfbmF2X19RaXlkSFwiLFxuXHRcInVzZXJcIjogXCJsYXlvdXRfdXNlcl9fbEVLRzlcIixcblx0XCJtYWluXCI6IFwibGF5b3V0X21haW5fX0dtNjBJXCIsXG5cdFwiYmFubmVyXCI6IFwibGF5b3V0X2Jhbm5lcl9fTmdoUkNcIixcblx0XCJiYW5uZXJCdXR0b25cIjogXCJsYXlvdXRfYmFubmVyQnV0dG9uX184NWRYRlwiXG59O1xuXG5tb2R1bGUuZXhwb3J0cy5fX2NoZWNrc3VtID0gXCJkODU1Yzc4MTIyMzVcIlxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./src/app/dashboard/layout.module.css\n");

/***/ }),

/***/ "(rsc)/./src/app/dashboard/sites/sites.module.css":
/*!**************************************************!*\
  !*** ./src/app/dashboard/sites/sites.module.css ***!
  \**************************************************/
/***/ ((module) => {

eval("// Exports\nmodule.exports = {\n\t\"shell\": \"sites_shell__ngzsa\",\n\t\"header\": \"sites_header__NHb4z\",\n\t\"primary\": \"sites_primary__Us5Dq\",\n\t\"empty\": \"sites_empty__GvMs7\",\n\t\"list\": \"sites_list__PxgQc\",\n\t\"form\": \"sites_form__sRWW4\",\n\t\"field\": \"sites_field__KO5UH\",\n\t\"error\": \"sites_error__uPPBi\",\n\t\"danger\": \"sites_danger__pQ5Yw\",\n\t\"card\": \"sites_card__EP_Ok\",\n\t\"cardHeader\": \"sites_cardHeader__mfCED\",\n\t\"slug\": \"sites_slug__vORsG\",\n\t\"pill\": \"sites_pill__nNFSK\"\n};\n\nmodule.exports.__checksum = \"81401100f0ec\"\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2Rhc2hib2FyZC9zaXRlcy9zaXRlcy5tb2R1bGUuY3NzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHlCQUF5QiIsInNvdXJjZXMiOlsid2VicGFjazovL0Bub3RlcHViL2Rhc2hib2FyZC8uL3NyYy9hcHAvZGFzaGJvYXJkL3NpdGVzL3NpdGVzLm1vZHVsZS5jc3M/NTU2NCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBFeHBvcnRzXG5tb2R1bGUuZXhwb3J0cyA9IHtcblx0XCJzaGVsbFwiOiBcInNpdGVzX3NoZWxsX19uZ3pzYVwiLFxuXHRcImhlYWRlclwiOiBcInNpdGVzX2hlYWRlcl9fTkhiNHpcIixcblx0XCJwcmltYXJ5XCI6IFwic2l0ZXNfcHJpbWFyeV9fVXM1RHFcIixcblx0XCJlbXB0eVwiOiBcInNpdGVzX2VtcHR5X19Hdk1zN1wiLFxuXHRcImxpc3RcIjogXCJzaXRlc19saXN0X19QeGdRY1wiLFxuXHRcImZvcm1cIjogXCJzaXRlc19mb3JtX19zUldXNFwiLFxuXHRcImZpZWxkXCI6IFwic2l0ZXNfZmllbGRfX0tPNVVIXCIsXG5cdFwiZXJyb3JcIjogXCJzaXRlc19lcnJvcl9fdVBQQmlcIixcblx0XCJkYW5nZXJcIjogXCJzaXRlc19kYW5nZXJfX3BRNVl3XCIsXG5cdFwiY2FyZFwiOiBcInNpdGVzX2NhcmRfX0VQX09rXCIsXG5cdFwiY2FyZEhlYWRlclwiOiBcInNpdGVzX2NhcmRIZWFkZXJfX21mQ0VEXCIsXG5cdFwic2x1Z1wiOiBcInNpdGVzX3NsdWdfX3ZPUnNHXCIsXG5cdFwicGlsbFwiOiBcInNpdGVzX3BpbGxfX25ORlNLXCJcbn07XG5cbm1vZHVsZS5leHBvcnRzLl9fY2hlY2tzdW0gPSBcIjgxNDAxMTAwZjBlY1wiXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/app/dashboard/sites/sites.module.css\n");

/***/ }),

/***/ "(ssr)/./src/app/dashboard/sites/sites.module.css":
/*!**************************************************!*\
  !*** ./src/app/dashboard/sites/sites.module.css ***!
  \**************************************************/
/***/ ((module) => {

eval("// Exports\nmodule.exports = {\n\t\"shell\": \"sites_shell__ngzsa\",\n\t\"header\": \"sites_header__NHb4z\",\n\t\"primary\": \"sites_primary__Us5Dq\",\n\t\"empty\": \"sites_empty__GvMs7\",\n\t\"list\": \"sites_list__PxgQc\",\n\t\"form\": \"sites_form__sRWW4\",\n\t\"field\": \"sites_field__KO5UH\",\n\t\"error\": \"sites_error__uPPBi\",\n\t\"danger\": \"sites_danger__pQ5Yw\",\n\t\"card\": \"sites_card__EP_Ok\",\n\t\"cardHeader\": \"sites_cardHeader__mfCED\",\n\t\"slug\": \"sites_slug__vORsG\",\n\t\"pill\": \"sites_pill__nNFSK\"\n};\n\nmodule.exports.__checksum = \"81401100f0ec\"\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvYXBwL2Rhc2hib2FyZC9zaXRlcy9zaXRlcy5tb2R1bGUuY3NzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHlCQUF5QiIsInNvdXJjZXMiOlsid2VicGFjazovL0Bub3RlcHViL2Rhc2hib2FyZC8uL3NyYy9hcHAvZGFzaGJvYXJkL3NpdGVzL3NpdGVzLm1vZHVsZS5jc3M/YzAwZiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBFeHBvcnRzXG5tb2R1bGUuZXhwb3J0cyA9IHtcblx0XCJzaGVsbFwiOiBcInNpdGVzX3NoZWxsX19uZ3pzYVwiLFxuXHRcImhlYWRlclwiOiBcInNpdGVzX2hlYWRlcl9fTkhiNHpcIixcblx0XCJwcmltYXJ5XCI6IFwic2l0ZXNfcHJpbWFyeV9fVXM1RHFcIixcblx0XCJlbXB0eVwiOiBcInNpdGVzX2VtcHR5X19Hdk1zN1wiLFxuXHRcImxpc3RcIjogXCJzaXRlc19saXN0X19QeGdRY1wiLFxuXHRcImZvcm1cIjogXCJzaXRlc19mb3JtX19zUldXNFwiLFxuXHRcImZpZWxkXCI6IFwic2l0ZXNfZmllbGRfX0tPNVVIXCIsXG5cdFwiZXJyb3JcIjogXCJzaXRlc19lcnJvcl9fdVBQQmlcIixcblx0XCJkYW5nZXJcIjogXCJzaXRlc19kYW5nZXJfX3BRNVl3XCIsXG5cdFwiY2FyZFwiOiBcInNpdGVzX2NhcmRfX0VQX09rXCIsXG5cdFwiY2FyZEhlYWRlclwiOiBcInNpdGVzX2NhcmRIZWFkZXJfX21mQ0VEXCIsXG5cdFwic2x1Z1wiOiBcInNpdGVzX3NsdWdfX3ZPUnNHXCIsXG5cdFwicGlsbFwiOiBcInNpdGVzX3BpbGxfX25ORlNLXCJcbn07XG5cbm1vZHVsZS5leHBvcnRzLl9fY2hlY2tzdW0gPSBcIjgxNDAxMTAwZjBlY1wiXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./src/app/dashboard/sites/sites.module.css\n");

/***/ }),

/***/ "(rsc)/./src/app/dashboard/layout.tsx":
/*!**************************************!*\
  !*** ./src/app/dashboard/layout.tsx ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ DashboardLayout)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(rsc)/../../node_modules/next/dist/server/future/route-modules/app-page/vendored/rsc/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/link */ \"(rsc)/../../node_modules/next/dist/api/link.js\");\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/navigation */ \"(rsc)/../../node_modules/next/dist/api/navigation.react-server.js\");\n/* harmony import */ var _lib_session__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/session */ \"(rsc)/./src/lib/session.ts\");\n/* harmony import */ var _components_VerifyBanner__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/components/VerifyBanner */ \"(rsc)/./src/components/VerifyBanner.tsx\");\n/* harmony import */ var _layout_module_css__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./layout.module.css */ \"(rsc)/./src/app/dashboard/layout.module.css\");\n/* harmony import */ var _layout_module_css__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_layout_module_css__WEBPACK_IMPORTED_MODULE_5__);\n\n\n\n\n\n\nasync function DashboardLayout({ children }) {\n    const user = await (0,_lib_session__WEBPACK_IMPORTED_MODULE_3__.getCurrentUser)();\n    if (!user) {\n        (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.redirect)(\"/login\");\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: (_layout_module_css__WEBPACK_IMPORTED_MODULE_5___default().shell),\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"header\", {\n                className: (_layout_module_css__WEBPACK_IMPORTED_MODULE_5___default().header),\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: (_layout_module_css__WEBPACK_IMPORTED_MODULE_5___default().brand),\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_link__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {\n                            href: \"/dashboard/sites\",\n                            children: \"Notepub\"\n                        }, void 0, false, {\n                            fileName: \"/Users/antonlozkin/Documents/obsidian-website/apps/dashboard/src/app/dashboard/layout.tsx\",\n                            lineNumber: 17,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/antonlozkin/Documents/obsidian-website/apps/dashboard/src/app/dashboard/layout.tsx\",\n                        lineNumber: 16,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"nav\", {\n                        className: (_layout_module_css__WEBPACK_IMPORTED_MODULE_5___default().nav),\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_link__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {\n                                href: \"/dashboard/sites\",\n                                children: \"Sites\"\n                            }, void 0, false, {\n                                fileName: \"/Users/antonlozkin/Documents/obsidian-website/apps/dashboard/src/app/dashboard/layout.tsx\",\n                                lineNumber: 20,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_link__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {\n                                href: \"/logout\",\n                                children: \"Logout\"\n                            }, void 0, false, {\n                                fileName: \"/Users/antonlozkin/Documents/obsidian-website/apps/dashboard/src/app/dashboard/layout.tsx\",\n                                lineNumber: 21,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/antonlozkin/Documents/obsidian-website/apps/dashboard/src/app/dashboard/layout.tsx\",\n                        lineNumber: 19,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: (_layout_module_css__WEBPACK_IMPORTED_MODULE_5___default().user),\n                        children: user.email\n                    }, void 0, false, {\n                        fileName: \"/Users/antonlozkin/Documents/obsidian-website/apps/dashboard/src/app/dashboard/layout.tsx\",\n                        lineNumber: 23,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/antonlozkin/Documents/obsidian-website/apps/dashboard/src/app/dashboard/layout.tsx\",\n                lineNumber: 15,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_VerifyBanner__WEBPACK_IMPORTED_MODULE_4__.VerifyBanner, {\n                email: user.email,\n                verified: user.emailVerified\n            }, void 0, false, {\n                fileName: \"/Users/antonlozkin/Documents/obsidian-website/apps/dashboard/src/app/dashboard/layout.tsx\",\n                lineNumber: 25,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"main\", {\n                className: (_layout_module_css__WEBPACK_IMPORTED_MODULE_5___default().main),\n                children: children\n            }, void 0, false, {\n                fileName: \"/Users/antonlozkin/Documents/obsidian-website/apps/dashboard/src/app/dashboard/layout.tsx\",\n                lineNumber: 26,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/antonlozkin/Documents/obsidian-website/apps/dashboard/src/app/dashboard/layout.tsx\",\n        lineNumber: 14,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2Rhc2hib2FyZC9sYXlvdXQudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBNkI7QUFDYztBQUNJO0FBQ1U7QUFDaEI7QUFFMUIsZUFBZUssZ0JBQWdCLEVBQUVDLFFBQVEsRUFBaUM7SUFDdkYsTUFBTUMsT0FBTyxNQUFNTCw0REFBY0E7SUFDakMsSUFBSSxDQUFDSyxNQUFNO1FBQ1ROLHlEQUFRQSxDQUFDO0lBQ1g7SUFFQSxxQkFDRSw4REFBQ087UUFBSUMsV0FBV0wsaUVBQVk7OzBCQUMxQiw4REFBQ087Z0JBQU9GLFdBQVdMLGtFQUFhOztrQ0FDOUIsOERBQUNJO3dCQUFJQyxXQUFXTCxpRUFBWTtrQ0FDMUIsNEVBQUNKLGlEQUFJQTs0QkFBQ2EsTUFBSztzQ0FBbUI7Ozs7Ozs7Ozs7O2tDQUVoQyw4REFBQ0M7d0JBQUlMLFdBQVdMLCtEQUFVOzswQ0FDeEIsOERBQUNKLGlEQUFJQTtnQ0FBQ2EsTUFBSzswQ0FBbUI7Ozs7OzswQ0FDOUIsOERBQUNiLGlEQUFJQTtnQ0FBQ2EsTUFBSzswQ0FBVTs7Ozs7Ozs7Ozs7O2tDQUV2Qiw4REFBQ0w7d0JBQUlDLFdBQVdMLGdFQUFXO2tDQUFHRyxLQUFLUSxLQUFLOzs7Ozs7Ozs7Ozs7MEJBRTFDLDhEQUFDWixrRUFBWUE7Z0JBQUNZLE9BQU9SLEtBQUtRLEtBQUs7Z0JBQUVDLFVBQVVULEtBQUtVLGFBQWE7Ozs7OzswQkFDN0QsOERBQUNDO2dCQUFLVCxXQUFXTCxnRUFBVzswQkFBR0U7Ozs7Ozs7Ozs7OztBQUdyQyIsInNvdXJjZXMiOlsid2VicGFjazovL0Bub3RlcHViL2Rhc2hib2FyZC8uL3NyYy9hcHAvZGFzaGJvYXJkL2xheW91dC50c3g/NzIzYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgTGluayBmcm9tIFwibmV4dC9saW5rXCI7XG5pbXBvcnQgeyByZWRpcmVjdCB9IGZyb20gXCJuZXh0L25hdmlnYXRpb25cIjtcbmltcG9ydCB7IGdldEN1cnJlbnRVc2VyIH0gZnJvbSBcIkAvbGliL3Nlc3Npb25cIjtcbmltcG9ydCB7IFZlcmlmeUJhbm5lciB9IGZyb20gXCJAL2NvbXBvbmVudHMvVmVyaWZ5QmFubmVyXCI7XG5pbXBvcnQgc3R5bGVzIGZyb20gXCIuL2xheW91dC5tb2R1bGUuY3NzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIERhc2hib2FyZExheW91dCh7IGNoaWxkcmVuIH06IHsgY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZSB9KSB7XG4gIGNvbnN0IHVzZXIgPSBhd2FpdCBnZXRDdXJyZW50VXNlcigpO1xuICBpZiAoIXVzZXIpIHtcbiAgICByZWRpcmVjdChcIi9sb2dpblwiKTtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5zaGVsbH0+XG4gICAgICA8aGVhZGVyIGNsYXNzTmFtZT17c3R5bGVzLmhlYWRlcn0+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMuYnJhbmR9PlxuICAgICAgICAgIDxMaW5rIGhyZWY9XCIvZGFzaGJvYXJkL3NpdGVzXCI+Tm90ZXB1YjwvTGluaz5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxuYXYgY2xhc3NOYW1lPXtzdHlsZXMubmF2fT5cbiAgICAgICAgICA8TGluayBocmVmPVwiL2Rhc2hib2FyZC9zaXRlc1wiPlNpdGVzPC9MaW5rPlxuICAgICAgICAgIDxMaW5rIGhyZWY9XCIvbG9nb3V0XCI+TG9nb3V0PC9MaW5rPlxuICAgICAgICA8L25hdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy51c2VyfT57dXNlci5lbWFpbH08L2Rpdj5cbiAgICAgIDwvaGVhZGVyPlxuICAgICAgPFZlcmlmeUJhbm5lciBlbWFpbD17dXNlci5lbWFpbH0gdmVyaWZpZWQ9e3VzZXIuZW1haWxWZXJpZmllZH0gLz5cbiAgICAgIDxtYWluIGNsYXNzTmFtZT17c3R5bGVzLm1haW59PntjaGlsZHJlbn08L21haW4+XG4gICAgPC9kaXY+XG4gICk7XG59XG4iXSwibmFtZXMiOlsiTGluayIsInJlZGlyZWN0IiwiZ2V0Q3VycmVudFVzZXIiLCJWZXJpZnlCYW5uZXIiLCJzdHlsZXMiLCJEYXNoYm9hcmRMYXlvdXQiLCJjaGlsZHJlbiIsInVzZXIiLCJkaXYiLCJjbGFzc05hbWUiLCJzaGVsbCIsImhlYWRlciIsImJyYW5kIiwiaHJlZiIsIm5hdiIsImVtYWlsIiwidmVyaWZpZWQiLCJlbWFpbFZlcmlmaWVkIiwibWFpbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/app/dashboard/layout.tsx\n");

/***/ }),

/***/ "(rsc)/./src/app/dashboard/sites/page.tsx":
/*!******************************************!*\
  !*** ./src/app/dashboard/sites/page.tsx ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ SitesPage)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(rsc)/../../node_modules/next/dist/server/future/route-modules/app-page/vendored/rsc/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/link */ \"(rsc)/../../node_modules/next/dist/api/link.js\");\n/* harmony import */ var _notepub_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @notepub/core */ \"(rsc)/../../packages/core/src/index.ts\");\n/* harmony import */ var _lib_session__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/session */ \"(rsc)/./src/lib/session.ts\");\n/* harmony import */ var _components_CreateSiteButton__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/components/CreateSiteButton */ \"(rsc)/./src/components/CreateSiteButton.tsx\");\n/* harmony import */ var _sites_module_css__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./sites.module.css */ \"(rsc)/./src/app/dashboard/sites/sites.module.css\");\n/* harmony import */ var _sites_module_css__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_sites_module_css__WEBPACK_IMPORTED_MODULE_5__);\n\n\n\n\n\n\nasync function SitesPage() {\n    const user = await (0,_lib_session__WEBPACK_IMPORTED_MODULE_3__.getCurrentUser)();\n    if (!user) {\n        return null;\n    }\n    const sites = await (0,_notepub_core__WEBPACK_IMPORTED_MODULE_2__.listSitesForUser)(user.id);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: (_sites_module_css__WEBPACK_IMPORTED_MODULE_5___default().shell),\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: (_sites_module_css__WEBPACK_IMPORTED_MODULE_5___default().header),\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                                children: \" \"\n                            }, void 0, false, {\n                                fileName: \"/Users/antonlozkin/Documents/obsidian-website/apps/dashboard/src/app/dashboard/sites/page.tsx\",\n                                lineNumber: 21,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                children: \"   Obsidian vault  S3\"\n                            }, void 0, false, {\n                                fileName: \"/Users/antonlozkin/Documents/obsidian-website/apps/dashboard/src/app/dashboard/sites/page.tsx\",\n                                lineNumber: 22,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/antonlozkin/Documents/obsidian-website/apps/dashboard/src/app/dashboard/sites/page.tsx\",\n                        lineNumber: 20,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_CreateSiteButton__WEBPACK_IMPORTED_MODULE_4__.CreateSiteButton, {\n                        canCreate: sites.length === 0\n                    }, void 0, false, {\n                        fileName: \"/Users/antonlozkin/Documents/obsidian-website/apps/dashboard/src/app/dashboard/sites/page.tsx\",\n                        lineNumber: 24,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/antonlozkin/Documents/obsidian-website/apps/dashboard/src/app/dashboard/sites/page.tsx\",\n                lineNumber: 19,\n                columnNumber: 7\n            }, this),\n            sites.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                className: (_sites_module_css__WEBPACK_IMPORTED_MODULE_5___default().empty),\n                children: \"  .  .\"\n            }, void 0, false, {\n                fileName: \"/Users/antonlozkin/Documents/obsidian-website/apps/dashboard/src/app/dashboard/sites/page.tsx\",\n                lineNumber: 28,\n                columnNumber: 9\n            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: (_sites_module_css__WEBPACK_IMPORTED_MODULE_5___default().list),\n                children: sites.map((site)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_link__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {\n                        href: `/dashboard/sites/${site.id}`,\n                        className: (_sites_module_css__WEBPACK_IMPORTED_MODULE_5___default().card),\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: (_sites_module_css__WEBPACK_IMPORTED_MODULE_5___default().cardHeader),\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: (_sites_module_css__WEBPACK_IMPORTED_MODULE_5___default().slug),\n                                        children: [\n                                            site.slug,\n                                            \".notepub.site\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/antonlozkin/Documents/obsidian-website/apps/dashboard/src/app/dashboard/sites/page.tsx\",\n                                        lineNumber: 34,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: (_sites_module_css__WEBPACK_IMPORTED_MODULE_5___default().pill),\n                                        children: [\n                                            \"S3: \",\n                                            site.s3Prefix\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/antonlozkin/Documents/obsidian-website/apps/dashboard/src/app/dashboard/sites/page.tsx\",\n                                        lineNumber: 35,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/antonlozkin/Documents/obsidian-website/apps/dashboard/src/app/dashboard/sites/page.tsx\",\n                                lineNumber: 33,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                children: site.title\n                            }, void 0, false, {\n                                fileName: \"/Users/antonlozkin/Documents/obsidian-website/apps/dashboard/src/app/dashboard/sites/page.tsx\",\n                                lineNumber: 37,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                children: [\n                                    \": \",\n                                    site.updatedAt.toDateString()\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/antonlozkin/Documents/obsidian-website/apps/dashboard/src/app/dashboard/sites/page.tsx\",\n                                lineNumber: 38,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, site.id, true, {\n                        fileName: \"/Users/antonlozkin/Documents/obsidian-website/apps/dashboard/src/app/dashboard/sites/page.tsx\",\n                        lineNumber: 32,\n                        columnNumber: 13\n                    }, this))\n            }, void 0, false, {\n                fileName: \"/Users/antonlozkin/Documents/obsidian-website/apps/dashboard/src/app/dashboard/sites/page.tsx\",\n                lineNumber: 30,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/antonlozkin/Documents/obsidian-website/apps/dashboard/src/app/dashboard/sites/page.tsx\",\n        lineNumber: 18,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2Rhc2hib2FyZC9zaXRlcy9wYWdlLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQTZCO0FBQ29CO0FBQ0Y7QUFDa0I7QUFDekI7QUFJekIsZUFBZUs7SUFDNUIsTUFBTUMsT0FBTyxNQUFNSiw0REFBY0E7SUFDakMsSUFBSSxDQUFDSSxNQUFNO1FBQ1QsT0FBTztJQUNUO0lBRUEsTUFBTUMsUUFBUSxNQUFNTiwrREFBZ0JBLENBQUNLLEtBQUtFLEVBQUU7SUFFNUMscUJBQ0UsOERBQUNDO1FBQUlDLFdBQVdOLGdFQUFZOzswQkFDMUIsOERBQUNLO2dCQUFJQyxXQUFXTixpRUFBYTs7a0NBQzNCLDhEQUFDSzs7MENBQ0MsOERBQUNJOzBDQUFHOzs7Ozs7MENBQ0osOERBQUNDOzBDQUFFOzs7Ozs7Ozs7Ozs7a0NBRUwsOERBQUNYLDBFQUFnQkE7d0JBQUNZLFdBQVdSLE1BQU1TLE1BQU0sS0FBSzs7Ozs7Ozs7Ozs7O1lBRy9DVCxNQUFNUyxNQUFNLEtBQUssa0JBQ2hCLDhEQUFDRjtnQkFBRUosV0FBV04sZ0VBQVk7MEJBQUU7Ozs7O3FDQUU1Qiw4REFBQ0s7Z0JBQUlDLFdBQVdOLCtEQUFXOzBCQUN4QkcsTUFBTVksR0FBRyxDQUFDLENBQUNDLHFCQUNWLDhEQUFDcEIsaURBQUlBO3dCQUFlcUIsTUFBTSxDQUFDLGlCQUFpQixFQUFFRCxLQUFLWixFQUFFLENBQUMsQ0FBQzt3QkFBRUUsV0FBV04sK0RBQVc7OzBDQUM3RSw4REFBQ0s7Z0NBQUlDLFdBQVdOLHFFQUFpQjs7a0RBQy9CLDhEQUFDb0I7d0NBQUtkLFdBQVdOLCtEQUFXOzs0Q0FBR2dCLEtBQUtLLElBQUk7NENBQUM7Ozs7Ozs7a0RBQ3pDLDhEQUFDRDt3Q0FBS2QsV0FBV04sK0RBQVc7OzRDQUFFOzRDQUFLZ0IsS0FBS08sUUFBUTs7Ozs7Ozs7Ozs7OzswQ0FFbEQsOERBQUNDOzBDQUFJUixLQUFLUyxLQUFLOzs7Ozs7MENBQ2YsOERBQUNmOztvQ0FBRTtvQ0FBWU0sS0FBS1UsU0FBUyxDQUFDQyxZQUFZOzs7Ozs7Ozt1QkFOakNYLEtBQUtaLEVBQUU7Ozs7Ozs7Ozs7Ozs7Ozs7QUFhOUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Abm90ZXB1Yi9kYXNoYm9hcmQvLi9zcmMvYXBwL2Rhc2hib2FyZC9zaXRlcy9wYWdlLnRzeD8zYjk1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBMaW5rIGZyb20gXCJuZXh0L2xpbmtcIjtcbmltcG9ydCB7IGxpc3RTaXRlc0ZvclVzZXIgfSBmcm9tIFwiQG5vdGVwdWIvY29yZVwiO1xuaW1wb3J0IHsgZ2V0Q3VycmVudFVzZXIgfSBmcm9tIFwiQC9saWIvc2Vzc2lvblwiO1xuaW1wb3J0IHsgQ3JlYXRlU2l0ZUJ1dHRvbiB9IGZyb20gXCJAL2NvbXBvbmVudHMvQ3JlYXRlU2l0ZUJ1dHRvblwiO1xuaW1wb3J0IHN0eWxlcyBmcm9tIFwiLi9zaXRlcy5tb2R1bGUuY3NzXCI7XG5cbnR5cGUgU2l0ZUxpc3RJdGVtID0gQXdhaXRlZDxSZXR1cm5UeXBlPHR5cGVvZiBsaXN0U2l0ZXNGb3JVc2VyPj5bbnVtYmVyXTtcblxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gU2l0ZXNQYWdlKCkge1xuICBjb25zdCB1c2VyID0gYXdhaXQgZ2V0Q3VycmVudFVzZXIoKTtcbiAgaWYgKCF1c2VyKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBjb25zdCBzaXRlcyA9IGF3YWl0IGxpc3RTaXRlc0ZvclVzZXIodXNlci5pZCk7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLnNoZWxsfT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMuaGVhZGVyfT5cbiAgICAgICAgPGRpdj5cbiAgICAgICAgICA8aDE+0JLQsNGI0Lgg0YHQsNC50YLRizwvaDE+XG4gICAgICAgICAgPHA+0KHQvtC30LTQsNCy0LDQudGC0LUg0Lgg0L/QvtC00LrQu9GO0YfQsNC50YLQtSBPYnNpZGlhbiB2YXVsdCDRh9C10YDQtdC3IFMzPC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPENyZWF0ZVNpdGVCdXR0b24gY2FuQ3JlYXRlPXtzaXRlcy5sZW5ndGggPT09IDB9IC8+XG4gICAgICA8L2Rpdj5cblxuICAgICAge3NpdGVzLmxlbmd0aCA9PT0gMCA/IChcbiAgICAgICAgPHAgY2xhc3NOYW1lPXtzdHlsZXMuZW1wdHl9PtCf0L7QutCwINC90LXRgiDRgdCw0LnRgtC+0LIuINCh0L7Qt9C00LDQudGC0LUg0L/QtdGA0LLRi9C5LjwvcD5cbiAgICAgICkgOiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMubGlzdH0+XG4gICAgICAgICAge3NpdGVzLm1hcCgoc2l0ZTogU2l0ZUxpc3RJdGVtKSA9PiAoXG4gICAgICAgICAgICA8TGluayBrZXk9e3NpdGUuaWR9IGhyZWY9e2AvZGFzaGJvYXJkL3NpdGVzLyR7c2l0ZS5pZH1gfSBjbGFzc05hbWU9e3N0eWxlcy5jYXJkfT5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5jYXJkSGVhZGVyfT5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e3N0eWxlcy5zbHVnfT57c2l0ZS5zbHVnfS5ub3RlcHViLnNpdGU8L3NwYW4+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtzdHlsZXMucGlsbH0+UzM6IHtzaXRlLnMzUHJlZml4fTwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxoMz57c2l0ZS50aXRsZX08L2gzPlxuICAgICAgICAgICAgICA8cD7QntCx0L3QvtCy0LvQtdC90L46IHtzaXRlLnVwZGF0ZWRBdC50b0RhdGVTdHJpbmcoKX08L3A+XG4gICAgICAgICAgICA8L0xpbms+XG4gICAgICAgICAgKSl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cbiAgICA8L2Rpdj5cbiAgKTtcbn1cbiJdLCJuYW1lcyI6WyJMaW5rIiwibGlzdFNpdGVzRm9yVXNlciIsImdldEN1cnJlbnRVc2VyIiwiQ3JlYXRlU2l0ZUJ1dHRvbiIsInN0eWxlcyIsIlNpdGVzUGFnZSIsInVzZXIiLCJzaXRlcyIsImlkIiwiZGl2IiwiY2xhc3NOYW1lIiwic2hlbGwiLCJoZWFkZXIiLCJoMSIsInAiLCJjYW5DcmVhdGUiLCJsZW5ndGgiLCJlbXB0eSIsImxpc3QiLCJtYXAiLCJzaXRlIiwiaHJlZiIsImNhcmQiLCJjYXJkSGVhZGVyIiwic3BhbiIsInNsdWciLCJwaWxsIiwiczNQcmVmaXgiLCJoMyIsInRpdGxlIiwidXBkYXRlZEF0IiwidG9EYXRlU3RyaW5nIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/dashboard/sites/page.tsx\n");

/***/ }),

/***/ "(rsc)/./src/app/layout.tsx":
/*!****************************!*\
  !*** ./src/app/layout.tsx ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ RootLayout),\n/* harmony export */   metadata: () => (/* binding */ metadata)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(rsc)/../../node_modules/next/dist/server/future/route-modules/app-page/vendored/rsc/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(rsc)/../../node_modules/next/dist/server/future/route-modules/app-page/vendored/rsc/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _globals_css__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./globals.css */ \"(rsc)/./src/app/globals.css\");\n\n\n\nconst metadata = {\n    title: \"Notepub\",\n    description: \"Build sites from your Obsidian vault\",\n    openGraph: {\n        title: \"Notepub\",\n        description: \"Build sites from your Obsidian vault\",\n        url: \"https://notepub.site\",\n        siteName: \"Notepub\",\n        images: [\n            {\n                url: \"/og-default.svg\",\n                width: 1200,\n                height: 630\n            }\n        ]\n    },\n    icons: {\n        icon: \"/favicon.ico\",\n        apple: \"/apple-touch-icon.png\"\n    },\n    metadataBase: new URL(\"https://notepub.site\")\n};\nfunction RootLayout({ children }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"html\", {\n        lang: \"en\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"body\", {\n            children: children\n        }, void 0, false, {\n            fileName: \"/Users/antonlozkin/Documents/obsidian-website/apps/dashboard/src/app/layout.tsx\",\n            lineNumber: 25,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/antonlozkin/Documents/obsidian-website/apps/dashboard/src/app/layout.tsx\",\n        lineNumber: 24,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2xheW91dC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFDMEI7QUFDSDtBQUVoQixNQUFNQyxXQUFxQjtJQUNoQ0MsT0FBTztJQUNQQyxhQUFhO0lBQ2JDLFdBQVc7UUFDVEYsT0FBTztRQUNQQyxhQUFhO1FBQ2JFLEtBQUs7UUFDTEMsVUFBVTtRQUNWQyxRQUFRO1lBQUM7Z0JBQUVGLEtBQUs7Z0JBQW1CRyxPQUFPO2dCQUFNQyxRQUFRO1lBQUk7U0FBRTtJQUNoRTtJQUNBQyxPQUFPO1FBQ0xDLE1BQU07UUFDTkMsT0FBTztJQUNUO0lBQ0FDLGNBQWMsSUFBSUMsSUFBSTtBQUN4QixFQUFFO0FBRWEsU0FBU0MsV0FBVyxFQUFFQyxRQUFRLEVBQWlDO0lBQzVFLHFCQUNFLDhEQUFDQztRQUFLQyxNQUFLO2tCQUNULDRFQUFDQztzQkFBTUg7Ozs7Ozs7Ozs7O0FBR2IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Abm90ZXB1Yi9kYXNoYm9hcmQvLi9zcmMvYXBwL2xheW91dC50c3g/NTdhOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IE1ldGFkYXRhIH0gZnJvbSBcIm5leHRcIjtcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCBcIi4vZ2xvYmFscy5jc3NcIjtcblxuZXhwb3J0IGNvbnN0IG1ldGFkYXRhOiBNZXRhZGF0YSA9IHtcbiAgdGl0bGU6IFwiTm90ZXB1YlwiLFxuICBkZXNjcmlwdGlvbjogXCJCdWlsZCBzaXRlcyBmcm9tIHlvdXIgT2JzaWRpYW4gdmF1bHRcIixcbiAgb3BlbkdyYXBoOiB7XG4gICAgdGl0bGU6IFwiTm90ZXB1YlwiLFxuICAgIGRlc2NyaXB0aW9uOiBcIkJ1aWxkIHNpdGVzIGZyb20geW91ciBPYnNpZGlhbiB2YXVsdFwiLFxuICAgIHVybDogXCJodHRwczovL25vdGVwdWIuc2l0ZVwiLFxuICAgIHNpdGVOYW1lOiBcIk5vdGVwdWJcIixcbiAgICBpbWFnZXM6IFt7IHVybDogXCIvb2ctZGVmYXVsdC5zdmdcIiwgd2lkdGg6IDEyMDAsIGhlaWdodDogNjMwIH1dLFxuICB9LFxuICBpY29uczoge1xuICAgIGljb246IFwiL2Zhdmljb24uaWNvXCIsXG4gICAgYXBwbGU6IFwiL2FwcGxlLXRvdWNoLWljb24ucG5nXCIsXG4gIH0sXG4gIG1ldGFkYXRhQmFzZTogbmV3IFVSTChcImh0dHBzOi8vbm90ZXB1Yi5zaXRlXCIpLFxufTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gUm9vdExheW91dCh7IGNoaWxkcmVuIH06IHsgY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZSB9KSB7XG4gIHJldHVybiAoXG4gICAgPGh0bWwgbGFuZz1cImVuXCI+XG4gICAgICA8Ym9keT57Y2hpbGRyZW59PC9ib2R5PlxuICAgIDwvaHRtbD5cbiAgKTtcbn1cbiJdLCJuYW1lcyI6WyJSZWFjdCIsIm1ldGFkYXRhIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsIm9wZW5HcmFwaCIsInVybCIsInNpdGVOYW1lIiwiaW1hZ2VzIiwid2lkdGgiLCJoZWlnaHQiLCJpY29ucyIsImljb24iLCJhcHBsZSIsIm1ldGFkYXRhQmFzZSIsIlVSTCIsIlJvb3RMYXlvdXQiLCJjaGlsZHJlbiIsImh0bWwiLCJsYW5nIiwiYm9keSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/app/layout.tsx\n");

/***/ }),

/***/ "(action-browser)/./src/app/verify-email/actions.ts":
/*!*****************************************!*\
  !*** ./src/app/verify-email/actions.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   resendVerificationAction: () => (/* binding */ resendVerificationAction),\n/* harmony export */   verifyEmailAction: () => (/* binding */ verifyEmailAction),\n/* harmony export */   verifyEmailByToken: () => (/* binding */ verifyEmailByToken)\n/* harmony export */ });\n/* harmony import */ var private_next_rsc_server_reference__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! private-next-rsc-server-reference */ \"(action-browser)/../../node_modules/next/dist/build/webpack/loaders/next-flight-loader/server-reference.js\");\n/* harmony import */ var private_next_rsc_action_encryption__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! private-next-rsc-action-encryption */ \"(action-browser)/../../node_modules/next/dist/server/app-render/encryption.js\");\n/* harmony import */ var private_next_rsc_action_encryption__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(private_next_rsc_action_encryption__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_codes__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/codes */ \"(action-browser)/./src/lib/codes.ts\");\n/* harmony import */ var _lib_emails__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/emails */ \"(action-browser)/./src/lib/emails.ts\");\n/* harmony import */ var _lib_session__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/session */ \"(action-browser)/./src/lib/session.ts\");\n/* harmony import */ var private_next_rsc_action_validate__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! private-next-rsc-action-validate */ \"(action-browser)/../../node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-validate.js\");\n/* __next_internal_action_entry_do_not_use__ {\"2368fce516b797d3ed444e92ea500e97d17fe106\":\"verifyEmailAction\",\"5710deafb07bb7de6e3ab7c26af2e5ae60713953\":\"resendVerificationAction\",\"f515440e3c08faafd17192c3c51d6e15aaed6b05\":\"verifyEmailByToken\"} */ \n\n\n\n\nasync function resendVerificationAction() {\n    const user = await (0,_lib_session__WEBPACK_IMPORTED_MODULE_4__.getCurrentUser)();\n    if (!user) {\n        return {\n            error: \" ,   .\"\n        };\n    }\n    if (user.emailVerified) {\n        return {\n            success: \"Email  .\"\n        };\n    }\n    try {\n        const code = await (0,_lib_codes__WEBPACK_IMPORTED_MODULE_2__.issueVerificationCode)(user.id);\n        await (0,_lib_emails__WEBPACK_IMPORTED_MODULE_3__.sendVerificationEmail)(user.email, code);\n    } catch (error) {\n        console.error(\"Failed to send verification email\", error);\n        return {\n            error: \"   .  SMTP .\"\n        };\n    }\n    return {\n        success: \"   .\"\n    };\n}\nasync function verifyEmailAction(_, formData) {\n    const code = (formData.get(\"code\") || \"\").toString().trim();\n    const user = await (0,_lib_session__WEBPACK_IMPORTED_MODULE_4__.getCurrentUser)();\n    if (!user) {\n        return {\n            error: \" ,   email.\"\n        };\n    }\n    if (user.emailVerified) {\n        return {\n            success: \"Email  .\"\n        };\n    }\n    if (!code) {\n        return {\n            error: \"  .\"\n        };\n    }\n    const ok = await (0,_lib_codes__WEBPACK_IMPORTED_MODULE_2__.consumeVerificationCode)(user.id, code);\n    if (!ok) {\n        return {\n            error: \"   .\"\n        };\n    }\n    (0,_lib_session__WEBPACK_IMPORTED_MODULE_4__.setSessionVerified)(true);\n    return {\n        success: \"Email .\"\n    };\n}\nasync function verifyEmailByToken(token) {\n    const user = await (0,_lib_session__WEBPACK_IMPORTED_MODULE_4__.getCurrentUser)();\n    if (!user) return {\n        error: \" ,   email.\"\n    };\n    if (user.emailVerified) return {\n        success: \"Email  .\"\n    };\n    if (!token) return {\n        error: \"  .\"\n    };\n    const ok = await (0,_lib_codes__WEBPACK_IMPORTED_MODULE_2__.consumeVerificationCode)(user.id, token.trim());\n    if (!ok) return {\n        error: \"   .\"\n    };\n    (0,_lib_session__WEBPACK_IMPORTED_MODULE_4__.setSessionVerified)(true);\n    return {\n        success: \"Email .\"\n    };\n}\n\n(0,private_next_rsc_action_validate__WEBPACK_IMPORTED_MODULE_5__.ensureServerEntryExports)([\n    resendVerificationAction,\n    verifyEmailAction,\n    verifyEmailByToken\n]);\n(0,private_next_rsc_server_reference__WEBPACK_IMPORTED_MODULE_0__.registerServerReference)(\"5710deafb07bb7de6e3ab7c26af2e5ae60713953\", resendVerificationAction);\n(0,private_next_rsc_server_reference__WEBPACK_IMPORTED_MODULE_0__.registerServerReference)(\"2368fce516b797d3ed444e92ea500e97d17fe106\", verifyEmailAction);\n(0,private_next_rsc_server_reference__WEBPACK_IMPORTED_MODULE_0__.registerServerReference)(\"f515440e3c08faafd17192c3c51d6e15aaed6b05\", verifyEmailByToken);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL3NyYy9hcHAvdmVyaWZ5LWVtYWlsL2FjdGlvbnMudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBRTZFO0FBQ3hCO0FBQ2M7QUFJNUQsZUFBZUs7SUFDcEIsTUFBTUMsT0FBTyxNQUFNSCw0REFBY0E7SUFDakMsSUFBSSxDQUFDRyxNQUFNO1FBQ1QsT0FBTztZQUFFQyxPQUFPO1FBQW9DO0lBQ3REO0lBQ0EsSUFBSUQsS0FBS0UsYUFBYSxFQUFFO1FBQ3RCLE9BQU87WUFBRUMsU0FBUztRQUF5QjtJQUM3QztJQUNBLElBQUk7UUFDRixNQUFNQyxPQUFPLE1BQU1WLGlFQUFxQkEsQ0FBQ00sS0FBS0ssRUFBRTtRQUNoRCxNQUFNVCxrRUFBcUJBLENBQUNJLEtBQUtNLEtBQUssRUFBRUY7SUFDMUMsRUFBRSxPQUFPSCxPQUFPO1FBQ2RNLFFBQVFOLEtBQUssQ0FBQyxxQ0FBcUNBO1FBQ25ELE9BQU87WUFBRUEsT0FBTztRQUF5RDtJQUMzRTtJQUNBLE9BQU87UUFBRUUsU0FBUztJQUEwQjtBQUM5QztBQUVPLGVBQWVLLGtCQUFrQkMsQ0FBWSxFQUFFQyxRQUFrQjtJQUN0RSxNQUFNTixPQUFPLENBQUNNLFNBQVNDLEdBQUcsQ0FBQyxXQUFXLEVBQUMsRUFBR0MsUUFBUSxHQUFHQyxJQUFJO0lBQ3pELE1BQU1iLE9BQU8sTUFBTUgsNERBQWNBO0lBRWpDLElBQUksQ0FBQ0csTUFBTTtRQUNULE9BQU87WUFBRUMsT0FBTztRQUF3QztJQUMxRDtJQUNBLElBQUlELEtBQUtFLGFBQWEsRUFBRTtRQUN0QixPQUFPO1lBQUVDLFNBQVM7UUFBeUI7SUFDN0M7SUFDQSxJQUFJLENBQUNDLE1BQU07UUFDVCxPQUFPO1lBQUVILE9BQU87UUFBNkI7SUFDL0M7SUFFQSxNQUFNYSxLQUFLLE1BQU1uQixtRUFBdUJBLENBQUNLLEtBQUtLLEVBQUUsRUFBRUQ7SUFDbEQsSUFBSSxDQUFDVSxJQUFJO1FBQ1AsT0FBTztZQUFFYixPQUFPO1FBQTZCO0lBQy9DO0lBQ0FILGdFQUFrQkEsQ0FBQztJQUNuQixPQUFPO1FBQUVLLFNBQVM7SUFBcUI7QUFDekM7QUFFTyxlQUFlWSxtQkFBbUJDLEtBQWE7SUFDcEQsTUFBTWhCLE9BQU8sTUFBTUgsNERBQWNBO0lBQ2pDLElBQUksQ0FBQ0csTUFBTSxPQUFPO1FBQUVDLE9BQU87SUFBd0M7SUFDbkUsSUFBSUQsS0FBS0UsYUFBYSxFQUFFLE9BQU87UUFBRUMsU0FBUztJQUF5QjtJQUNuRSxJQUFJLENBQUNhLE9BQU8sT0FBTztRQUFFZixPQUFPO0lBQXFDO0lBQ2pFLE1BQU1hLEtBQUssTUFBTW5CLG1FQUF1QkEsQ0FBQ0ssS0FBS0ssRUFBRSxFQUFFVyxNQUFNSCxJQUFJO0lBQzVELElBQUksQ0FBQ0MsSUFBSSxPQUFPO1FBQUViLE9BQU87SUFBZ0M7SUFDekRILGdFQUFrQkEsQ0FBQztJQUNuQixPQUFPO1FBQUVLLFNBQVM7SUFBcUI7QUFDekMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Abm90ZXB1Yi9kYXNoYm9hcmQvLi9zcmMvYXBwL3ZlcmlmeS1lbWFpbC9hY3Rpb25zLnRzP2M1OWYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc2VydmVyXCI7XG5cbmltcG9ydCB7IGlzc3VlVmVyaWZpY2F0aW9uQ29kZSwgY29uc3VtZVZlcmlmaWNhdGlvbkNvZGUgfSBmcm9tIFwiQC9saWIvY29kZXNcIjtcbmltcG9ydCB7IHNlbmRWZXJpZmljYXRpb25FbWFpbCB9IGZyb20gXCJAL2xpYi9lbWFpbHNcIjtcbmltcG9ydCB7IGdldEN1cnJlbnRVc2VyLCBzZXRTZXNzaW9uVmVyaWZpZWQgfSBmcm9tIFwiQC9saWIvc2Vzc2lvblwiO1xuXG5leHBvcnQgdHlwZSBGb3JtU3RhdGUgPSB7IGVycm9yPzogc3RyaW5nOyBzdWNjZXNzPzogc3RyaW5nIH07XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZXNlbmRWZXJpZmljYXRpb25BY3Rpb24oKTogUHJvbWlzZTxGb3JtU3RhdGU+IHtcbiAgY29uc3QgdXNlciA9IGF3YWl0IGdldEN1cnJlbnRVc2VyKCk7XG4gIGlmICghdXNlcikge1xuICAgIHJldHVybiB7IGVycm9yOiBcItCd0YPQttC90L4g0LLQvtC50YLQuCwg0YfRgtC+0LHRiyDQvtGC0L/RgNCw0LLQuNGC0Ywg0LrQvtC0LlwiIH07XG4gIH1cbiAgaWYgKHVzZXIuZW1haWxWZXJpZmllZCkge1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IFwiRW1haWwg0YPQttC1INC/0L7QtNGC0LLQtdGA0LbQtNC10L0uXCIgfTtcbiAgfVxuICB0cnkge1xuICAgIGNvbnN0IGNvZGUgPSBhd2FpdCBpc3N1ZVZlcmlmaWNhdGlvbkNvZGUodXNlci5pZCk7XG4gICAgYXdhaXQgc2VuZFZlcmlmaWNhdGlvbkVtYWlsKHVzZXIuZW1haWwsIGNvZGUpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgdG8gc2VuZCB2ZXJpZmljYXRpb24gZW1haWxcIiwgZXJyb3IpO1xuICAgIHJldHVybiB7IGVycm9yOiBcItCd0LUg0YPQtNCw0LvQvtGB0Ywg0L7RgtC/0YDQsNCy0LjRgtGMINC/0LjRgdGM0LzQvi4g0J/RgNC+0LLQtdGA0YzRgtC1IFNNVFAg0L3QsNGB0YLRgNC+0LnQutC4LlwiIH07XG4gIH1cbiAgcmV0dXJuIHsgc3VjY2VzczogXCLQmtC+0LQg0L7RgtC/0YDQsNCy0LvQtdC9INC90LAg0L/QvtGH0YLRgy5cIiB9O1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdmVyaWZ5RW1haWxBY3Rpb24oXzogRm9ybVN0YXRlLCBmb3JtRGF0YTogRm9ybURhdGEpOiBQcm9taXNlPEZvcm1TdGF0ZT4ge1xuICBjb25zdCBjb2RlID0gKGZvcm1EYXRhLmdldChcImNvZGVcIikgfHwgXCJcIikudG9TdHJpbmcoKS50cmltKCk7XG4gIGNvbnN0IHVzZXIgPSBhd2FpdCBnZXRDdXJyZW50VXNlcigpO1xuXG4gIGlmICghdXNlcikge1xuICAgIHJldHVybiB7IGVycm9yOiBcItCd0YPQttC90L4g0LLQvtC50YLQuCwg0YfRgtC+0LHRiyDQv9C+0LTRgtCy0LXRgNC00LjRgtGMIGVtYWlsLlwiIH07XG4gIH1cbiAgaWYgKHVzZXIuZW1haWxWZXJpZmllZCkge1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IFwiRW1haWwg0YPQttC1INC/0L7QtNGC0LLQtdGA0LbQtNC10L0uXCIgfTtcbiAgfVxuICBpZiAoIWNvZGUpIHtcbiAgICByZXR1cm4geyBlcnJvcjogXCLQktCy0LXQtNC40YLQtSDQutC+0LQg0L/QvtC00YLQstC10YDQttC00LXQvdC40Y8uXCIgfTtcbiAgfVxuXG4gIGNvbnN0IG9rID0gYXdhaXQgY29uc3VtZVZlcmlmaWNhdGlvbkNvZGUodXNlci5pZCwgY29kZSk7XG4gIGlmICghb2spIHtcbiAgICByZXR1cm4geyBlcnJvcjogXCLQndC10LLQtdGA0L3Ri9C5INC40LvQuCDQuNGB0YLQtdC60YjQuNC5INC60L7QtC5cIiB9O1xuICB9XG4gIHNldFNlc3Npb25WZXJpZmllZCh0cnVlKTtcbiAgcmV0dXJuIHsgc3VjY2VzczogXCJFbWFpbCDQv9C+0LTRgtCy0LXRgNC20LTQtdC9LlwiIH07XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB2ZXJpZnlFbWFpbEJ5VG9rZW4odG9rZW46IHN0cmluZyk6IFByb21pc2U8Rm9ybVN0YXRlPiB7XG4gIGNvbnN0IHVzZXIgPSBhd2FpdCBnZXRDdXJyZW50VXNlcigpO1xuICBpZiAoIXVzZXIpIHJldHVybiB7IGVycm9yOiBcItCd0YPQttC90L4g0LLQvtC50YLQuCwg0YfRgtC+0LHRiyDQv9C+0LTRgtCy0LXRgNC00LjRgtGMIGVtYWlsLlwiIH07XG4gIGlmICh1c2VyLmVtYWlsVmVyaWZpZWQpIHJldHVybiB7IHN1Y2Nlc3M6IFwiRW1haWwg0YPQttC1INC/0L7QtNGC0LLQtdGA0LbQtNC10L0uXCIgfTtcbiAgaWYgKCF0b2tlbikgcmV0dXJuIHsgZXJyb3I6IFwi0J3QtdC60L7RgNGA0LXQutGC0L3QsNGPINGB0YHRi9C70LrQsCDQv9C+0LTRgtCy0LXRgNC20LTQtdC90LjRjy5cIiB9O1xuICBjb25zdCBvayA9IGF3YWl0IGNvbnN1bWVWZXJpZmljYXRpb25Db2RlKHVzZXIuaWQsIHRva2VuLnRyaW0oKSk7XG4gIGlmICghb2spIHJldHVybiB7IGVycm9yOiBcItCd0LXQstC10YDQvdCw0Y8g0LjQu9C4INC40YHRgtC10LrRiNCw0Y8g0YHRgdGL0LvQutCwLlwiIH07XG4gIHNldFNlc3Npb25WZXJpZmllZCh0cnVlKTtcbiAgcmV0dXJuIHsgc3VjY2VzczogXCJFbWFpbCDQv9C+0LTRgtCy0LXRgNC20LTQtdC9LlwiIH07XG59XG4iXSwibmFtZXMiOlsiaXNzdWVWZXJpZmljYXRpb25Db2RlIiwiY29uc3VtZVZlcmlmaWNhdGlvbkNvZGUiLCJzZW5kVmVyaWZpY2F0aW9uRW1haWwiLCJnZXRDdXJyZW50VXNlciIsInNldFNlc3Npb25WZXJpZmllZCIsInJlc2VuZFZlcmlmaWNhdGlvbkFjdGlvbiIsInVzZXIiLCJlcnJvciIsImVtYWlsVmVyaWZpZWQiLCJzdWNjZXNzIiwiY29kZSIsImlkIiwiZW1haWwiLCJjb25zb2xlIiwidmVyaWZ5RW1haWxBY3Rpb24iLCJfIiwiZm9ybURhdGEiLCJnZXQiLCJ0b1N0cmluZyIsInRyaW0iLCJvayIsInZlcmlmeUVtYWlsQnlUb2tlbiIsInRva2VuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./src/app/verify-email/actions.ts\n");

/***/ }),

/***/ "(rsc)/./src/components/CreateSiteButton.tsx":
/*!*********************************************!*\
  !*** ./src/components/CreateSiteButton.tsx ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CreateSiteButton: () => (/* binding */ e0)
/* harmony export */ });
/* harmony import */ var next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/build/webpack/loaders/next-flight-loader/module-proxy */ "(rsc)/../../node_modules/next/dist/build/webpack/loaders/next-flight-loader/module-proxy.js");


const e0 = (0,next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__.createProxy)(String.raw`/Users/antonlozkin/Documents/obsidian-website/apps/dashboard/src/components/CreateSiteButton.tsx#CreateSiteButton`);


/***/ }),

/***/ "(rsc)/./src/components/VerifyBanner.tsx":
/*!*****************************************!*\
  !*** ./src/components/VerifyBanner.tsx ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   VerifyBanner: () => (/* binding */ e0)
/* harmony export */ });
/* harmony import */ var next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/build/webpack/loaders/next-flight-loader/module-proxy */ "(rsc)/../../node_modules/next/dist/build/webpack/loaders/next-flight-loader/module-proxy.js");


const e0 = (0,next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__.createProxy)(String.raw`/Users/antonlozkin/Documents/obsidian-website/apps/dashboard/src/components/VerifyBanner.tsx#VerifyBanner`);


/***/ }),

/***/ "(action-browser)/./src/lib/auth.ts":
/*!*************************!*\
  !*** ./src/lib/auth.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   authenticate: () => (/* binding */ authenticate),\n/* harmony export */   hashPassword: () => (/* binding */ hashPassword),\n/* harmony export */   isUniqueConstraintError: () => (/* binding */ isUniqueConstraintError),\n/* harmony export */   registerUser: () => (/* binding */ registerUser),\n/* harmony export */   setUserPassword: () => (/* binding */ setUserPassword),\n/* harmony export */   verifyPassword: () => (/* binding */ verifyPassword)\n/* harmony export */ });\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! bcryptjs */ \"(action-browser)/../../node_modules/bcryptjs/index.js\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(bcryptjs__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _prisma_client_runtime_library__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @prisma/client/runtime/library */ \"@prisma/client/runtime/library\");\n/* harmony import */ var _prisma_client_runtime_library__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_prisma_client_runtime_library__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _notepub_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @notepub/core */ \"(action-browser)/../../packages/core/src/index.ts\");\n/* harmony import */ var _notepub_db__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @notepub/db */ \"(action-browser)/../../packages/db/src/index.ts\");\n\n\n\n\nasync function hashPassword(password) {\n    const saltRounds = 10;\n    return bcryptjs__WEBPACK_IMPORTED_MODULE_0___default().hash(password, saltRounds);\n}\nasync function verifyPassword(password, hash) {\n    return bcryptjs__WEBPACK_IMPORTED_MODULE_0___default().compare(password, hash);\n}\nasync function registerUser(email, password) {\n    const hashed = await hashPassword(password);\n    const user = await (0,_notepub_core__WEBPACK_IMPORTED_MODULE_2__.createUser)(email);\n    await _notepub_db__WEBPACK_IMPORTED_MODULE_3__.prisma.password.create({\n        data: {\n            userId: user.id,\n            hash: hashed\n        }\n    });\n    return user;\n}\nasync function authenticate(email, password) {\n    const user = await (0,_notepub_core__WEBPACK_IMPORTED_MODULE_2__.findUserWithPasswordByEmail)(email);\n    if (!user || !user.password?.hash) return null;\n    const ok = await verifyPassword(password, user.password.hash);\n    if (!ok) return null;\n    return user;\n}\nasync function setUserPassword(userId, password) {\n    const hashed = await hashPassword(password);\n    await _notepub_db__WEBPACK_IMPORTED_MODULE_3__.prisma.password.upsert({\n        where: {\n            userId\n        },\n        update: {\n            hash: hashed\n        },\n        create: {\n            userId,\n            hash: hashed\n        }\n    });\n}\nfunction isUniqueConstraintError(error, field) {\n    if (!(error instanceof _prisma_client_runtime_library__WEBPACK_IMPORTED_MODULE_1__.PrismaClientKnownRequestError)) return false;\n    if (error.code !== \"P2002\") return false;\n    if (!field) return true;\n    const metaFields = error.meta?.target || [];\n    return metaFields.includes(field);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL3NyYy9saWIvYXV0aC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBOEI7QUFDaUQ7QUFDUDtBQUNuQztBQUU5QixlQUFlSyxhQUFhQyxRQUFnQjtJQUNqRCxNQUFNQyxhQUFhO0lBQ25CLE9BQU9QLG9EQUFXLENBQUNNLFVBQVVDO0FBQy9CO0FBRU8sZUFBZUUsZUFBZUgsUUFBZ0IsRUFBRUUsSUFBWTtJQUNqRSxPQUFPUix1REFBYyxDQUFDTSxVQUFVRTtBQUNsQztBQUVPLGVBQWVHLGFBQWFDLEtBQWEsRUFBRU4sUUFBZ0I7SUFDaEUsTUFBTU8sU0FBUyxNQUFNUixhQUFhQztJQUNsQyxNQUFNUSxPQUFPLE1BQU1YLHlEQUFVQSxDQUFDUztJQUM5QixNQUFNUiwrQ0FBTUEsQ0FBQ0UsUUFBUSxDQUFDUyxNQUFNLENBQUM7UUFDM0JDLE1BQU07WUFDSkMsUUFBUUgsS0FBS0ksRUFBRTtZQUNmVixNQUFNSztRQUNSO0lBQ0Y7SUFDQSxPQUFPQztBQUNUO0FBRU8sZUFBZUssYUFBYVAsS0FBYSxFQUFFTixRQUFnQjtJQUNoRSxNQUFNUSxPQUFPLE1BQU1aLDBFQUEyQkEsQ0FBQ1U7SUFDL0MsSUFBSSxDQUFDRSxRQUFRLENBQUNBLEtBQUtSLFFBQVEsRUFBRUUsTUFBTSxPQUFPO0lBQzFDLE1BQU1ZLEtBQUssTUFBTVgsZUFBZUgsVUFBVVEsS0FBS1IsUUFBUSxDQUFDRSxJQUFJO0lBQzVELElBQUksQ0FBQ1ksSUFBSSxPQUFPO0lBQ2hCLE9BQU9OO0FBQ1Q7QUFFTyxlQUFlTyxnQkFBZ0JKLE1BQWMsRUFBRVgsUUFBZ0I7SUFDcEUsTUFBTU8sU0FBUyxNQUFNUixhQUFhQztJQUNsQyxNQUFNRiwrQ0FBTUEsQ0FBQ0UsUUFBUSxDQUFDZ0IsTUFBTSxDQUFDO1FBQzNCQyxPQUFPO1lBQUVOO1FBQU87UUFDaEJPLFFBQVE7WUFBRWhCLE1BQU1LO1FBQU87UUFDdkJFLFFBQVE7WUFBRUU7WUFBUVQsTUFBTUs7UUFBTztJQUNqQztBQUNGO0FBRU8sU0FBU1ksd0JBQXdCQyxLQUFjLEVBQUVDLEtBQWM7SUFDcEUsSUFBSSxDQUFFRCxDQUFBQSxpQkFBaUJ6Qix5RkFBNEIsR0FBSSxPQUFPO0lBQzlELElBQUl5QixNQUFNRSxJQUFJLEtBQUssU0FBUyxPQUFPO0lBQ25DLElBQUksQ0FBQ0QsT0FBTyxPQUFPO0lBQ25CLE1BQU1FLGFBQWEsTUFBT0MsSUFBSSxFQUFFQyxVQUF1QixFQUFFO0lBQ3pELE9BQU9GLFdBQVdHLFFBQVEsQ0FBQ0w7QUFDN0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Abm90ZXB1Yi9kYXNoYm9hcmQvLi9zcmMvbGliL2F1dGgudHM/NjY5MiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYmNyeXB0IGZyb20gXCJiY3J5cHRqc1wiO1xuaW1wb3J0IHsgUHJpc21hQ2xpZW50S25vd25SZXF1ZXN0RXJyb3IgfSBmcm9tIFwiQHByaXNtYS9jbGllbnQvcnVudGltZS9saWJyYXJ5XCI7XG5pbXBvcnQgeyBmaW5kVXNlcldpdGhQYXNzd29yZEJ5RW1haWwsIGNyZWF0ZVVzZXIgfSBmcm9tIFwiQG5vdGVwdWIvY29yZVwiO1xuaW1wb3J0IHsgcHJpc21hIH0gZnJvbSBcIkBub3RlcHViL2RiXCI7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBoYXNoUGFzc3dvcmQocGFzc3dvcmQ6IHN0cmluZykge1xuICBjb25zdCBzYWx0Um91bmRzID0gMTA7XG4gIHJldHVybiBiY3J5cHQuaGFzaChwYXNzd29yZCwgc2FsdFJvdW5kcyk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB2ZXJpZnlQYXNzd29yZChwYXNzd29yZDogc3RyaW5nLCBoYXNoOiBzdHJpbmcpIHtcbiAgcmV0dXJuIGJjcnlwdC5jb21wYXJlKHBhc3N3b3JkLCBoYXNoKTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlZ2lzdGVyVXNlcihlbWFpbDogc3RyaW5nLCBwYXNzd29yZDogc3RyaW5nKSB7XG4gIGNvbnN0IGhhc2hlZCA9IGF3YWl0IGhhc2hQYXNzd29yZChwYXNzd29yZCk7XG4gIGNvbnN0IHVzZXIgPSBhd2FpdCBjcmVhdGVVc2VyKGVtYWlsKTtcbiAgYXdhaXQgcHJpc21hLnBhc3N3b3JkLmNyZWF0ZSh7XG4gICAgZGF0YToge1xuICAgICAgdXNlcklkOiB1c2VyLmlkLFxuICAgICAgaGFzaDogaGFzaGVkLFxuICAgIH0sXG4gIH0pO1xuICByZXR1cm4gdXNlcjtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGF1dGhlbnRpY2F0ZShlbWFpbDogc3RyaW5nLCBwYXNzd29yZDogc3RyaW5nKSB7XG4gIGNvbnN0IHVzZXIgPSBhd2FpdCBmaW5kVXNlcldpdGhQYXNzd29yZEJ5RW1haWwoZW1haWwpO1xuICBpZiAoIXVzZXIgfHwgIXVzZXIucGFzc3dvcmQ/Lmhhc2gpIHJldHVybiBudWxsO1xuICBjb25zdCBvayA9IGF3YWl0IHZlcmlmeVBhc3N3b3JkKHBhc3N3b3JkLCB1c2VyLnBhc3N3b3JkLmhhc2gpO1xuICBpZiAoIW9rKSByZXR1cm4gbnVsbDtcbiAgcmV0dXJuIHVzZXI7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzZXRVc2VyUGFzc3dvcmQodXNlcklkOiBzdHJpbmcsIHBhc3N3b3JkOiBzdHJpbmcpIHtcbiAgY29uc3QgaGFzaGVkID0gYXdhaXQgaGFzaFBhc3N3b3JkKHBhc3N3b3JkKTtcbiAgYXdhaXQgcHJpc21hLnBhc3N3b3JkLnVwc2VydCh7XG4gICAgd2hlcmU6IHsgdXNlcklkIH0sXG4gICAgdXBkYXRlOiB7IGhhc2g6IGhhc2hlZCB9LFxuICAgIGNyZWF0ZTogeyB1c2VySWQsIGhhc2g6IGhhc2hlZCB9LFxuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzVW5pcXVlQ29uc3RyYWludEVycm9yKGVycm9yOiB1bmtub3duLCBmaWVsZD86IHN0cmluZykge1xuICBpZiAoIShlcnJvciBpbnN0YW5jZW9mIFByaXNtYUNsaWVudEtub3duUmVxdWVzdEVycm9yKSkgcmV0dXJuIGZhbHNlO1xuICBpZiAoZXJyb3IuY29kZSAhPT0gXCJQMjAwMlwiKSByZXR1cm4gZmFsc2U7XG4gIGlmICghZmllbGQpIHJldHVybiB0cnVlO1xuICBjb25zdCBtZXRhRmllbGRzID0gKGVycm9yLm1ldGE/LnRhcmdldCBhcyBzdHJpbmdbXSkgfHwgW107XG4gIHJldHVybiBtZXRhRmllbGRzLmluY2x1ZGVzKGZpZWxkKTtcbn1cbiJdLCJuYW1lcyI6WyJiY3J5cHQiLCJQcmlzbWFDbGllbnRLbm93blJlcXVlc3RFcnJvciIsImZpbmRVc2VyV2l0aFBhc3N3b3JkQnlFbWFpbCIsImNyZWF0ZVVzZXIiLCJwcmlzbWEiLCJoYXNoUGFzc3dvcmQiLCJwYXNzd29yZCIsInNhbHRSb3VuZHMiLCJoYXNoIiwidmVyaWZ5UGFzc3dvcmQiLCJjb21wYXJlIiwicmVnaXN0ZXJVc2VyIiwiZW1haWwiLCJoYXNoZWQiLCJ1c2VyIiwiY3JlYXRlIiwiZGF0YSIsInVzZXJJZCIsImlkIiwiYXV0aGVudGljYXRlIiwib2siLCJzZXRVc2VyUGFzc3dvcmQiLCJ1cHNlcnQiLCJ3aGVyZSIsInVwZGF0ZSIsImlzVW5pcXVlQ29uc3RyYWludEVycm9yIiwiZXJyb3IiLCJmaWVsZCIsImNvZGUiLCJtZXRhRmllbGRzIiwibWV0YSIsInRhcmdldCIsImluY2x1ZGVzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./src/lib/auth.ts\n");

/***/ }),

/***/ "(action-browser)/./src/lib/codes.ts":
/*!**************************!*\
  !*** ./src/lib/codes.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   consumeResetToken: () => (/* binding */ consumeResetToken),\n/* harmony export */   consumeVerificationCode: () => (/* binding */ consumeVerificationCode),\n/* harmony export */   issueResetToken: () => (/* binding */ issueResetToken),\n/* harmony export */   issueVerificationCode: () => (/* binding */ issueVerificationCode)\n/* harmony export */ });\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! crypto */ \"crypto\");\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(crypto__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _notepub_db__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @notepub/db */ \"(action-browser)/../../packages/db/src/index.ts\");\n/* harmony import */ var _auth__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./auth */ \"(action-browser)/./src/lib/auth.ts\");\n\n\n\nconst VERIFICATION_TTL_MS = 15 * 60 * 1000;\nconst RESET_TTL_MS = 15 * 60 * 1000;\nfunction generateVerificationToken() {\n    return crypto__WEBPACK_IMPORTED_MODULE_0___default().randomBytes(16).toString(\"hex\");\n}\nfunction generateResetCode() {\n    return Math.floor(100000 + Math.random() * 900000).toString();\n}\nasync function issueVerificationCode(userId) {\n    const code = generateVerificationToken();\n    const expiresAt = new Date(Date.now() + VERIFICATION_TTL_MS);\n    await _notepub_db__WEBPACK_IMPORTED_MODULE_1__.prisma.emailVerificationCode.create({\n        data: {\n            code,\n            userId,\n            expiresAt\n        }\n    });\n    return code;\n}\nasync function consumeVerificationCode(userId, code) {\n    const record = await _notepub_db__WEBPACK_IMPORTED_MODULE_1__.prisma.emailVerificationCode.findFirst({\n        where: {\n            userId,\n            code,\n            usedAt: null,\n            expiresAt: {\n                gt: new Date()\n            }\n        },\n        orderBy: {\n            createdAt: \"desc\"\n        }\n    });\n    if (!record) return false;\n    await _notepub_db__WEBPACK_IMPORTED_MODULE_1__.prisma.$transaction([\n        _notepub_db__WEBPACK_IMPORTED_MODULE_1__.prisma.emailVerificationCode.update({\n            where: {\n                id: record.id\n            },\n            data: {\n                usedAt: new Date()\n            }\n        }),\n        _notepub_db__WEBPACK_IMPORTED_MODULE_1__.prisma.user.update({\n            where: {\n                id: userId\n            },\n            data: {\n                emailVerified: true\n            }\n        })\n    ]);\n    return true;\n}\nasync function issueResetToken(userId) {\n    const token = generateResetCode();\n    const expiresAt = new Date(Date.now() + RESET_TTL_MS);\n    await _notepub_db__WEBPACK_IMPORTED_MODULE_1__.prisma.passwordResetToken.create({\n        data: {\n            token,\n            userId,\n            expiresAt\n        }\n    });\n    return token;\n}\nasync function consumeResetToken(userId, token, newPassword) {\n    const record = await _notepub_db__WEBPACK_IMPORTED_MODULE_1__.prisma.passwordResetToken.findFirst({\n        where: {\n            userId,\n            token,\n            usedAt: null,\n            expiresAt: {\n                gt: new Date()\n            }\n        },\n        orderBy: {\n            createdAt: \"desc\"\n        }\n    });\n    if (!record) return false;\n    const hashed = await (0,_auth__WEBPACK_IMPORTED_MODULE_2__.hashPassword)(newPassword);\n    await _notepub_db__WEBPACK_IMPORTED_MODULE_1__.prisma.$transaction([\n        _notepub_db__WEBPACK_IMPORTED_MODULE_1__.prisma.passwordResetToken.update({\n            where: {\n                id: record.id\n            },\n            data: {\n                usedAt: new Date()\n            }\n        }),\n        _notepub_db__WEBPACK_IMPORTED_MODULE_1__.prisma.password.upsert({\n            where: {\n                userId\n            },\n            update: {\n                hash: hashed\n            },\n            create: {\n                userId,\n                hash: hashed\n            }\n        })\n    ]);\n    return true;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q1QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Abm90ZXB1Yi9kYXNoYm9hcmQvLi9zcmMvbGliL2NvZGVzLnRzPzBlNDYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGNyeXB0byBmcm9tIFwiY3J5cHRvXCI7XG5pbXBvcnQgeyBwcmlzbWEgfSBmcm9tIFwiQG5vdGVwdWIvZGJcIjtcbmltcG9ydCB7IGhhc2hQYXNzd29yZCB9IGZyb20gXCIuL2F1dGhcIjtcblxuY29uc3QgVkVSSUZJQ0FUSU9OX1RUTF9NUyA9IDE1ICogNjAgKiAxMDAwO1xuY29uc3QgUkVTRVRfVFRMX01TID0gMTUgKiA2MCAqIDEwMDA7XG5cbmZ1bmN0aW9uIGdlbmVyYXRlVmVyaWZpY2F0aW9uVG9rZW4oKSB7XG4gIHJldHVybiBjcnlwdG8ucmFuZG9tQnl0ZXMoMTYpLnRvU3RyaW5nKFwiaGV4XCIpO1xufVxuXG5mdW5jdGlvbiBnZW5lcmF0ZVJlc2V0Q29kZSgpIHtcbiAgcmV0dXJuIE1hdGguZmxvb3IoMTAwMDAwICsgTWF0aC5yYW5kb20oKSAqIDkwMDAwMCkudG9TdHJpbmcoKTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGlzc3VlVmVyaWZpY2F0aW9uQ29kZSh1c2VySWQ6IHN0cmluZykge1xuICBjb25zdCBjb2RlID0gZ2VuZXJhdGVWZXJpZmljYXRpb25Ub2tlbigpO1xuICBjb25zdCBleHBpcmVzQXQgPSBuZXcgRGF0ZShEYXRlLm5vdygpICsgVkVSSUZJQ0FUSU9OX1RUTF9NUyk7XG4gIGF3YWl0IHByaXNtYS5lbWFpbFZlcmlmaWNhdGlvbkNvZGUuY3JlYXRlKHtcbiAgICBkYXRhOiB7XG4gICAgICBjb2RlLFxuICAgICAgdXNlcklkLFxuICAgICAgZXhwaXJlc0F0LFxuICAgIH0sXG4gIH0pO1xuICByZXR1cm4gY29kZTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNvbnN1bWVWZXJpZmljYXRpb25Db2RlKHVzZXJJZDogc3RyaW5nLCBjb2RlOiBzdHJpbmcpIHtcbiAgY29uc3QgcmVjb3JkID0gYXdhaXQgcHJpc21hLmVtYWlsVmVyaWZpY2F0aW9uQ29kZS5maW5kRmlyc3Qoe1xuICAgIHdoZXJlOiB7XG4gICAgICB1c2VySWQsXG4gICAgICBjb2RlLFxuICAgICAgdXNlZEF0OiBudWxsLFxuICAgICAgZXhwaXJlc0F0OiB7IGd0OiBuZXcgRGF0ZSgpIH0sXG4gICAgfSxcbiAgICBvcmRlckJ5OiB7IGNyZWF0ZWRBdDogXCJkZXNjXCIgfSxcbiAgfSk7XG4gIGlmICghcmVjb3JkKSByZXR1cm4gZmFsc2U7XG4gIGF3YWl0IHByaXNtYS4kdHJhbnNhY3Rpb24oW1xuICAgIHByaXNtYS5lbWFpbFZlcmlmaWNhdGlvbkNvZGUudXBkYXRlKHsgd2hlcmU6IHsgaWQ6IHJlY29yZC5pZCB9LCBkYXRhOiB7IHVzZWRBdDogbmV3IERhdGUoKSB9IH0pLFxuICAgIHByaXNtYS51c2VyLnVwZGF0ZSh7IHdoZXJlOiB7IGlkOiB1c2VySWQgfSwgZGF0YTogeyBlbWFpbFZlcmlmaWVkOiB0cnVlIH0gfSksXG4gIF0pO1xuICByZXR1cm4gdHJ1ZTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGlzc3VlUmVzZXRUb2tlbih1c2VySWQ6IHN0cmluZykge1xuICBjb25zdCB0b2tlbiA9IGdlbmVyYXRlUmVzZXRDb2RlKCk7XG4gIGNvbnN0IGV4cGlyZXNBdCA9IG5ldyBEYXRlKERhdGUubm93KCkgKyBSRVNFVF9UVExfTVMpO1xuICBhd2FpdCBwcmlzbWEucGFzc3dvcmRSZXNldFRva2VuLmNyZWF0ZSh7XG4gICAgZGF0YToge1xuICAgICAgdG9rZW4sXG4gICAgICB1c2VySWQsXG4gICAgICBleHBpcmVzQXQsXG4gICAgfSxcbiAgfSk7XG4gIHJldHVybiB0b2tlbjtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNvbnN1bWVSZXNldFRva2VuKHVzZXJJZDogc3RyaW5nLCB0b2tlbjogc3RyaW5nLCBuZXdQYXNzd29yZDogc3RyaW5nKSB7XG4gIGNvbnN0IHJlY29yZCA9IGF3YWl0IHByaXNtYS5wYXNzd29yZFJlc2V0VG9rZW4uZmluZEZpcnN0KHtcbiAgICB3aGVyZToge1xuICAgICAgdXNlcklkLFxuICAgICAgdG9rZW4sXG4gICAgICB1c2VkQXQ6IG51bGwsXG4gICAgICBleHBpcmVzQXQ6IHsgZ3Q6IG5ldyBEYXRlKCkgfSxcbiAgICB9LFxuICAgIG9yZGVyQnk6IHsgY3JlYXRlZEF0OiBcImRlc2NcIiB9LFxuICB9KTtcbiAgaWYgKCFyZWNvcmQpIHJldHVybiBmYWxzZTtcblxuICBjb25zdCBoYXNoZWQgPSBhd2FpdCBoYXNoUGFzc3dvcmQobmV3UGFzc3dvcmQpO1xuXG4gIGF3YWl0IHByaXNtYS4kdHJhbnNhY3Rpb24oW1xuICAgIHByaXNtYS5wYXNzd29yZFJlc2V0VG9rZW4udXBkYXRlKHsgd2hlcmU6IHsgaWQ6IHJlY29yZC5pZCB9LCBkYXRhOiB7IHVzZWRBdDogbmV3IERhdGUoKSB9IH0pLFxuICAgIHByaXNtYS5wYXNzd29yZC51cHNlcnQoe1xuICAgICAgd2hlcmU6IHsgdXNlcklkIH0sXG4gICAgICB1cGRhdGU6IHsgaGFzaDogaGFzaGVkIH0sXG4gICAgICBjcmVhdGU6IHsgdXNlcklkLCBoYXNoOiBoYXNoZWQgfSxcbiAgICB9KSxcbiAgXSk7XG5cbiAgcmV0dXJuIHRydWU7XG59XG4iXSwibmFtZXMiOlsiY3J5cHRvIiwicHJpc21hIiwiaGFzaFBhc3N3b3JkIiwiVkVSSUZJQ0FUSU9OX1RUTF9NUyIsIlJFU0VUX1RUTF9NUyIsImdlbmVyYXRlVmVyaWZpY2F0aW9uVG9rZW4iLCJyYW5kb21CeXRlcyIsInRvU3RyaW5nIiwiZ2VuZXJhdGVSZXNldENvZGUiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJpc3N1ZVZlcmlmaWNhdGlvbkNvZGUiLCJ1c2VySWQiLCJjb2RlIiwiZXhwaXJlc0F0IiwiRGF0ZSIsIm5vdyIsImVtYWlsVmVyaWZpY2F0aW9uQ29kZSIsImNyZWF0ZSIsImRhdGEiLCJjb25zdW1lVmVyaWZpY2F0aW9uQ29kZSIsInJlY29yZCIsImZpbmRGaXJzdCIsIndoZXJlIiwidXNlZEF0IiwiZ3QiLCJvcmRlckJ5IiwiY3JlYXRlZEF0IiwiJHRyYW5zYWN0aW9uIiwidXBkYXRlIiwiaWQiLCJ1c2VyIiwiZW1haWxWZXJpZmllZCIsImlzc3VlUmVzZXRUb2tlbiIsInRva2VuIiwicGFzc3dvcmRSZXNldFRva2VuIiwiY29uc3VtZVJlc2V0VG9rZW4iLCJuZXdQYXNzd29yZCIsImhhc2hlZCIsInBhc3N3b3JkIiwidXBzZXJ0IiwiaGFzaCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./src/lib/codes.ts\n");

/***/ }),

/***/ "(action-browser)/./src/lib/emails.ts":
/*!***************************!*\
  !*** ./src/lib/emails.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   sendPasswordResetEmail: () => (/* binding */ sendPasswordResetEmail),\n/* harmony export */   sendVerificationEmail: () => (/* binding */ sendVerificationEmail)\n/* harmony export */ });\n/* harmony import */ var _notepub_env__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @notepub/env */ \"(action-browser)/../../packages/env/src/index.ts\");\n/* harmony import */ var _mailer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./mailer */ \"(action-browser)/./src/lib/mailer.ts\");\n\n\nconst env = (0,_notepub_env__WEBPACK_IMPORTED_MODULE_0__.loadEnv)();\nconst appUrl = env.APP_URL || \"https://notepub.site\";\nasync function sendVerificationEmail(to, token) {\n    const subject = \"Notepub:  email\";\n    const link = `${appUrl.replace(/\\/+$/, \"\")}/verify-email?token=${encodeURIComponent(token)}`;\n    const text = ` email  Notepub:\n\n  :\n${link}\n\n  15 .     ,   .`;\n    await (0,_mailer__WEBPACK_IMPORTED_MODULE_1__.sendMail)(to, subject, text);\n}\nasync function sendPasswordResetEmail(to, code) {\n    const subject = \"Notepub:  \";\n    const text = `   : ${code}\\n\\n  15 .         .`;\n    await (0,_mailer__WEBPACK_IMPORTED_MODULE_1__.sendMail)(to, subject, text);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL3NyYy9saWIvZW1haWxzLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBdUM7QUFDSDtBQUVwQyxNQUFNRSxNQUFNRixxREFBT0E7QUFDbkIsTUFBTUcsU0FBU0QsSUFBSUUsT0FBTyxJQUFJO0FBRXZCLGVBQWVDLHNCQUFzQkMsRUFBVSxFQUFFQyxLQUFhO0lBQ25FLE1BQU1DLFVBQVU7SUFDaEIsTUFBTUMsT0FBTyxDQUFDLEVBQUVOLE9BQU9PLE9BQU8sQ0FBQyxRQUFRLElBQUksb0JBQW9CLEVBQUVDLG1CQUFtQkosT0FBTyxDQUFDO0lBQzVGLE1BQU1LLE9BQU8sQ0FBQzs7O0FBR2hCLEVBQUVILEtBQUs7O3dGQUVpRixDQUFDO0lBQ3ZGLE1BQU1SLGlEQUFRQSxDQUFDSyxJQUFJRSxTQUFTSTtBQUM5QjtBQUVPLGVBQWVDLHVCQUF1QlAsRUFBVSxFQUFFUSxJQUFZO0lBQ25FLE1BQU1OLFVBQVU7SUFDaEIsTUFBTUksT0FBTyxDQUFDLHVCQUF1QixFQUFFRSxLQUFLLDZGQUE2RixDQUFDO0lBQzFJLE1BQU1iLGlEQUFRQSxDQUFDSyxJQUFJRSxTQUFTSTtBQUM5QiIsInNvdXJjZXMiOlsid2VicGFjazovL0Bub3RlcHViL2Rhc2hib2FyZC8uL3NyYy9saWIvZW1haWxzLnRzPzVkN2UiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgbG9hZEVudiB9IGZyb20gXCJAbm90ZXB1Yi9lbnZcIjtcbmltcG9ydCB7IHNlbmRNYWlsIH0gZnJvbSBcIi4vbWFpbGVyXCI7XG5cbmNvbnN0IGVudiA9IGxvYWRFbnYoKTtcbmNvbnN0IGFwcFVybCA9IGVudi5BUFBfVVJMIHx8IFwiaHR0cHM6Ly9ub3RlcHViLnNpdGVcIjtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNlbmRWZXJpZmljYXRpb25FbWFpbCh0bzogc3RyaW5nLCB0b2tlbjogc3RyaW5nKSB7XG4gIGNvbnN0IHN1YmplY3QgPSBcIk5vdGVwdWI6INC/0L7QtNGC0LLQtdGA0LTQuNGC0LUgZW1haWxcIjtcbiAgY29uc3QgbGluayA9IGAke2FwcFVybC5yZXBsYWNlKC9cXC8rJC8sIFwiXCIpfS92ZXJpZnktZW1haWw/dG9rZW49JHtlbmNvZGVVUklDb21wb25lbnQodG9rZW4pfWA7XG4gIGNvbnN0IHRleHQgPSBg0J/QvtC00YLQstC10YDQtNC40YLQtSBlbWFpbCDQtNC70Y8gTm90ZXB1Yjpcblxu0J/QtdGA0LXQudC00LjRgtC1INC/0L4g0YHRgdGL0LvQutC1OlxuJHtsaW5rfVxuXG7QodGB0YvQu9C60LAg0LTQtdC50YHRgtCy0YPQtdGCIDE1INC80LjQvdGD0YIuINCV0YHQu9C4INCy0Ysg0L3QtSDQt9Cw0L/RgNCw0YjQuNCy0LDQu9C4INC/0L7QtNGC0LLQtdGA0LbQtNC10L3QuNC1LCDQuNCz0L3QvtGA0LjRgNGD0LnRgtC1INGN0YLQviDQv9C40YHRjNC80L4uYDtcbiAgYXdhaXQgc2VuZE1haWwodG8sIHN1YmplY3QsIHRleHQpO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VuZFBhc3N3b3JkUmVzZXRFbWFpbCh0bzogc3RyaW5nLCBjb2RlOiBzdHJpbmcpIHtcbiAgY29uc3Qgc3ViamVjdCA9IFwiTm90ZXB1Yjog0YHQsdGA0L7RgSDQv9Cw0YDQvtC70Y9cIjtcbiAgY29uc3QgdGV4dCA9IGDQmtC+0LQg0LTQu9GPINGB0LHRgNC+0YHQsCDQv9Cw0YDQvtC70Y86ICR7Y29kZX1cXG5cXG7QmtC+0LQg0LTQtdC50YHRgtCy0LjRgtC10LvQtdC9IDE1INC80LjQvdGD0YIuINCS0LLQtdC00LjRgtC1INC10LPQviDQstC80LXRgdGC0LUg0YEg0L3QvtCy0YvQvCDQv9Cw0YDQvtC70LXQvCDQvdCwINGB0YLRgNCw0L3QuNGG0LUg0LLQvtGB0YHRgtCw0L3QvtCy0LvQtdC90LjRjy5gO1xuICBhd2FpdCBzZW5kTWFpbCh0bywgc3ViamVjdCwgdGV4dCk7XG59XG4iXSwibmFtZXMiOlsibG9hZEVudiIsInNlbmRNYWlsIiwiZW52IiwiYXBwVXJsIiwiQVBQX1VSTCIsInNlbmRWZXJpZmljYXRpb25FbWFpbCIsInRvIiwidG9rZW4iLCJzdWJqZWN0IiwibGluayIsInJlcGxhY2UiLCJlbmNvZGVVUklDb21wb25lbnQiLCJ0ZXh0Iiwic2VuZFBhc3N3b3JkUmVzZXRFbWFpbCIsImNvZGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./src/lib/emails.ts\n");

/***/ }),

/***/ "(action-browser)/./src/lib/mailer.ts":
/*!***************************!*\
  !*** ./src/lib/mailer.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   sendMail: () => (/* binding */ sendMail)\n/* harmony export */ });\n/* harmony import */ var nodemailer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! nodemailer */ \"(action-browser)/../../node_modules/nodemailer/lib/nodemailer.js\");\n/* harmony import */ var _notepub_env__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @notepub/env */ \"(action-browser)/../../packages/env/src/index.ts\");\n\n\nconst env = (0,_notepub_env__WEBPACK_IMPORTED_MODULE_1__.loadEnv)();\nfunction ensureMailEnv() {\n    const missing = [];\n    if (!env.MAIL_HOST) missing.push(\"MAIL_HOST\");\n    if (!env.MAIL_PORT) missing.push(\"MAIL_PORT\");\n    if (!env.MAIL_USER) missing.push(\"MAIL_USER\");\n    if (!env.MAIL_PASS) missing.push(\"MAIL_PASS\");\n    if (!env.MAIL_FROM) missing.push(\"MAIL_FROM\");\n    if (missing.length > 0) {\n        throw new Error(`Missing mail configuration: ${missing.join(\", \")}`);\n    }\n}\nfunction parseSecureFlag() {\n    const raw = env.MAIL_SECURE;\n    if (raw === \"false\" || raw === \"0\") return false;\n    return true;\n}\nconst smtpOptions = {\n    host: env.MAIL_HOST,\n    port: env.MAIL_PORT || 465,\n    secure: parseSecureFlag(),\n    family: 6,\n    auth: {\n        user: env.MAIL_USER,\n        pass: env.MAIL_PASS\n    },\n    // force IPv6 during DNS resolution (Node >= 18)\n    dnsLookup: (hostname, _options, cb)=>{\n        return nodemailer__WEBPACK_IMPORTED_MODULE_0__.dns.resolve(hostname, {\n            family: 6\n        }, cb);\n    }\n};\nconst transporter = nodemailer__WEBPACK_IMPORTED_MODULE_0__.createTransport(smtpOptions);\nasync function sendMail(to, subject, text, html) {\n    ensureMailEnv();\n    const from = env.MAIL_FROM || env.MAIL_USER || \"no-reply@example.com\";\n    return transporter.sendMail({\n        from,\n        to,\n        subject,\n        text,\n        html: html || text\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL3NyYy9saWIvbWFpbGVyLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUErRDtBQUN4QjtBQUV2QyxNQUFNRSxNQUFNRCxxREFBT0E7QUFFbkIsU0FBU0U7SUFDUCxNQUFNQyxVQUFVLEVBQUU7SUFDbEIsSUFBSSxDQUFDRixJQUFJRyxTQUFTLEVBQUVELFFBQVFFLElBQUksQ0FBQztJQUNqQyxJQUFJLENBQUNKLElBQUlLLFNBQVMsRUFBRUgsUUFBUUUsSUFBSSxDQUFDO0lBQ2pDLElBQUksQ0FBQ0osSUFBSU0sU0FBUyxFQUFFSixRQUFRRSxJQUFJLENBQUM7SUFDakMsSUFBSSxDQUFDSixJQUFJTyxTQUFTLEVBQUVMLFFBQVFFLElBQUksQ0FBQztJQUNqQyxJQUFJLENBQUNKLElBQUlRLFNBQVMsRUFBRU4sUUFBUUUsSUFBSSxDQUFDO0lBQ2pDLElBQUlGLFFBQVFPLE1BQU0sR0FBRyxHQUFHO1FBQ3RCLE1BQU0sSUFBSUMsTUFBTSxDQUFDLDRCQUE0QixFQUFFUixRQUFRUyxJQUFJLENBQUMsTUFBTSxDQUFDO0lBQ3JFO0FBQ0Y7QUFFQSxTQUFTQztJQUNQLE1BQU1DLE1BQU1iLElBQUljLFdBQVc7SUFDM0IsSUFBSUQsUUFBUSxXQUFXQSxRQUFRLEtBQUssT0FBTztJQUMzQyxPQUFPO0FBQ1Q7QUFFQSxNQUFNRSxjQUFnQztJQUNwQ0MsTUFBTWhCLElBQUlHLFNBQVM7SUFDbkJjLE1BQU1qQixJQUFJSyxTQUFTLElBQUk7SUFDdkJhLFFBQVFOO0lBQ1JPLFFBQVE7SUFDUkMsTUFBTTtRQUNKQyxNQUFNckIsSUFBSU0sU0FBUztRQUNuQmdCLE1BQU10QixJQUFJTyxTQUFTO0lBQ3JCO0lBQ0EsZ0RBQWdEO0lBQ2hEZ0IsV0FBVyxDQUFDQyxVQUFVQyxVQUFVQztRQUM5QixPQUFPNUIsdUNBQVVBLENBQUM2QixHQUFHLENBQUNDLE9BQU8sQ0FBQ0osVUFBVTtZQUFFTCxRQUFRO1FBQUUsR0FBR087SUFDekQ7QUFDRjtBQUVBLE1BQU1HLGNBQWMvQix1REFBMEIsQ0FBQ2lCO0FBRXhDLGVBQWVnQixTQUFTQyxFQUFVLEVBQUVDLE9BQWUsRUFBRUMsSUFBWSxFQUFFQyxJQUFhO0lBQ3JGbEM7SUFDQSxNQUFNbUMsT0FBT3BDLElBQUlRLFNBQVMsSUFBSVIsSUFBSU0sU0FBUyxJQUFJO0lBQy9DLE9BQU91QixZQUFZRSxRQUFRLENBQUM7UUFDMUJLO1FBQ0FKO1FBQ0FDO1FBQ0FDO1FBQ0FDLE1BQU1BLFFBQVFEO0lBQ2hCO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Abm90ZXB1Yi9kYXNoYm9hcmQvLi9zcmMvbGliL21haWxlci50cz8xZWE0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBub2RlbWFpbGVyLCB7IHR5cGUgVHJhbnNwb3J0T3B0aW9ucyB9IGZyb20gXCJub2RlbWFpbGVyXCI7XG5pbXBvcnQgeyBsb2FkRW52IH0gZnJvbSBcIkBub3RlcHViL2VudlwiO1xuXG5jb25zdCBlbnYgPSBsb2FkRW52KCk7XG5cbmZ1bmN0aW9uIGVuc3VyZU1haWxFbnYoKSB7XG4gIGNvbnN0IG1pc3NpbmcgPSBbXTtcbiAgaWYgKCFlbnYuTUFJTF9IT1NUKSBtaXNzaW5nLnB1c2goXCJNQUlMX0hPU1RcIik7XG4gIGlmICghZW52Lk1BSUxfUE9SVCkgbWlzc2luZy5wdXNoKFwiTUFJTF9QT1JUXCIpO1xuICBpZiAoIWVudi5NQUlMX1VTRVIpIG1pc3NpbmcucHVzaChcIk1BSUxfVVNFUlwiKTtcbiAgaWYgKCFlbnYuTUFJTF9QQVNTKSBtaXNzaW5nLnB1c2goXCJNQUlMX1BBU1NcIik7XG4gIGlmICghZW52Lk1BSUxfRlJPTSkgbWlzc2luZy5wdXNoKFwiTUFJTF9GUk9NXCIpO1xuICBpZiAobWlzc2luZy5sZW5ndGggPiAwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBNaXNzaW5nIG1haWwgY29uZmlndXJhdGlvbjogJHttaXNzaW5nLmpvaW4oXCIsIFwiKX1gKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBwYXJzZVNlY3VyZUZsYWcoKSB7XG4gIGNvbnN0IHJhdyA9IGVudi5NQUlMX1NFQ1VSRTtcbiAgaWYgKHJhdyA9PT0gXCJmYWxzZVwiIHx8IHJhdyA9PT0gXCIwXCIpIHJldHVybiBmYWxzZTtcbiAgcmV0dXJuIHRydWU7XG59XG5cbmNvbnN0IHNtdHBPcHRpb25zOiBUcmFuc3BvcnRPcHRpb25zID0ge1xuICBob3N0OiBlbnYuTUFJTF9IT1NULFxuICBwb3J0OiBlbnYuTUFJTF9QT1JUIHx8IDQ2NSxcbiAgc2VjdXJlOiBwYXJzZVNlY3VyZUZsYWcoKSxcbiAgZmFtaWx5OiA2LCAvLyBwcmVmZXIgSVB2NiB0byBhdm9pZCBibG9ja2VkIElQdjQgZWdyZXNzXG4gIGF1dGg6IHtcbiAgICB1c2VyOiBlbnYuTUFJTF9VU0VSLFxuICAgIHBhc3M6IGVudi5NQUlMX1BBU1MsXG4gIH0sXG4gIC8vIGZvcmNlIElQdjYgZHVyaW5nIEROUyByZXNvbHV0aW9uIChOb2RlID49IDE4KVxuICBkbnNMb29rdXA6IChob3N0bmFtZSwgX29wdGlvbnMsIGNiKSA9PiB7XG4gICAgcmV0dXJuIG5vZGVtYWlsZXIuZG5zLnJlc29sdmUoaG9zdG5hbWUsIHsgZmFtaWx5OiA2IH0sIGNiKTtcbiAgfSxcbn07XG5cbmNvbnN0IHRyYW5zcG9ydGVyID0gbm9kZW1haWxlci5jcmVhdGVUcmFuc3BvcnQoc210cE9wdGlvbnMpO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VuZE1haWwodG86IHN0cmluZywgc3ViamVjdDogc3RyaW5nLCB0ZXh0OiBzdHJpbmcsIGh0bWw/OiBzdHJpbmcpIHtcbiAgZW5zdXJlTWFpbEVudigpO1xuICBjb25zdCBmcm9tID0gZW52Lk1BSUxfRlJPTSB8fCBlbnYuTUFJTF9VU0VSIHx8IFwibm8tcmVwbHlAZXhhbXBsZS5jb21cIjtcbiAgcmV0dXJuIHRyYW5zcG9ydGVyLnNlbmRNYWlsKHtcbiAgICBmcm9tLFxuICAgIHRvLFxuICAgIHN1YmplY3QsXG4gICAgdGV4dCxcbiAgICBodG1sOiBodG1sIHx8IHRleHQsXG4gIH0pO1xufVxuIl0sIm5hbWVzIjpbIm5vZGVtYWlsZXIiLCJsb2FkRW52IiwiZW52IiwiZW5zdXJlTWFpbEVudiIsIm1pc3NpbmciLCJNQUlMX0hPU1QiLCJwdXNoIiwiTUFJTF9QT1JUIiwiTUFJTF9VU0VSIiwiTUFJTF9QQVNTIiwiTUFJTF9GUk9NIiwibGVuZ3RoIiwiRXJyb3IiLCJqb2luIiwicGFyc2VTZWN1cmVGbGFnIiwicmF3IiwiTUFJTF9TRUNVUkUiLCJzbXRwT3B0aW9ucyIsImhvc3QiLCJwb3J0Iiwic2VjdXJlIiwiZmFtaWx5IiwiYXV0aCIsInVzZXIiLCJwYXNzIiwiZG5zTG9va3VwIiwiaG9zdG5hbWUiLCJfb3B0aW9ucyIsImNiIiwiZG5zIiwicmVzb2x2ZSIsInRyYW5zcG9ydGVyIiwiY3JlYXRlVHJhbnNwb3J0Iiwic2VuZE1haWwiLCJ0byIsInN1YmplY3QiLCJ0ZXh0IiwiaHRtbCIsImZyb20iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./src/lib/mailer.ts\n");

/***/ }),

/***/ "(action-browser)/./src/lib/session.ts":
/*!****************************!*\
  !*** ./src/lib/session.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   clearSession: () => (/* binding */ clearSession),\n/* harmony export */   getCurrentUser: () => (/* binding */ getCurrentUser),\n/* harmony export */   isEmailVerified: () => (/* binding */ isEmailVerified),\n/* harmony export */   setSession: () => (/* binding */ setSession),\n/* harmony export */   setSessionVerified: () => (/* binding */ setSessionVerified)\n/* harmony export */ });\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! crypto */ \"crypto\");\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(crypto__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_headers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/headers */ \"(action-browser)/../../node_modules/next/dist/api/headers.js\");\n/* harmony import */ var _notepub_env__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @notepub/env */ \"(action-browser)/../../packages/env/src/index.ts\");\n/* harmony import */ var _notepub_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @notepub/core */ \"(action-browser)/../../packages/core/src/index.ts\");\n\n\n\n\nconst env = (0,_notepub_env__WEBPACK_IMPORTED_MODULE_2__.loadEnv)();\nconst COOKIE_NAME = env.SESSION_COOKIE_NAME;\nconst SECRET = env.COOKIE_SECRET;\nconst IS_PROD = env.NODE_ENV === \"production\";\nfunction sign(payload) {\n    return crypto__WEBPACK_IMPORTED_MODULE_0___default().createHmac(\"sha256\", SECRET).update(payload).digest(\"hex\");\n}\nfunction encodeSession(session) {\n    const payload = Buffer.from(JSON.stringify(session)).toString(\"base64url\");\n    const signature = sign(payload);\n    return `${payload}.${signature}`;\n}\nfunction decodeSession(value) {\n    if (!value) return null;\n    const [payload, signature] = value.split(\".\");\n    if (!payload || !signature) return null;\n    if (sign(payload) !== signature) return null;\n    try {\n        const parsed = JSON.parse(Buffer.from(payload, \"base64url\").toString(\"utf8\"));\n        if (!parsed.userId || !parsed.exp) return null;\n        if (Date.now() > parsed.exp) return null;\n        return parsed;\n    } catch  {\n        return null;\n    }\n}\nasync function getCurrentUser() {\n    const sessionCookie = (0,next_headers__WEBPACK_IMPORTED_MODULE_1__.cookies)().get(COOKIE_NAME)?.value;\n    const session = decodeSession(sessionCookie);\n    if (!session) return null;\n    const user = await (0,_notepub_core__WEBPACK_IMPORTED_MODULE_3__.getUserById)(session.userId);\n    if (!user) return null;\n    return user;\n}\nfunction setSession(userId, emailVerified = false) {\n    const maxAgeDays = 30;\n    const exp = Date.now() + maxAgeDays * 24 * 60 * 60 * 1000;\n    const value = encodeSession({\n        userId,\n        exp,\n        emailVerified\n    });\n    (0,next_headers__WEBPACK_IMPORTED_MODULE_1__.cookies)().set({\n        name: COOKIE_NAME,\n        value,\n        httpOnly: true,\n        sameSite: \"lax\",\n        secure: IS_PROD,\n        path: \"/\",\n        maxAge: maxAgeDays * 24 * 60 * 60\n    });\n}\nfunction clearSession() {\n    (0,next_headers__WEBPACK_IMPORTED_MODULE_1__.cookies)().set({\n        name: COOKIE_NAME,\n        value: \"\",\n        httpOnly: true,\n        sameSite: \"lax\",\n        secure: IS_PROD,\n        path: \"/\",\n        maxAge: 0\n    });\n}\nfunction setSessionVerified(emailVerified) {\n    const sessionCookie = (0,next_headers__WEBPACK_IMPORTED_MODULE_1__.cookies)().get(COOKIE_NAME)?.value;\n    const session = decodeSession(sessionCookie);\n    if (!session) return;\n    const maxAgeDays = 30;\n    const exp = Date.now() + maxAgeDays * 24 * 60 * 60 * 1000;\n    const value = encodeSession({\n        userId: session.userId,\n        exp,\n        emailVerified\n    });\n    (0,next_headers__WEBPACK_IMPORTED_MODULE_1__.cookies)().set({\n        name: COOKIE_NAME,\n        value,\n        httpOnly: true,\n        sameSite: \"lax\",\n        secure: IS_PROD,\n        path: \"/\",\n        maxAge: maxAgeDays * 24 * 60 * 60\n    });\n}\nfunction isEmailVerified() {\n    const sessionCookie = (0,next_headers__WEBPACK_IMPORTED_MODULE_1__.cookies)().get(COOKIE_NAME)?.value;\n    const session = decodeSession(sessionCookie);\n    return session?.emailVerified === true;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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O0lBQ3pFckMscURBQU9BLEdBQUd1QyxHQUFHLENBQUM7UUFDWkMsTUFBTXBDO1FBQ05vQjtRQUNBaUIsVUFBVTtRQUNWQyxVQUFVO1FBQ1ZDLFFBQVFuQztRQUNSb0MsTUFBTTtRQUNOQyxRQUFRUCxhQUFhLEtBQUssS0FBSztJQUNqQztBQUNGO0FBRU8sU0FBU1U7SUFDZCxNQUFNZixnQkFBZ0JqQyxxREFBT0EsR0FBR2tDLEdBQUcsQ0FBQzlCLGNBQWNvQjtJQUNsRCxNQUFNUixVQUFVTyxjQUFjVTtJQUM5QixPQUFPakIsU0FBU3FCLGtCQUFrQjtBQUNwQyIsInNvdXJjZXMiOlsid2VicGFjazovL0Bub3RlcHViL2Rhc2hib2FyZC8uL3NyYy9saWIvc2Vzc2lvbi50cz84ZGY5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBjcnlwdG8gZnJvbSBcImNyeXB0b1wiO1xuaW1wb3J0IHsgY29va2llcyB9IGZyb20gXCJuZXh0L2hlYWRlcnNcIjtcbmltcG9ydCB7IGxvYWRFbnYgfSBmcm9tIFwiQG5vdGVwdWIvZW52XCI7XG5pbXBvcnQgeyBnZXRVc2VyQnlJZCB9IGZyb20gXCJAbm90ZXB1Yi9jb3JlXCI7XG5cbmNvbnN0IGVudiA9IGxvYWRFbnYoKTtcbmNvbnN0IENPT0tJRV9OQU1FID0gZW52LlNFU1NJT05fQ09PS0lFX05BTUU7XG5jb25zdCBTRUNSRVQgPSBlbnYuQ09PS0lFX1NFQ1JFVDtcbmNvbnN0IElTX1BST0QgPSBlbnYuTk9ERV9FTlYgPT09IFwicHJvZHVjdGlvblwiO1xuXG50eXBlIFNlc3Npb25QYXlsb2FkID0ge1xuICB1c2VySWQ6IHN0cmluZztcbiAgZXhwOiBudW1iZXI7XG4gIGVtYWlsVmVyaWZpZWQ/OiBib29sZWFuO1xufTtcblxuZnVuY3Rpb24gc2lnbihwYXlsb2FkOiBzdHJpbmcpIHtcbiAgcmV0dXJuIGNyeXB0by5jcmVhdGVIbWFjKFwic2hhMjU2XCIsIFNFQ1JFVCkudXBkYXRlKHBheWxvYWQpLmRpZ2VzdChcImhleFwiKTtcbn1cblxuZnVuY3Rpb24gZW5jb2RlU2Vzc2lvbihzZXNzaW9uOiBTZXNzaW9uUGF5bG9hZCkge1xuICBjb25zdCBwYXlsb2FkID0gQnVmZmVyLmZyb20oSlNPTi5zdHJpbmdpZnkoc2Vzc2lvbikpLnRvU3RyaW5nKFwiYmFzZTY0dXJsXCIpO1xuICBjb25zdCBzaWduYXR1cmUgPSBzaWduKHBheWxvYWQpO1xuICByZXR1cm4gYCR7cGF5bG9hZH0uJHtzaWduYXR1cmV9YDtcbn1cblxuZnVuY3Rpb24gZGVjb2RlU2Vzc2lvbih2YWx1ZTogc3RyaW5nIHwgdW5kZWZpbmVkIHwgbnVsbCk6IFNlc3Npb25QYXlsb2FkIHwgbnVsbCB7XG4gIGlmICghdmFsdWUpIHJldHVybiBudWxsO1xuICBjb25zdCBbcGF5bG9hZCwgc2lnbmF0dXJlXSA9IHZhbHVlLnNwbGl0KFwiLlwiKTtcbiAgaWYgKCFwYXlsb2FkIHx8ICFzaWduYXR1cmUpIHJldHVybiBudWxsO1xuICBpZiAoc2lnbihwYXlsb2FkKSAhPT0gc2lnbmF0dXJlKSByZXR1cm4gbnVsbDtcbiAgdHJ5IHtcbiAgICBjb25zdCBwYXJzZWQgPSBKU09OLnBhcnNlKEJ1ZmZlci5mcm9tKHBheWxvYWQsIFwiYmFzZTY0dXJsXCIpLnRvU3RyaW5nKFwidXRmOFwiKSkgYXMgU2Vzc2lvblBheWxvYWQ7XG4gICAgaWYgKCFwYXJzZWQudXNlcklkIHx8ICFwYXJzZWQuZXhwKSByZXR1cm4gbnVsbDtcbiAgICBpZiAoRGF0ZS5ub3coKSA+IHBhcnNlZC5leHApIHJldHVybiBudWxsO1xuICAgIHJldHVybiBwYXJzZWQ7XG4gIH0gY2F0Y2gge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRDdXJyZW50VXNlcigpIHtcbiAgY29uc3Qgc2Vzc2lvbkNvb2tpZSA9IGNvb2tpZXMoKS5nZXQoQ09PS0lFX05BTUUpPy52YWx1ZTtcbiAgY29uc3Qgc2Vzc2lvbiA9IGRlY29kZVNlc3Npb24oc2Vzc2lvbkNvb2tpZSk7XG4gIGlmICghc2Vzc2lvbikgcmV0dXJuIG51bGw7XG4gIGNvbnN0IHVzZXIgPSBhd2FpdCBnZXRVc2VyQnlJZChzZXNzaW9uLnVzZXJJZCk7XG4gIGlmICghdXNlcikgcmV0dXJuIG51bGw7XG4gIHJldHVybiB1c2VyO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0U2Vzc2lvbih1c2VySWQ6IHN0cmluZywgZW1haWxWZXJpZmllZCA9IGZhbHNlKSB7XG4gIGNvbnN0IG1heEFnZURheXMgPSAzMDtcbiAgY29uc3QgZXhwID0gRGF0ZS5ub3coKSArIG1heEFnZURheXMgKiAyNCAqIDYwICogNjAgKiAxMDAwO1xuICBjb25zdCB2YWx1ZSA9IGVuY29kZVNlc3Npb24oeyB1c2VySWQsIGV4cCwgZW1haWxWZXJpZmllZCB9KTtcbiAgY29va2llcygpLnNldCh7XG4gICAgbmFtZTogQ09PS0lFX05BTUUsXG4gICAgdmFsdWUsXG4gICAgaHR0cE9ubHk6IHRydWUsXG4gICAgc2FtZVNpdGU6IFwibGF4XCIsXG4gICAgc2VjdXJlOiBJU19QUk9ELFxuICAgIHBhdGg6IFwiL1wiLFxuICAgIG1heEFnZTogbWF4QWdlRGF5cyAqIDI0ICogNjAgKiA2MCxcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjbGVhclNlc3Npb24oKSB7XG4gIGNvb2tpZXMoKS5zZXQoe1xuICAgIG5hbWU6IENPT0tJRV9OQU1FLFxuICAgIHZhbHVlOiBcIlwiLFxuICAgIGh0dHBPbmx5OiB0cnVlLFxuICAgIHNhbWVTaXRlOiBcImxheFwiLFxuICAgIHNlY3VyZTogSVNfUFJPRCxcbiAgICBwYXRoOiBcIi9cIixcbiAgICBtYXhBZ2U6IDAsXG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0U2Vzc2lvblZlcmlmaWVkKGVtYWlsVmVyaWZpZWQ6IGJvb2xlYW4pIHtcbiAgY29uc3Qgc2Vzc2lvbkNvb2tpZSA9IGNvb2tpZXMoKS5nZXQoQ09PS0lFX05BTUUpPy52YWx1ZTtcbiAgY29uc3Qgc2Vzc2lvbiA9IGRlY29kZVNlc3Npb24oc2Vzc2lvbkNvb2tpZSk7XG4gIGlmICghc2Vzc2lvbikgcmV0dXJuO1xuICBjb25zdCBtYXhBZ2VEYXlzID0gMzA7XG4gIGNvbnN0IGV4cCA9IERhdGUubm93KCkgKyBtYXhBZ2VEYXlzICogMjQgKiA2MCAqIDYwICogMTAwMDtcbiAgY29uc3QgdmFsdWUgPSBlbmNvZGVTZXNzaW9uKHsgdXNlcklkOiBzZXNzaW9uLnVzZXJJZCwgZXhwLCBlbWFpbFZlcmlmaWVkIH0pO1xuICBjb29raWVzKCkuc2V0KHtcbiAgICBuYW1lOiBDT09LSUVfTkFNRSxcbiAgICB2YWx1ZSxcbiAgICBodHRwT25seTogdHJ1ZSxcbiAgICBzYW1lU2l0ZTogXCJsYXhcIixcbiAgICBzZWN1cmU6IElTX1BST0QsXG4gICAgcGF0aDogXCIvXCIsXG4gICAgbWF4QWdlOiBtYXhBZ2VEYXlzICogMjQgKiA2MCAqIDYwLFxuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzRW1haWxWZXJpZmllZCgpIHtcbiAgY29uc3Qgc2Vzc2lvbkNvb2tpZSA9IGNvb2tpZXMoKS5nZXQoQ09PS0lFX05BTUUpPy52YWx1ZTtcbiAgY29uc3Qgc2Vzc2lvbiA9IGRlY29kZVNlc3Npb24oc2Vzc2lvbkNvb2tpZSk7XG4gIHJldHVybiBzZXNzaW9uPy5lbWFpbFZlcmlmaWVkID09PSB0cnVlO1xufVxuIl0sIm5hbWVzIjpbImNyeXB0byIsImNvb2tpZXMiLCJsb2FkRW52IiwiZ2V0VXNlckJ5SWQiLCJlbnYiLCJDT09LSUVfTkFNRSIsIlNFU1NJT05fQ09PS0lFX05BTUUiLCJTRUNSRVQiLCJDT09LSUVfU0VDUkVUIiwiSVNfUFJPRCIsIk5PREVfRU5WIiwic2lnbiIsInBheWxvYWQiLCJjcmVhdGVIbWFjIiwidXBkYXRlIiwiZGlnZXN0IiwiZW5jb2RlU2Vzc2lvbiIsInNlc3Npb24iLCJCdWZmZXIiLCJmcm9tIiwiSlNPTiIsInN0cmluZ2lmeSIsInRvU3RyaW5nIiwic2lnbmF0dXJlIiwiZGVjb2RlU2Vzc2lvbiIsInZhbHVlIiwic3BsaXQiLCJwYXJzZWQiLCJwYXJzZSIsInVzZXJJZCIsImV4cCIsIkRhdGUiLCJub3ciLCJnZXRDdXJyZW50VXNlciIsInNlc3Npb25Db29raWUiLCJnZXQiLCJ1c2VyIiwic2V0U2Vzc2lvbiIsImVtYWlsVmVyaWZpZWQiLCJtYXhBZ2VEYXlzIiwic2V0IiwibmFtZSIsImh0dHBPbmx5Iiwic2FtZVNpdGUiLCJzZWN1cmUiLCJwYXRoIiwibWF4QWdlIiwiY2xlYXJTZXNzaW9uIiwic2V0U2Vzc2lvblZlcmlmaWVkIiwiaXNFbWFpbFZlcmlmaWVkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./src/lib/session.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/session.ts":
/*!****************************!*\
  !*** ./src/lib/session.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   clearSession: () => (/* binding */ clearSession),\n/* harmony export */   getCurrentUser: () => (/* binding */ getCurrentUser),\n/* harmony export */   isEmailVerified: () => (/* binding */ isEmailVerified),\n/* harmony export */   setSession: () => (/* binding */ setSession),\n/* harmony export */   setSessionVerified: () => (/* binding */ setSessionVerified)\n/* harmony export */ });\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! crypto */ \"crypto\");\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(crypto__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_headers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/headers */ \"(rsc)/../../node_modules/next/dist/api/headers.js\");\n/* harmony import */ var _notepub_env__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @notepub/env */ \"(rsc)/../../packages/env/src/index.ts\");\n/* harmony import */ var _notepub_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @notepub/core */ \"(rsc)/../../packages/core/src/index.ts\");\n\n\n\n\nconst env = (0,_notepub_env__WEBPACK_IMPORTED_MODULE_2__.loadEnv)();\nconst COOKIE_NAME = env.SESSION_COOKIE_NAME;\nconst SECRET = env.COOKIE_SECRET;\nconst IS_PROD = env.NODE_ENV === \"production\";\nfunction sign(payload) {\n    return crypto__WEBPACK_IMPORTED_MODULE_0___default().createHmac(\"sha256\", SECRET).update(payload).digest(\"hex\");\n}\nfunction encodeSession(session) {\n    const payload = Buffer.from(JSON.stringify(session)).toString(\"base64url\");\n    const signature = sign(payload);\n    return `${payload}.${signature}`;\n}\nfunction decodeSession(value) {\n    if (!value) return null;\n    const [payload, signature] = value.split(\".\");\n    if (!payload || !signature) return null;\n    if (sign(payload) !== signature) return null;\n    try {\n        const parsed = JSON.parse(Buffer.from(payload, \"base64url\").toString(\"utf8\"));\n        if (!parsed.userId || !parsed.exp) return null;\n        if (Date.now() > parsed.exp) return null;\n        return parsed;\n    } catch  {\n        return null;\n    }\n}\nasync function getCurrentUser() {\n    const sessionCookie = (0,next_headers__WEBPACK_IMPORTED_MODULE_1__.cookies)().get(COOKIE_NAME)?.value;\n    const session = decodeSession(sessionCookie);\n    if (!session) return null;\n    const user = await (0,_notepub_core__WEBPACK_IMPORTED_MODULE_3__.getUserById)(session.userId);\n    if (!user) return null;\n    return user;\n}\nfunction setSession(userId, emailVerified = false) {\n    const maxAgeDays = 30;\n    const exp = Date.now() + maxAgeDays * 24 * 60 * 60 * 1000;\n    const value = encodeSession({\n        userId,\n        exp,\n        emailVerified\n    });\n    (0,next_headers__WEBPACK_IMPORTED_MODULE_1__.cookies)().set({\n        name: COOKIE_NAME,\n        value,\n        httpOnly: true,\n        sameSite: \"lax\",\n        secure: IS_PROD,\n        path: \"/\",\n        maxAge: maxAgeDays * 24 * 60 * 60\n    });\n}\nfunction clearSession() {\n    (0,next_headers__WEBPACK_IMPORTED_MODULE_1__.cookies)().set({\n        name: COOKIE_NAME,\n        value: \"\",\n        httpOnly: true,\n        sameSite: \"lax\",\n        secure: IS_PROD,\n        path: \"/\",\n        maxAge: 0\n    });\n}\nfunction setSessionVerified(emailVerified) {\n    const sessionCookie = (0,next_headers__WEBPACK_IMPORTED_MODULE_1__.cookies)().get(COOKIE_NAME)?.value;\n    const session = decodeSession(sessionCookie);\n    if (!session) return;\n    const maxAgeDays = 30;\n    const exp = Date.now() + maxAgeDays * 24 * 60 * 60 * 1000;\n    const value = encodeSession({\n        userId: session.userId,\n        exp,\n        emailVerified\n    });\n    (0,next_headers__WEBPACK_IMPORTED_MODULE_1__.cookies)().set({\n        name: COOKIE_NAME,\n        value,\n        httpOnly: true,\n        sameSite: \"lax\",\n        secure: IS_PROD,\n        path: \"/\",\n        maxAge: maxAgeDays * 24 * 60 * 60\n    });\n}\nfunction isEmailVerified() {\n    const sessionCookie = (0,next_headers__WEBPACK_IMPORTED_MODULE_1__.cookies)().get(COOKIE_NAME)?.value;\n    const session = decodeSession(sessionCookie);\n    return session?.emailVerified === true;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFPQSxHQUFHdUMsR0FBRyxDQUFDO1FBQ1pDLE1BQU1wQztRQUNOb0I7UUFDQWlCLFVBQVU7UUFDVkMsVUFBVTtRQUNWQyxRQUFRbkM7UUFDUm9DLE1BQU07UUFDTkMsUUFBUVAsYUFBYSxLQUFLLEtBQUs7SUFDakM7QUFDRjtBQUVPLFNBQVNVO0lBQ2QsTUFBTWYsZ0JBQWdCakMscURBQU9BLEdBQUdrQyxHQUFHLENBQUM5QixjQUFjb0I7SUFDbEQsTUFBTVIsVUFBVU8sY0FBY1U7SUFDOUIsT0FBT2pCLFNBQVNxQixrQkFBa0I7QUFDcEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Abm90ZXB1Yi9kYXNoYm9hcmQvLi9zcmMvbGliL3Nlc3Npb24udHM/OGRmOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgY3J5cHRvIGZyb20gXCJjcnlwdG9cIjtcbmltcG9ydCB7IGNvb2tpZXMgfSBmcm9tIFwibmV4dC9oZWFkZXJzXCI7XG5pbXBvcnQgeyBsb2FkRW52IH0gZnJvbSBcIkBub3RlcHViL2VudlwiO1xuaW1wb3J0IHsgZ2V0VXNlckJ5SWQgfSBmcm9tIFwiQG5vdGVwdWIvY29yZVwiO1xuXG5jb25zdCBlbnYgPSBsb2FkRW52KCk7XG5jb25zdCBDT09LSUVfTkFNRSA9IGVudi5TRVNTSU9OX0NPT0tJRV9OQU1FO1xuY29uc3QgU0VDUkVUID0gZW52LkNPT0tJRV9TRUNSRVQ7XG5jb25zdCBJU19QUk9EID0gZW52Lk5PREVfRU5WID09PSBcInByb2R1Y3Rpb25cIjtcblxudHlwZSBTZXNzaW9uUGF5bG9hZCA9IHtcbiAgdXNlcklkOiBzdHJpbmc7XG4gIGV4cDogbnVtYmVyO1xuICBlbWFpbFZlcmlmaWVkPzogYm9vbGVhbjtcbn07XG5cbmZ1bmN0aW9uIHNpZ24ocGF5bG9hZDogc3RyaW5nKSB7XG4gIHJldHVybiBjcnlwdG8uY3JlYXRlSG1hYyhcInNoYTI1NlwiLCBTRUNSRVQpLnVwZGF0ZShwYXlsb2FkKS5kaWdlc3QoXCJoZXhcIik7XG59XG5cbmZ1bmN0aW9uIGVuY29kZVNlc3Npb24oc2Vzc2lvbjogU2Vzc2lvblBheWxvYWQpIHtcbiAgY29uc3QgcGF5bG9hZCA9IEJ1ZmZlci5mcm9tKEpTT04uc3RyaW5naWZ5KHNlc3Npb24pKS50b1N0cmluZyhcImJhc2U2NHVybFwiKTtcbiAgY29uc3Qgc2lnbmF0dXJlID0gc2lnbihwYXlsb2FkKTtcbiAgcmV0dXJuIGAke3BheWxvYWR9LiR7c2lnbmF0dXJlfWA7XG59XG5cbmZ1bmN0aW9uIGRlY29kZVNlc3Npb24odmFsdWU6IHN0cmluZyB8IHVuZGVmaW5lZCB8IG51bGwpOiBTZXNzaW9uUGF5bG9hZCB8IG51bGwge1xuICBpZiAoIXZhbHVlKSByZXR1cm4gbnVsbDtcbiAgY29uc3QgW3BheWxvYWQsIHNpZ25hdHVyZV0gPSB2YWx1ZS5zcGxpdChcIi5cIik7XG4gIGlmICghcGF5bG9hZCB8fCAhc2lnbmF0dXJlKSByZXR1cm4gbnVsbDtcbiAgaWYgKHNpZ24ocGF5bG9hZCkgIT09IHNpZ25hdHVyZSkgcmV0dXJuIG51bGw7XG4gIHRyeSB7XG4gICAgY29uc3QgcGFyc2VkID0gSlNPTi5wYXJzZShCdWZmZXIuZnJvbShwYXlsb2FkLCBcImJhc2U2NHVybFwiKS50b1N0cmluZyhcInV0ZjhcIikpIGFzIFNlc3Npb25QYXlsb2FkO1xuICAgIGlmICghcGFyc2VkLnVzZXJJZCB8fCAhcGFyc2VkLmV4cCkgcmV0dXJuIG51bGw7XG4gICAgaWYgKERhdGUubm93KCkgPiBwYXJzZWQuZXhwKSByZXR1cm4gbnVsbDtcbiAgICByZXR1cm4gcGFyc2VkO1xuICB9IGNhdGNoIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0Q3VycmVudFVzZXIoKSB7XG4gIGNvbnN0IHNlc3Npb25Db29raWUgPSBjb29raWVzKCkuZ2V0KENPT0tJRV9OQU1FKT8udmFsdWU7XG4gIGNvbnN0IHNlc3Npb24gPSBkZWNvZGVTZXNzaW9uKHNlc3Npb25Db29raWUpO1xuICBpZiAoIXNlc3Npb24pIHJldHVybiBudWxsO1xuICBjb25zdCB1c2VyID0gYXdhaXQgZ2V0VXNlckJ5SWQoc2Vzc2lvbi51c2VySWQpO1xuICBpZiAoIXVzZXIpIHJldHVybiBudWxsO1xuICByZXR1cm4gdXNlcjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldFNlc3Npb24odXNlcklkOiBzdHJpbmcsIGVtYWlsVmVyaWZpZWQgPSBmYWxzZSkge1xuICBjb25zdCBtYXhBZ2VEYXlzID0gMzA7XG4gIGNvbnN0IGV4cCA9IERhdGUubm93KCkgKyBtYXhBZ2VEYXlzICogMjQgKiA2MCAqIDYwICogMTAwMDtcbiAgY29uc3QgdmFsdWUgPSBlbmNvZGVTZXNzaW9uKHsgdXNlcklkLCBleHAsIGVtYWlsVmVyaWZpZWQgfSk7XG4gIGNvb2tpZXMoKS5zZXQoe1xuICAgIG5hbWU6IENPT0tJRV9OQU1FLFxuICAgIHZhbHVlLFxuICAgIGh0dHBPbmx5OiB0cnVlLFxuICAgIHNhbWVTaXRlOiBcImxheFwiLFxuICAgIHNlY3VyZTogSVNfUFJPRCxcbiAgICBwYXRoOiBcIi9cIixcbiAgICBtYXhBZ2U6IG1heEFnZURheXMgKiAyNCAqIDYwICogNjAsXG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2xlYXJTZXNzaW9uKCkge1xuICBjb29raWVzKCkuc2V0KHtcbiAgICBuYW1lOiBDT09LSUVfTkFNRSxcbiAgICB2YWx1ZTogXCJcIixcbiAgICBodHRwT25seTogdHJ1ZSxcbiAgICBzYW1lU2l0ZTogXCJsYXhcIixcbiAgICBzZWN1cmU6IElTX1BST0QsXG4gICAgcGF0aDogXCIvXCIsXG4gICAgbWF4QWdlOiAwLFxuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldFNlc3Npb25WZXJpZmllZChlbWFpbFZlcmlmaWVkOiBib29sZWFuKSB7XG4gIGNvbnN0IHNlc3Npb25Db29raWUgPSBjb29raWVzKCkuZ2V0KENPT0tJRV9OQU1FKT8udmFsdWU7XG4gIGNvbnN0IHNlc3Npb24gPSBkZWNvZGVTZXNzaW9uKHNlc3Npb25Db29raWUpO1xuICBpZiAoIXNlc3Npb24pIHJldHVybjtcbiAgY29uc3QgbWF4QWdlRGF5cyA9IDMwO1xuICBjb25zdCBleHAgPSBEYXRlLm5vdygpICsgbWF4QWdlRGF5cyAqIDI0ICogNjAgKiA2MCAqIDEwMDA7XG4gIGNvbnN0IHZhbHVlID0gZW5jb2RlU2Vzc2lvbih7IHVzZXJJZDogc2Vzc2lvbi51c2VySWQsIGV4cCwgZW1haWxWZXJpZmllZCB9KTtcbiAgY29va2llcygpLnNldCh7XG4gICAgbmFtZTogQ09PS0lFX05BTUUsXG4gICAgdmFsdWUsXG4gICAgaHR0cE9ubHk6IHRydWUsXG4gICAgc2FtZVNpdGU6IFwibGF4XCIsXG4gICAgc2VjdXJlOiBJU19QUk9ELFxuICAgIHBhdGg6IFwiL1wiLFxuICAgIG1heEFnZTogbWF4QWdlRGF5cyAqIDI0ICogNjAgKiA2MCxcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0VtYWlsVmVyaWZpZWQoKSB7XG4gIGNvbnN0IHNlc3Npb25Db29raWUgPSBjb29raWVzKCkuZ2V0KENPT0tJRV9OQU1FKT8udmFsdWU7XG4gIGNvbnN0IHNlc3Npb24gPSBkZWNvZGVTZXNzaW9uKHNlc3Npb25Db29raWUpO1xuICByZXR1cm4gc2Vzc2lvbj8uZW1haWxWZXJpZmllZCA9PT0gdHJ1ZTtcbn1cbiJdLCJuYW1lcyI6WyJjcnlwdG8iLCJjb29raWVzIiwibG9hZEVudiIsImdldFVzZXJCeUlkIiwiZW52IiwiQ09PS0lFX05BTUUiLCJTRVNTSU9OX0NPT0tJRV9OQU1FIiwiU0VDUkVUIiwiQ09PS0lFX1NFQ1JFVCIsIklTX1BST0QiLCJOT0RFX0VOViIsInNpZ24iLCJwYXlsb2FkIiwiY3JlYXRlSG1hYyIsInVwZGF0ZSIsImRpZ2VzdCIsImVuY29kZVNlc3Npb24iLCJzZXNzaW9uIiwiQnVmZmVyIiwiZnJvbSIsIkpTT04iLCJzdHJpbmdpZnkiLCJ0b1N0cmluZyIsInNpZ25hdHVyZSIsImRlY29kZVNlc3Npb24iLCJ2YWx1ZSIsInNwbGl0IiwicGFyc2VkIiwicGFyc2UiLCJ1c2VySWQiLCJleHAiLCJEYXRlIiwibm93IiwiZ2V0Q3VycmVudFVzZXIiLCJzZXNzaW9uQ29va2llIiwiZ2V0IiwidXNlciIsInNldFNlc3Npb24iLCJlbWFpbFZlcmlmaWVkIiwibWF4QWdlRGF5cyIsInNldCIsIm5hbWUiLCJodHRwT25seSIsInNhbWVTaXRlIiwic2VjdXJlIiwicGF0aCIsIm1heEFnZSIsImNsZWFyU2Vzc2lvbiIsInNldFNlc3Npb25WZXJpZmllZCIsImlzRW1haWxWZXJpZmllZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/session.ts\n");

/***/ }),

/***/ "(action-browser)/../../packages/core/src/index.ts":
/*!****************************************!*\
  !*** ../../packages/core/src/index.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createSite: () => (/* reexport safe */ _sites__WEBPACK_IMPORTED_MODULE_1__.createSite),\n/* harmony export */   createUser: () => (/* reexport safe */ _users__WEBPACK_IMPORTED_MODULE_0__.createUser),\n/* harmony export */   deleteSite: () => (/* reexport safe */ _sites__WEBPACK_IMPORTED_MODULE_1__.deleteSite),\n/* harmony export */   findUserByEmail: () => (/* reexport safe */ _users__WEBPACK_IMPORTED_MODULE_0__.findUserByEmail),\n/* harmony export */   findUserWithPasswordByEmail: () => (/* reexport safe */ _users__WEBPACK_IMPORTED_MODULE_0__.findUserWithPasswordByEmail),\n/* harmony export */   getSiteById: () => (/* reexport safe */ _sites__WEBPACK_IMPORTED_MODULE_1__.getSiteById),\n/* harmony export */   getSiteBySlug: () => (/* reexport safe */ _sites__WEBPACK_IMPORTED_MODULE_1__.getSiteBySlug),\n/* harmony export */   getUserById: () => (/* reexport safe */ _users__WEBPACK_IMPORTED_MODULE_0__.getUserById),\n/* harmony export */   listSitesForUser: () => (/* reexport safe */ _sites__WEBPACK_IMPORTED_MODULE_1__.listSitesForUser),\n/* harmony export */   updateSite: () => (/* reexport safe */ _sites__WEBPACK_IMPORTED_MODULE_1__.updateSite)\n/* harmony export */ });\n/* harmony import */ var _users__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./users */ \"(action-browser)/../../packages/core/src/users.ts\");\n/* harmony import */ var _sites__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./sites */ \"(action-browser)/../../packages/core/src/sites.ts\");\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uLi8uLi9wYWNrYWdlcy9jb3JlL3NyYy9pbmRleC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBd0I7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0Bub3RlcHViL2Rhc2hib2FyZC8uLi8uLi9wYWNrYWdlcy9jb3JlL3NyYy9pbmRleC50cz8zYjk3Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCAqIGZyb20gXCIuL3VzZXJzXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9zaXRlc1wiO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/../../packages/core/src/index.ts\n");

/***/ }),

/***/ "(rsc)/../../packages/core/src/index.ts":
/*!****************************************!*\
  !*** ../../packages/core/src/index.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createSite: () => (/* reexport safe */ _sites__WEBPACK_IMPORTED_MODULE_1__.createSite),\n/* harmony export */   createUser: () => (/* reexport safe */ _users__WEBPACK_IMPORTED_MODULE_0__.createUser),\n/* harmony export */   deleteSite: () => (/* reexport safe */ _sites__WEBPACK_IMPORTED_MODULE_1__.deleteSite),\n/* harmony export */   findUserByEmail: () => (/* reexport safe */ _users__WEBPACK_IMPORTED_MODULE_0__.findUserByEmail),\n/* harmony export */   findUserWithPasswordByEmail: () => (/* reexport safe */ _users__WEBPACK_IMPORTED_MODULE_0__.findUserWithPasswordByEmail),\n/* harmony export */   getSiteById: () => (/* reexport safe */ _sites__WEBPACK_IMPORTED_MODULE_1__.getSiteById),\n/* harmony export */   getSiteBySlug: () => (/* reexport safe */ _sites__WEBPACK_IMPORTED_MODULE_1__.getSiteBySlug),\n/* harmony export */   getUserById: () => (/* reexport safe */ _users__WEBPACK_IMPORTED_MODULE_0__.getUserById),\n/* harmony export */   listSitesForUser: () => (/* reexport safe */ _sites__WEBPACK_IMPORTED_MODULE_1__.listSitesForUser),\n/* harmony export */   updateSite: () => (/* reexport safe */ _sites__WEBPACK_IMPORTED_MODULE_1__.updateSite)\n/* harmony export */ });\n/* harmony import */ var _users__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./users */ \"(rsc)/../../packages/core/src/users.ts\");\n/* harmony import */ var _sites__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./sites */ \"(rsc)/../../packages/core/src/sites.ts\");\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvaW5kZXgudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQXdCO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Abm90ZXB1Yi9kYXNoYm9hcmQvLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvaW5kZXgudHM/M2I5NyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgKiBmcm9tIFwiLi91c2Vyc1wiO1xuZXhwb3J0ICogZnJvbSBcIi4vc2l0ZXNcIjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../packages/core/src/index.ts\n");

/***/ }),

/***/ "(action-browser)/../../packages/core/src/sites.ts":
/*!****************************************!*\
  !*** ../../packages/core/src/sites.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createSite: () => (/* binding */ createSite),\n/* harmony export */   deleteSite: () => (/* binding */ deleteSite),\n/* harmony export */   getSiteById: () => (/* binding */ getSiteById),\n/* harmony export */   getSiteBySlug: () => (/* binding */ getSiteBySlug),\n/* harmony export */   listSitesForUser: () => (/* binding */ listSitesForUser),\n/* harmony export */   updateSite: () => (/* binding */ updateSite)\n/* harmony export */ });\n/* harmony import */ var _notepub_db__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @notepub/db */ \"(action-browser)/../../packages/db/src/index.ts\");\n/* harmony import */ var _notepub_storage__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @notepub/storage */ \"(action-browser)/../../packages/storage/src/index.ts\");\n\n\nasync function getSiteBySlug(slug) {\n    return _notepub_db__WEBPACK_IMPORTED_MODULE_0__.prisma.site.findUnique({\n        where: {\n            slug\n        }\n    });\n}\nasync function getSiteById(id) {\n    return _notepub_db__WEBPACK_IMPORTED_MODULE_0__.prisma.site.findUnique({\n        where: {\n            id\n        }\n    });\n}\nasync function listSitesForUser(ownerId) {\n    return _notepub_db__WEBPACK_IMPORTED_MODULE_0__.prisma.site.findMany({\n        where: {\n            ownerId\n        },\n        orderBy: {\n            createdAt: \"desc\"\n        }\n    });\n}\nasync function createSite(input) {\n    const base = await _notepub_db__WEBPACK_IMPORTED_MODULE_0__.prisma.site.create({\n        data: {\n            slug: input.slug,\n            title: input.title,\n            ownerId: input.ownerId,\n            s3Prefix: \"\"\n        }\n    });\n    const s3Prefix = `sites/${base.id}/vault`;\n    if (base.s3Prefix === s3Prefix) {\n        return base;\n    }\n    const updated = await _notepub_db__WEBPACK_IMPORTED_MODULE_0__.prisma.site.update({\n        where: {\n            id: base.id\n        },\n        data: {\n            s3Prefix\n        }\n    });\n    try {\n        await seedDefaultContent(s3Prefix);\n    } catch (error) {\n        console.error(\"Failed to create S3 prefix marker\", error);\n    }\n    return updated;\n}\nfunction normalizePrefix(prefix) {\n    const trimmed = prefix.replace(/^\\/+/, \"\").replace(/\\/+$/, \"\");\n    return trimmed ? `${trimmed}/` : \"\";\n}\nasync function seedDefaultContent(rawPrefix) {\n    const prefix = normalizePrefix(rawPrefix);\n    const root = `${prefix}`;\n    const folderPath = `${prefix}ideas/`;\n    const rootIndex = `---\ntitle: Welcome\nslug: welcome\n---\n# Welcome to your Notepub site\n\nThis is the default homepage. Edit \\`index.md\\` in your vault to replace this text.\n\n- Your site slug: auto-generated\n- Storage prefix: ${rawPrefix}\n- Next steps: sync your Obsidian vault via Remotely Save to this folder.\n`;\n    const folderMeta = {\n        title: \"Ideas\",\n        slug: \"ideas\"\n    };\n    const folderIndex = `---\ntitle: First idea\nslug: first-idea\n---\n# First idea\n\nWrite down something interesting here. You can add more notes to this folder.\n`;\n    await Promise.all([\n        (0,_notepub_storage__WEBPACK_IMPORTED_MODULE_1__.putObjectString)(`${root}.keep`, \"notepub init\"),\n        (0,_notepub_storage__WEBPACK_IMPORTED_MODULE_1__.putObjectString)(`${root}index.md`, rootIndex, \"text/markdown\"),\n        (0,_notepub_storage__WEBPACK_IMPORTED_MODULE_1__.putObjectString)(`${folderPath}_folder.json`, JSON.stringify(folderMeta, null, 2), \"application/json\"),\n        (0,_notepub_storage__WEBPACK_IMPORTED_MODULE_1__.putObjectString)(`${folderPath}index.md`, folderIndex, \"text/markdown\")\n    ]);\n}\nasync function updateSite(input) {\n    const site = await _notepub_db__WEBPACK_IMPORTED_MODULE_0__.prisma.site.findUnique({\n        where: {\n            id: input.id\n        }\n    });\n    if (!site || site.ownerId !== input.ownerId) {\n        throw new Error(\"Forbidden\");\n    }\n    return _notepub_db__WEBPACK_IMPORTED_MODULE_0__.prisma.site.update({\n        where: {\n            id: input.id\n        },\n        data: {\n            slug: input.slug,\n            title: input.title,\n            ogImageUrl: input.ogImageUrl,\n            ogDescription: input.ogDescription\n        }\n    });\n}\nasync function deleteSite(input) {\n    const site = await _notepub_db__WEBPACK_IMPORTED_MODULE_0__.prisma.site.findUnique({\n        where: {\n            id: input.id\n        }\n    });\n    if (!site || site.ownerId !== input.ownerId) {\n        throw new Error(\"Forbidden\");\n    }\n    return _notepub_db__WEBPACK_IMPORTED_MODULE_0__.prisma.site.delete({\n        where: {\n            id: input.id\n        }\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uLi8uLi9wYWNrYWdlcy9jb3JlL3NyYy9zaXRlcy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFxQztBQUNjO0FBRTVDLGVBQWVFLGNBQWNDLElBQVk7SUFDOUMsT0FBT0gsK0NBQU1BLENBQUNJLElBQUksQ0FBQ0MsVUFBVSxDQUFDO1FBQUVDLE9BQU87WUFBRUg7UUFBSztJQUFFO0FBQ2xEO0FBRU8sZUFBZUksWUFBWUMsRUFBVTtJQUMxQyxPQUFPUiwrQ0FBTUEsQ0FBQ0ksSUFBSSxDQUFDQyxVQUFVLENBQUM7UUFBRUMsT0FBTztZQUFFRTtRQUFHO0lBQUU7QUFDaEQ7QUFFTyxlQUFlQyxpQkFBaUJDLE9BQWU7SUFDcEQsT0FBT1YsK0NBQU1BLENBQUNJLElBQUksQ0FBQ08sUUFBUSxDQUFDO1FBQzFCTCxPQUFPO1lBQUVJO1FBQVE7UUFDakJFLFNBQVM7WUFBRUMsV0FBVztRQUFPO0lBQy9CO0FBQ0Y7QUFFTyxlQUFlQyxXQUFXQyxLQUF1RDtJQUN0RixNQUFNQyxPQUFPLE1BQU1oQiwrQ0FBTUEsQ0FBQ0ksSUFBSSxDQUFDYSxNQUFNLENBQUM7UUFDcENDLE1BQU07WUFDSmYsTUFBTVksTUFBTVosSUFBSTtZQUNoQmdCLE9BQU9KLE1BQU1JLEtBQUs7WUFDbEJULFNBQVNLLE1BQU1MLE9BQU87WUFDdEJVLFVBQVU7UUFDWjtJQUNGO0lBRUEsTUFBTUEsV0FBVyxDQUFDLE1BQU0sRUFBRUosS0FBS1IsRUFBRSxDQUFDLE1BQU0sQ0FBQztJQUN6QyxJQUFJUSxLQUFLSSxRQUFRLEtBQUtBLFVBQVU7UUFDOUIsT0FBT0o7SUFDVDtJQUVBLE1BQU1LLFVBQVUsTUFBTXJCLCtDQUFNQSxDQUFDSSxJQUFJLENBQUNrQixNQUFNLENBQUM7UUFDdkNoQixPQUFPO1lBQUVFLElBQUlRLEtBQUtSLEVBQUU7UUFBQztRQUNyQlUsTUFBTTtZQUFFRTtRQUFTO0lBQ25CO0lBRUEsSUFBSTtRQUNGLE1BQU1HLG1CQUFtQkg7SUFDM0IsRUFBRSxPQUFPSSxPQUFPO1FBQ2RDLFFBQVFELEtBQUssQ0FBQyxxQ0FBcUNBO0lBQ3JEO0lBRUEsT0FBT0g7QUFDVDtBQUVBLFNBQVNLLGdCQUFnQkMsTUFBYztJQUNyQyxNQUFNQyxVQUFVRCxPQUFPRSxPQUFPLENBQUMsUUFBUSxJQUFJQSxPQUFPLENBQUMsUUFBUTtJQUMzRCxPQUFPRCxVQUFVLENBQUMsRUFBRUEsUUFBUSxDQUFDLENBQUMsR0FBRztBQUNuQztBQUVBLGVBQWVMLG1CQUFtQk8sU0FBaUI7SUFDakQsTUFBTUgsU0FBU0QsZ0JBQWdCSTtJQUMvQixNQUFNQyxPQUFPLENBQUMsRUFBRUosT0FBTyxDQUFDO0lBQ3hCLE1BQU1LLGFBQWEsQ0FBQyxFQUFFTCxPQUFPLE1BQU0sQ0FBQztJQUVwQyxNQUFNTSxZQUFZLENBQUM7Ozs7Ozs7OztrQkFTSCxFQUFFSCxVQUFVOztBQUU5QixDQUFDO0lBRUMsTUFBTUksYUFBYTtRQUNqQmYsT0FBTztRQUNQaEIsTUFBTTtJQUNSO0lBRUEsTUFBTWdDLGNBQWMsQ0FBQzs7Ozs7OztBQU92QixDQUFDO0lBRUMsTUFBTUMsUUFBUUMsR0FBRyxDQUFDO1FBQ2hCcEMsaUVBQWVBLENBQUMsQ0FBQyxFQUFFOEIsS0FBSyxLQUFLLENBQUMsRUFBRTtRQUNoQzlCLGlFQUFlQSxDQUFDLENBQUMsRUFBRThCLEtBQUssUUFBUSxDQUFDLEVBQUVFLFdBQVc7UUFDOUNoQyxpRUFBZUEsQ0FBQyxDQUFDLEVBQUUrQixXQUFXLFlBQVksQ0FBQyxFQUFFTSxLQUFLQyxTQUFTLENBQUNMLFlBQVksTUFBTSxJQUFJO1FBQ2xGakMsaUVBQWVBLENBQUMsQ0FBQyxFQUFFK0IsV0FBVyxRQUFRLENBQUMsRUFBRUcsYUFBYTtLQUN2RDtBQUNIO0FBRU8sZUFBZUssV0FBV3pCLEtBT2hDO0lBQ0MsTUFBTVgsT0FBTyxNQUFNSiwrQ0FBTUEsQ0FBQ0ksSUFBSSxDQUFDQyxVQUFVLENBQUM7UUFBRUMsT0FBTztZQUFFRSxJQUFJTyxNQUFNUCxFQUFFO1FBQUM7SUFBRTtJQUNwRSxJQUFJLENBQUNKLFFBQVFBLEtBQUtNLE9BQU8sS0FBS0ssTUFBTUwsT0FBTyxFQUFFO1FBQzNDLE1BQU0sSUFBSStCLE1BQU07SUFDbEI7SUFDQSxPQUFPekMsK0NBQU1BLENBQUNJLElBQUksQ0FBQ2tCLE1BQU0sQ0FBQztRQUN4QmhCLE9BQU87WUFBRUUsSUFBSU8sTUFBTVAsRUFBRTtRQUFDO1FBQ3RCVSxNQUFNO1lBQ0pmLE1BQU1ZLE1BQU1aLElBQUk7WUFDaEJnQixPQUFPSixNQUFNSSxLQUFLO1lBQ2xCdUIsWUFBWTNCLE1BQU0yQixVQUFVO1lBQzVCQyxlQUFlNUIsTUFBTTRCLGFBQWE7UUFDcEM7SUFDRjtBQUNGO0FBRU8sZUFBZUMsV0FBVzdCLEtBQXNDO0lBQ3JFLE1BQU1YLE9BQU8sTUFBTUosK0NBQU1BLENBQUNJLElBQUksQ0FBQ0MsVUFBVSxDQUFDO1FBQUVDLE9BQU87WUFBRUUsSUFBSU8sTUFBTVAsRUFBRTtRQUFDO0lBQUU7SUFDcEUsSUFBSSxDQUFDSixRQUFRQSxLQUFLTSxPQUFPLEtBQUtLLE1BQU1MLE9BQU8sRUFBRTtRQUMzQyxNQUFNLElBQUkrQixNQUFNO0lBQ2xCO0lBQ0EsT0FBT3pDLCtDQUFNQSxDQUFDSSxJQUFJLENBQUN5QyxNQUFNLENBQUM7UUFBRXZDLE9BQU87WUFBRUUsSUFBSU8sTUFBTVAsRUFBRTtRQUFDO0lBQUU7QUFDdEQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Abm90ZXB1Yi9kYXNoYm9hcmQvLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvc2l0ZXMudHM/MmUxMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBwcmlzbWEgfSBmcm9tIFwiQG5vdGVwdWIvZGJcIjtcbmltcG9ydCB7IHB1dE9iamVjdFN0cmluZyB9IGZyb20gXCJAbm90ZXB1Yi9zdG9yYWdlXCI7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRTaXRlQnlTbHVnKHNsdWc6IHN0cmluZykge1xuICByZXR1cm4gcHJpc21hLnNpdGUuZmluZFVuaXF1ZSh7IHdoZXJlOiB7IHNsdWcgfSB9KTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFNpdGVCeUlkKGlkOiBzdHJpbmcpIHtcbiAgcmV0dXJuIHByaXNtYS5zaXRlLmZpbmRVbmlxdWUoeyB3aGVyZTogeyBpZCB9IH0pO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbGlzdFNpdGVzRm9yVXNlcihvd25lcklkOiBzdHJpbmcpIHtcbiAgcmV0dXJuIHByaXNtYS5zaXRlLmZpbmRNYW55KHtcbiAgICB3aGVyZTogeyBvd25lcklkIH0sXG4gICAgb3JkZXJCeTogeyBjcmVhdGVkQXQ6IFwiZGVzY1wiIH0sXG4gIH0pO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlU2l0ZShpbnB1dDogeyBzbHVnOiBzdHJpbmc7IHRpdGxlOiBzdHJpbmc7IG93bmVySWQ6IHN0cmluZyB9KSB7XG4gIGNvbnN0IGJhc2UgPSBhd2FpdCBwcmlzbWEuc2l0ZS5jcmVhdGUoe1xuICAgIGRhdGE6IHtcbiAgICAgIHNsdWc6IGlucHV0LnNsdWcsXG4gICAgICB0aXRsZTogaW5wdXQudGl0bGUsXG4gICAgICBvd25lcklkOiBpbnB1dC5vd25lcklkLFxuICAgICAgczNQcmVmaXg6IFwiXCIsXG4gICAgfSxcbiAgfSk7XG5cbiAgY29uc3QgczNQcmVmaXggPSBgc2l0ZXMvJHtiYXNlLmlkfS92YXVsdGA7XG4gIGlmIChiYXNlLnMzUHJlZml4ID09PSBzM1ByZWZpeCkge1xuICAgIHJldHVybiBiYXNlO1xuICB9XG5cbiAgY29uc3QgdXBkYXRlZCA9IGF3YWl0IHByaXNtYS5zaXRlLnVwZGF0ZSh7XG4gICAgd2hlcmU6IHsgaWQ6IGJhc2UuaWQgfSxcbiAgICBkYXRhOiB7IHMzUHJlZml4IH0sXG4gIH0pO1xuXG4gIHRyeSB7XG4gICAgYXdhaXQgc2VlZERlZmF1bHRDb250ZW50KHMzUHJlZml4KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIGNyZWF0ZSBTMyBwcmVmaXggbWFya2VyXCIsIGVycm9yKTtcbiAgfVxuXG4gIHJldHVybiB1cGRhdGVkO1xufVxuXG5mdW5jdGlvbiBub3JtYWxpemVQcmVmaXgocHJlZml4OiBzdHJpbmcpIHtcbiAgY29uc3QgdHJpbW1lZCA9IHByZWZpeC5yZXBsYWNlKC9eXFwvKy8sIFwiXCIpLnJlcGxhY2UoL1xcLyskLywgXCJcIik7XG4gIHJldHVybiB0cmltbWVkID8gYCR7dHJpbW1lZH0vYCA6IFwiXCI7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHNlZWREZWZhdWx0Q29udGVudChyYXdQcmVmaXg6IHN0cmluZykge1xuICBjb25zdCBwcmVmaXggPSBub3JtYWxpemVQcmVmaXgocmF3UHJlZml4KTtcbiAgY29uc3Qgcm9vdCA9IGAke3ByZWZpeH1gO1xuICBjb25zdCBmb2xkZXJQYXRoID0gYCR7cHJlZml4fWlkZWFzL2A7XG5cbiAgY29uc3Qgcm9vdEluZGV4ID0gYC0tLVxudGl0bGU6IFdlbGNvbWVcbnNsdWc6IHdlbGNvbWVcbi0tLVxuIyBXZWxjb21lIHRvIHlvdXIgTm90ZXB1YiBzaXRlXG5cblRoaXMgaXMgdGhlIGRlZmF1bHQgaG9tZXBhZ2UuIEVkaXQgXFxgaW5kZXgubWRcXGAgaW4geW91ciB2YXVsdCB0byByZXBsYWNlIHRoaXMgdGV4dC5cblxuLSBZb3VyIHNpdGUgc2x1ZzogYXV0by1nZW5lcmF0ZWRcbi0gU3RvcmFnZSBwcmVmaXg6ICR7cmF3UHJlZml4fVxuLSBOZXh0IHN0ZXBzOiBzeW5jIHlvdXIgT2JzaWRpYW4gdmF1bHQgdmlhIFJlbW90ZWx5IFNhdmUgdG8gdGhpcyBmb2xkZXIuXG5gO1xuXG4gIGNvbnN0IGZvbGRlck1ldGEgPSB7XG4gICAgdGl0bGU6IFwiSWRlYXNcIixcbiAgICBzbHVnOiBcImlkZWFzXCIsXG4gIH07XG5cbiAgY29uc3QgZm9sZGVySW5kZXggPSBgLS0tXG50aXRsZTogRmlyc3QgaWRlYVxuc2x1ZzogZmlyc3QtaWRlYVxuLS0tXG4jIEZpcnN0IGlkZWFcblxuV3JpdGUgZG93biBzb21ldGhpbmcgaW50ZXJlc3RpbmcgaGVyZS4gWW91IGNhbiBhZGQgbW9yZSBub3RlcyB0byB0aGlzIGZvbGRlci5cbmA7XG5cbiAgYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgIHB1dE9iamVjdFN0cmluZyhgJHtyb290fS5rZWVwYCwgXCJub3RlcHViIGluaXRcIiksXG4gICAgcHV0T2JqZWN0U3RyaW5nKGAke3Jvb3R9aW5kZXgubWRgLCByb290SW5kZXgsIFwidGV4dC9tYXJrZG93blwiKSxcbiAgICBwdXRPYmplY3RTdHJpbmcoYCR7Zm9sZGVyUGF0aH1fZm9sZGVyLmpzb25gLCBKU09OLnN0cmluZ2lmeShmb2xkZXJNZXRhLCBudWxsLCAyKSwgXCJhcHBsaWNhdGlvbi9qc29uXCIpLFxuICAgIHB1dE9iamVjdFN0cmluZyhgJHtmb2xkZXJQYXRofWluZGV4Lm1kYCwgZm9sZGVySW5kZXgsIFwidGV4dC9tYXJrZG93blwiKSxcbiAgXSk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGRhdGVTaXRlKGlucHV0OiB7XG4gIGlkOiBzdHJpbmc7XG4gIG93bmVySWQ6IHN0cmluZztcbiAgc2x1Zzogc3RyaW5nO1xuICB0aXRsZTogc3RyaW5nO1xuICBvZ0ltYWdlVXJsPzogc3RyaW5nIHwgbnVsbDtcbiAgb2dEZXNjcmlwdGlvbj86IHN0cmluZyB8IG51bGw7XG59KSB7XG4gIGNvbnN0IHNpdGUgPSBhd2FpdCBwcmlzbWEuc2l0ZS5maW5kVW5pcXVlKHsgd2hlcmU6IHsgaWQ6IGlucHV0LmlkIH0gfSk7XG4gIGlmICghc2l0ZSB8fCBzaXRlLm93bmVySWQgIT09IGlucHV0Lm93bmVySWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJGb3JiaWRkZW5cIik7XG4gIH1cbiAgcmV0dXJuIHByaXNtYS5zaXRlLnVwZGF0ZSh7XG4gICAgd2hlcmU6IHsgaWQ6IGlucHV0LmlkIH0sXG4gICAgZGF0YToge1xuICAgICAgc2x1ZzogaW5wdXQuc2x1ZyxcbiAgICAgIHRpdGxlOiBpbnB1dC50aXRsZSxcbiAgICAgIG9nSW1hZ2VVcmw6IGlucHV0Lm9nSW1hZ2VVcmwsXG4gICAgICBvZ0Rlc2NyaXB0aW9uOiBpbnB1dC5vZ0Rlc2NyaXB0aW9uLFxuICAgIH0sXG4gIH0pO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVsZXRlU2l0ZShpbnB1dDogeyBpZDogc3RyaW5nOyBvd25lcklkOiBzdHJpbmcgfSkge1xuICBjb25zdCBzaXRlID0gYXdhaXQgcHJpc21hLnNpdGUuZmluZFVuaXF1ZSh7IHdoZXJlOiB7IGlkOiBpbnB1dC5pZCB9IH0pO1xuICBpZiAoIXNpdGUgfHwgc2l0ZS5vd25lcklkICE9PSBpbnB1dC5vd25lcklkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiRm9yYmlkZGVuXCIpO1xuICB9XG4gIHJldHVybiBwcmlzbWEuc2l0ZS5kZWxldGUoeyB3aGVyZTogeyBpZDogaW5wdXQuaWQgfSB9KTtcbn1cbiJdLCJuYW1lcyI6WyJwcmlzbWEiLCJwdXRPYmplY3RTdHJpbmciLCJnZXRTaXRlQnlTbHVnIiwic2x1ZyIsInNpdGUiLCJmaW5kVW5pcXVlIiwid2hlcmUiLCJnZXRTaXRlQnlJZCIsImlkIiwibGlzdFNpdGVzRm9yVXNlciIsIm93bmVySWQiLCJmaW5kTWFueSIsIm9yZGVyQnkiLCJjcmVhdGVkQXQiLCJjcmVhdGVTaXRlIiwiaW5wdXQiLCJiYXNlIiwiY3JlYXRlIiwiZGF0YSIsInRpdGxlIiwiczNQcmVmaXgiLCJ1cGRhdGVkIiwidXBkYXRlIiwic2VlZERlZmF1bHRDb250ZW50IiwiZXJyb3IiLCJjb25zb2xlIiwibm9ybWFsaXplUHJlZml4IiwicHJlZml4IiwidHJpbW1lZCIsInJlcGxhY2UiLCJyYXdQcmVmaXgiLCJyb290IiwiZm9sZGVyUGF0aCIsInJvb3RJbmRleCIsImZvbGRlck1ldGEiLCJmb2xkZXJJbmRleCIsIlByb21pc2UiLCJhbGwiLCJKU09OIiwic3RyaW5naWZ5IiwidXBkYXRlU2l0ZSIsIkVycm9yIiwib2dJbWFnZVVybCIsIm9nRGVzY3JpcHRpb24iLCJkZWxldGVTaXRlIiwiZGVsZXRlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/../../packages/core/src/sites.ts\n");

/***/ }),

/***/ "(rsc)/../../packages/core/src/sites.ts":
/*!****************************************!*\
  !*** ../../packages/core/src/sites.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createSite: () => (/* binding */ createSite),\n/* harmony export */   deleteSite: () => (/* binding */ deleteSite),\n/* harmony export */   getSiteById: () => (/* binding */ getSiteById),\n/* harmony export */   getSiteBySlug: () => (/* binding */ getSiteBySlug),\n/* harmony export */   listSitesForUser: () => (/* binding */ listSitesForUser),\n/* harmony export */   updateSite: () => (/* binding */ updateSite)\n/* harmony export */ });\n/* harmony import */ var _notepub_db__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @notepub/db */ \"(rsc)/../../packages/db/src/index.ts\");\n/* harmony import */ var _notepub_storage__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @notepub/storage */ \"(rsc)/../../packages/storage/src/index.ts\");\n\n\nasync function getSiteBySlug(slug) {\n    return _notepub_db__WEBPACK_IMPORTED_MODULE_0__.prisma.site.findUnique({\n        where: {\n            slug\n        }\n    });\n}\nasync function getSiteById(id) {\n    return _notepub_db__WEBPACK_IMPORTED_MODULE_0__.prisma.site.findUnique({\n        where: {\n            id\n        }\n    });\n}\nasync function listSitesForUser(ownerId) {\n    return _notepub_db__WEBPACK_IMPORTED_MODULE_0__.prisma.site.findMany({\n        where: {\n            ownerId\n        },\n        orderBy: {\n            createdAt: \"desc\"\n        }\n    });\n}\nasync function createSite(input) {\n    const base = await _notepub_db__WEBPACK_IMPORTED_MODULE_0__.prisma.site.create({\n        data: {\n            slug: input.slug,\n            title: input.title,\n            ownerId: input.ownerId,\n            s3Prefix: \"\"\n        }\n    });\n    const s3Prefix = `sites/${base.id}/vault`;\n    if (base.s3Prefix === s3Prefix) {\n        return base;\n    }\n    const updated = await _notepub_db__WEBPACK_IMPORTED_MODULE_0__.prisma.site.update({\n        where: {\n            id: base.id\n        },\n        data: {\n            s3Prefix\n        }\n    });\n    try {\n        await seedDefaultContent(s3Prefix);\n    } catch (error) {\n        console.error(\"Failed to create S3 prefix marker\", error);\n    }\n    return updated;\n}\nfunction normalizePrefix(prefix) {\n    const trimmed = prefix.replace(/^\\/+/, \"\").replace(/\\/+$/, \"\");\n    return trimmed ? `${trimmed}/` : \"\";\n}\nasync function seedDefaultContent(rawPrefix) {\n    const prefix = normalizePrefix(rawPrefix);\n    const root = `${prefix}`;\n    const folderPath = `${prefix}ideas/`;\n    const rootIndex = `---\ntitle: Welcome\nslug: welcome\n---\n# Welcome to your Notepub site\n\nThis is the default homepage. Edit \\`index.md\\` in your vault to replace this text.\n\n- Your site slug: auto-generated\n- Storage prefix: ${rawPrefix}\n- Next steps: sync your Obsidian vault via Remotely Save to this folder.\n`;\n    const folderMeta = {\n        title: \"Ideas\",\n        slug: \"ideas\"\n    };\n    const folderIndex = `---\ntitle: First idea\nslug: first-idea\n---\n# First idea\n\nWrite down something interesting here. You can add more notes to this folder.\n`;\n    await Promise.all([\n        (0,_notepub_storage__WEBPACK_IMPORTED_MODULE_1__.putObjectString)(`${root}.keep`, \"notepub init\"),\n        (0,_notepub_storage__WEBPACK_IMPORTED_MODULE_1__.putObjectString)(`${root}index.md`, rootIndex, \"text/markdown\"),\n        (0,_notepub_storage__WEBPACK_IMPORTED_MODULE_1__.putObjectString)(`${folderPath}_folder.json`, JSON.stringify(folderMeta, null, 2), \"application/json\"),\n        (0,_notepub_storage__WEBPACK_IMPORTED_MODULE_1__.putObjectString)(`${folderPath}index.md`, folderIndex, \"text/markdown\")\n    ]);\n}\nasync function updateSite(input) {\n    const site = await _notepub_db__WEBPACK_IMPORTED_MODULE_0__.prisma.site.findUnique({\n        where: {\n            id: input.id\n        }\n    });\n    if (!site || site.ownerId !== input.ownerId) {\n        throw new Error(\"Forbidden\");\n    }\n    return _notepub_db__WEBPACK_IMPORTED_MODULE_0__.prisma.site.update({\n        where: {\n            id: input.id\n        },\n        data: {\n            slug: input.slug,\n            title: input.title,\n            ogImageUrl: input.ogImageUrl,\n            ogDescription: input.ogDescription\n        }\n    });\n}\nasync function deleteSite(input) {\n    const site = await _notepub_db__WEBPACK_IMPORTED_MODULE_0__.prisma.site.findUnique({\n        where: {\n            id: input.id\n        }\n    });\n    if (!site || site.ownerId !== input.ownerId) {\n        throw new Error(\"Forbidden\");\n    }\n    return _notepub_db__WEBPACK_IMPORTED_MODULE_0__.prisma.site.delete({\n        where: {\n            id: input.id\n        }\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SixRQUFRQSxLQUFLTSxPQUFPLEtBQUtLLE1BQU1MLE9BQU8sRUFBRTtRQUMzQyxNQUFNLElBQUkrQixNQUFNO0lBQ2xCO0lBQ0EsT0FBT3pDLCtDQUFNQSxDQUFDSSxJQUFJLENBQUNrQixNQUFNLENBQUM7UUFDeEJoQixPQUFPO1lBQUVFLElBQUlPLE1BQU1QLEVBQUU7UUFBQztRQUN0QlUsTUFBTTtZQUNKZixNQUFNWSxNQUFNWixJQUFJO1lBQ2hCZ0IsT0FBT0osTUFBTUksS0FBSztZQUNsQnVCLFlBQVkzQixNQUFNMkIsVUFBVTtZQUM1QkMsZUFBZTVCLE1BQU00QixhQUFhO1FBQ3BDO0lBQ0Y7QUFDRjtBQUVPLGVBQWVDLFdBQVc3QixLQUFzQztJQUNyRSxNQUFNWCxPQUFPLE1BQU1KLCtDQUFNQSxDQUFDSSxJQUFJLENBQUNDLFVBQVUsQ0FBQztRQUFFQyxPQUFPO1lBQUVFLElBQUlPLE1BQU1QLEVBQUU7UUFBQztJQUFFO0lBQ3BFLElBQUksQ0FBQ0osUUFBUUEsS0FBS00sT0FBTyxLQUFLSyxNQUFNTCxPQUFPLEVBQUU7UUFDM0MsTUFBTSxJQUFJK0IsTUFBTTtJQUNsQjtJQUNBLE9BQU96QywrQ0FBTUEsQ0FBQ0ksSUFBSSxDQUFDeUMsTUFBTSxDQUFDO1FBQUV2QyxPQUFPO1lBQUVFLElBQUlPLE1BQU1QLEVBQUU7UUFBQztJQUFFO0FBQ3REIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQG5vdGVwdWIvZGFzaGJvYXJkLy4uLy4uL3BhY2thZ2VzL2NvcmUvc3JjL3NpdGVzLnRzPzJlMTIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcHJpc21hIH0gZnJvbSBcIkBub3RlcHViL2RiXCI7XG5pbXBvcnQgeyBwdXRPYmplY3RTdHJpbmcgfSBmcm9tIFwiQG5vdGVwdWIvc3RvcmFnZVwiO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0U2l0ZUJ5U2x1ZyhzbHVnOiBzdHJpbmcpIHtcbiAgcmV0dXJuIHByaXNtYS5zaXRlLmZpbmRVbmlxdWUoeyB3aGVyZTogeyBzbHVnIH0gfSk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRTaXRlQnlJZChpZDogc3RyaW5nKSB7XG4gIHJldHVybiBwcmlzbWEuc2l0ZS5maW5kVW5pcXVlKHsgd2hlcmU6IHsgaWQgfSB9KTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxpc3RTaXRlc0ZvclVzZXIob3duZXJJZDogc3RyaW5nKSB7XG4gIHJldHVybiBwcmlzbWEuc2l0ZS5maW5kTWFueSh7XG4gICAgd2hlcmU6IHsgb3duZXJJZCB9LFxuICAgIG9yZGVyQnk6IHsgY3JlYXRlZEF0OiBcImRlc2NcIiB9LFxuICB9KTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZVNpdGUoaW5wdXQ6IHsgc2x1Zzogc3RyaW5nOyB0aXRsZTogc3RyaW5nOyBvd25lcklkOiBzdHJpbmcgfSkge1xuICBjb25zdCBiYXNlID0gYXdhaXQgcHJpc21hLnNpdGUuY3JlYXRlKHtcbiAgICBkYXRhOiB7XG4gICAgICBzbHVnOiBpbnB1dC5zbHVnLFxuICAgICAgdGl0bGU6IGlucHV0LnRpdGxlLFxuICAgICAgb3duZXJJZDogaW5wdXQub3duZXJJZCxcbiAgICAgIHMzUHJlZml4OiBcIlwiLFxuICAgIH0sXG4gIH0pO1xuXG4gIGNvbnN0IHMzUHJlZml4ID0gYHNpdGVzLyR7YmFzZS5pZH0vdmF1bHRgO1xuICBpZiAoYmFzZS5zM1ByZWZpeCA9PT0gczNQcmVmaXgpIHtcbiAgICByZXR1cm4gYmFzZTtcbiAgfVxuXG4gIGNvbnN0IHVwZGF0ZWQgPSBhd2FpdCBwcmlzbWEuc2l0ZS51cGRhdGUoe1xuICAgIHdoZXJlOiB7IGlkOiBiYXNlLmlkIH0sXG4gICAgZGF0YTogeyBzM1ByZWZpeCB9LFxuICB9KTtcblxuICB0cnkge1xuICAgIGF3YWl0IHNlZWREZWZhdWx0Q29udGVudChzM1ByZWZpeCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihcIkZhaWxlZCB0byBjcmVhdGUgUzMgcHJlZml4IG1hcmtlclwiLCBlcnJvcik7XG4gIH1cblxuICByZXR1cm4gdXBkYXRlZDtcbn1cblxuZnVuY3Rpb24gbm9ybWFsaXplUHJlZml4KHByZWZpeDogc3RyaW5nKSB7XG4gIGNvbnN0IHRyaW1tZWQgPSBwcmVmaXgucmVwbGFjZSgvXlxcLysvLCBcIlwiKS5yZXBsYWNlKC9cXC8rJC8sIFwiXCIpO1xuICByZXR1cm4gdHJpbW1lZCA/IGAke3RyaW1tZWR9L2AgOiBcIlwiO1xufVxuXG5hc3luYyBmdW5jdGlvbiBzZWVkRGVmYXVsdENvbnRlbnQocmF3UHJlZml4OiBzdHJpbmcpIHtcbiAgY29uc3QgcHJlZml4ID0gbm9ybWFsaXplUHJlZml4KHJhd1ByZWZpeCk7XG4gIGNvbnN0IHJvb3QgPSBgJHtwcmVmaXh9YDtcbiAgY29uc3QgZm9sZGVyUGF0aCA9IGAke3ByZWZpeH1pZGVhcy9gO1xuXG4gIGNvbnN0IHJvb3RJbmRleCA9IGAtLS1cbnRpdGxlOiBXZWxjb21lXG5zbHVnOiB3ZWxjb21lXG4tLS1cbiMgV2VsY29tZSB0byB5b3VyIE5vdGVwdWIgc2l0ZVxuXG5UaGlzIGlzIHRoZSBkZWZhdWx0IGhvbWVwYWdlLiBFZGl0IFxcYGluZGV4Lm1kXFxgIGluIHlvdXIgdmF1bHQgdG8gcmVwbGFjZSB0aGlzIHRleHQuXG5cbi0gWW91ciBzaXRlIHNsdWc6IGF1dG8tZ2VuZXJhdGVkXG4tIFN0b3JhZ2UgcHJlZml4OiAke3Jhd1ByZWZpeH1cbi0gTmV4dCBzdGVwczogc3luYyB5b3VyIE9ic2lkaWFuIHZhdWx0IHZpYSBSZW1vdGVseSBTYXZlIHRvIHRoaXMgZm9sZGVyLlxuYDtcblxuICBjb25zdCBmb2xkZXJNZXRhID0ge1xuICAgIHRpdGxlOiBcIklkZWFzXCIsXG4gICAgc2x1ZzogXCJpZGVhc1wiLFxuICB9O1xuXG4gIGNvbnN0IGZvbGRlckluZGV4ID0gYC0tLVxudGl0bGU6IEZpcnN0IGlkZWFcbnNsdWc6IGZpcnN0LWlkZWFcbi0tLVxuIyBGaXJzdCBpZGVhXG5cbldyaXRlIGRvd24gc29tZXRoaW5nIGludGVyZXN0aW5nIGhlcmUuIFlvdSBjYW4gYWRkIG1vcmUgbm90ZXMgdG8gdGhpcyBmb2xkZXIuXG5gO1xuXG4gIGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICBwdXRPYmplY3RTdHJpbmcoYCR7cm9vdH0ua2VlcGAsIFwibm90ZXB1YiBpbml0XCIpLFxuICAgIHB1dE9iamVjdFN0cmluZyhgJHtyb290fWluZGV4Lm1kYCwgcm9vdEluZGV4LCBcInRleHQvbWFya2Rvd25cIiksXG4gICAgcHV0T2JqZWN0U3RyaW5nKGAke2ZvbGRlclBhdGh9X2ZvbGRlci5qc29uYCwgSlNPTi5zdHJpbmdpZnkoZm9sZGVyTWV0YSwgbnVsbCwgMiksIFwiYXBwbGljYXRpb24vanNvblwiKSxcbiAgICBwdXRPYmplY3RTdHJpbmcoYCR7Zm9sZGVyUGF0aH1pbmRleC5tZGAsIGZvbGRlckluZGV4LCBcInRleHQvbWFya2Rvd25cIiksXG4gIF0pO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdXBkYXRlU2l0ZShpbnB1dDoge1xuICBpZDogc3RyaW5nO1xuICBvd25lcklkOiBzdHJpbmc7XG4gIHNsdWc6IHN0cmluZztcbiAgdGl0bGU6IHN0cmluZztcbiAgb2dJbWFnZVVybD86IHN0cmluZyB8IG51bGw7XG4gIG9nRGVzY3JpcHRpb24/OiBzdHJpbmcgfCBudWxsO1xufSkge1xuICBjb25zdCBzaXRlID0gYXdhaXQgcHJpc21hLnNpdGUuZmluZFVuaXF1ZSh7IHdoZXJlOiB7IGlkOiBpbnB1dC5pZCB9IH0pO1xuICBpZiAoIXNpdGUgfHwgc2l0ZS5vd25lcklkICE9PSBpbnB1dC5vd25lcklkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiRm9yYmlkZGVuXCIpO1xuICB9XG4gIHJldHVybiBwcmlzbWEuc2l0ZS51cGRhdGUoe1xuICAgIHdoZXJlOiB7IGlkOiBpbnB1dC5pZCB9LFxuICAgIGRhdGE6IHtcbiAgICAgIHNsdWc6IGlucHV0LnNsdWcsXG4gICAgICB0aXRsZTogaW5wdXQudGl0bGUsXG4gICAgICBvZ0ltYWdlVXJsOiBpbnB1dC5vZ0ltYWdlVXJsLFxuICAgICAgb2dEZXNjcmlwdGlvbjogaW5wdXQub2dEZXNjcmlwdGlvbixcbiAgICB9LFxuICB9KTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRlbGV0ZVNpdGUoaW5wdXQ6IHsgaWQ6IHN0cmluZzsgb3duZXJJZDogc3RyaW5nIH0pIHtcbiAgY29uc3Qgc2l0ZSA9IGF3YWl0IHByaXNtYS5zaXRlLmZpbmRVbmlxdWUoeyB3aGVyZTogeyBpZDogaW5wdXQuaWQgfSB9KTtcbiAgaWYgKCFzaXRlIHx8IHNpdGUub3duZXJJZCAhPT0gaW5wdXQub3duZXJJZCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkZvcmJpZGRlblwiKTtcbiAgfVxuICByZXR1cm4gcHJpc21hLnNpdGUuZGVsZXRlKHsgd2hlcmU6IHsgaWQ6IGlucHV0LmlkIH0gfSk7XG59XG4iXSwibmFtZXMiOlsicHJpc21hIiwicHV0T2JqZWN0U3RyaW5nIiwiZ2V0U2l0ZUJ5U2x1ZyIsInNsdWciLCJzaXRlIiwiZmluZFVuaXF1ZSIsIndoZXJlIiwiZ2V0U2l0ZUJ5SWQiLCJpZCIsImxpc3RTaXRlc0ZvclVzZXIiLCJvd25lcklkIiwiZmluZE1hbnkiLCJvcmRlckJ5IiwiY3JlYXRlZEF0IiwiY3JlYXRlU2l0ZSIsImlucHV0IiwiYmFzZSIsImNyZWF0ZSIsImRhdGEiLCJ0aXRsZSIsInMzUHJlZml4IiwidXBkYXRlZCIsInVwZGF0ZSIsInNlZWREZWZhdWx0Q29udGVudCIsImVycm9yIiwiY29uc29sZSIsIm5vcm1hbGl6ZVByZWZpeCIsInByZWZpeCIsInRyaW1tZWQiLCJyZXBsYWNlIiwicmF3UHJlZml4Iiwicm9vdCIsImZvbGRlclBhdGgiLCJyb290SW5kZXgiLCJmb2xkZXJNZXRhIiwiZm9sZGVySW5kZXgiLCJQcm9taXNlIiwiYWxsIiwiSlNPTiIsInN0cmluZ2lmeSIsInVwZGF0ZVNpdGUiLCJFcnJvciIsIm9nSW1hZ2VVcmwiLCJvZ0Rlc2NyaXB0aW9uIiwiZGVsZXRlU2l0ZSIsImRlbGV0ZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../../packages/core/src/sites.ts\n");

/***/ }),

/***/ "(action-browser)/../../packages/core/src/users.ts":
/*!****************************************!*\
  !*** ../../packages/core/src/users.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createUser: () => (/* binding */ createUser),\n/* harmony export */   findUserByEmail: () => (/* binding */ findUserByEmail),\n/* harmony export */   findUserWithPasswordByEmail: () => (/* binding */ findUserWithPasswordByEmail),\n/* harmony export */   getUserById: () => (/* binding */ getUserById)\n/* harmony export */ });\n/* harmony import */ var _notepub_db__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @notepub/db */ \"(action-browser)/../../packages/db/src/index.ts\");\n\nasync function findUserByEmail(email) {\n    return _notepub_db__WEBPACK_IMPORTED_MODULE_0__.prisma.user.findUnique({\n        where: {\n            email\n        }\n    });\n}\nasync function findUserWithPasswordByEmail(email) {\n    return _notepub_db__WEBPACK_IMPORTED_MODULE_0__.prisma.user.findUnique({\n        where: {\n            email\n        },\n        include: {\n            password: true\n        }\n    });\n}\nasync function getUserById(id) {\n    return _notepub_db__WEBPACK_IMPORTED_MODULE_0__.prisma.user.findUnique({\n        where: {\n            id\n        }\n    });\n}\nasync function createUser(email) {\n    return _notepub_db__WEBPACK_IMPORTED_MODULE_0__.prisma.user.create({\n        data: {\n            email\n        }\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uLi8uLi9wYWNrYWdlcy9jb3JlL3NyYy91c2Vycy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFxQztBQUU5QixlQUFlQyxnQkFBZ0JDLEtBQWE7SUFDakQsT0FBT0YsK0NBQU1BLENBQUNHLElBQUksQ0FBQ0MsVUFBVSxDQUFDO1FBQUVDLE9BQU87WUFBRUg7UUFBTTtJQUFFO0FBQ25EO0FBRU8sZUFBZUksNEJBQTRCSixLQUFhO0lBQzdELE9BQU9GLCtDQUFNQSxDQUFDRyxJQUFJLENBQUNDLFVBQVUsQ0FBQztRQUM1QkMsT0FBTztZQUFFSDtRQUFNO1FBQ2ZLLFNBQVM7WUFBRUMsVUFBVTtRQUFLO0lBQzVCO0FBQ0Y7QUFFTyxlQUFlQyxZQUFZQyxFQUFVO0lBQzFDLE9BQU9WLCtDQUFNQSxDQUFDRyxJQUFJLENBQUNDLFVBQVUsQ0FBQztRQUFFQyxPQUFPO1lBQUVLO1FBQUc7SUFBRTtBQUNoRDtBQUVPLGVBQWVDLFdBQVdULEtBQWE7SUFDNUMsT0FBT0YsK0NBQU1BLENBQUNHLElBQUksQ0FBQ1MsTUFBTSxDQUFDO1FBQUVDLE1BQU07WUFBRVg7UUFBTTtJQUFFO0FBQzlDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQG5vdGVwdWIvZGFzaGJvYXJkLy4uLy4uL3BhY2thZ2VzL2NvcmUvc3JjL3VzZXJzLnRzPzM5ODEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcHJpc21hIH0gZnJvbSBcIkBub3RlcHViL2RiXCI7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBmaW5kVXNlckJ5RW1haWwoZW1haWw6IHN0cmluZykge1xuICByZXR1cm4gcHJpc21hLnVzZXIuZmluZFVuaXF1ZSh7IHdoZXJlOiB7IGVtYWlsIH0gfSk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBmaW5kVXNlcldpdGhQYXNzd29yZEJ5RW1haWwoZW1haWw6IHN0cmluZykge1xuICByZXR1cm4gcHJpc21hLnVzZXIuZmluZFVuaXF1ZSh7XG4gICAgd2hlcmU6IHsgZW1haWwgfSxcbiAgICBpbmNsdWRlOiB7IHBhc3N3b3JkOiB0cnVlIH0sXG4gIH0pO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0VXNlckJ5SWQoaWQ6IHN0cmluZykge1xuICByZXR1cm4gcHJpc21hLnVzZXIuZmluZFVuaXF1ZSh7IHdoZXJlOiB7IGlkIH0gfSk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVVc2VyKGVtYWlsOiBzdHJpbmcpIHtcbiAgcmV0dXJuIHByaXNtYS51c2VyLmNyZWF0ZSh7IGRhdGE6IHsgZW1haWwgfSB9KTtcbn1cbiJdLCJuYW1lcyI6WyJwcmlzbWEiLCJmaW5kVXNlckJ5RW1haWwiLCJlbWFpbCIsInVzZXIiLCJmaW5kVW5pcXVlIiwid2hlcmUiLCJmaW5kVXNlcldpdGhQYXNzd29yZEJ5RW1haWwiLCJpbmNsdWRlIiwicGFzc3dvcmQiLCJnZXRVc2VyQnlJZCIsImlkIiwiY3JlYXRlVXNlciIsImNyZWF0ZSIsImRhdGEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/../../packages/core/src/users.ts\n");

/***/ }),

/***/ "(rsc)/../../packages/core/src/users.ts":
/*!****************************************!*\
  !*** ../../packages/core/src/users.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createUser: () => (/* binding */ createUser),\n/* harmony export */   findUserByEmail: () => (/* binding */ findUserByEmail),\n/* harmony export */   findUserWithPasswordByEmail: () => (/* binding */ findUserWithPasswordByEmail),\n/* harmony export */   getUserById: () => (/* binding */ getUserById)\n/* harmony export */ });\n/* harmony import */ var _notepub_db__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @notepub/db */ \"(rsc)/../../packages/db/src/index.ts\");\n\nasync function findUserByEmail(email) {\n    return _notepub_db__WEBPACK_IMPORTED_MODULE_0__.prisma.user.findUnique({\n        where: {\n            email\n        }\n    });\n}\nasync function findUserWithPasswordByEmail(email) {\n    return _notepub_db__WEBPACK_IMPORTED_MODULE_0__.prisma.user.findUnique({\n        where: {\n            email\n        },\n        include: {\n            password: true\n        }\n    });\n}\nasync function getUserById(id) {\n    return _notepub_db__WEBPACK_IMPORTED_MODULE_0__.prisma.user.findUnique({\n        where: {\n            id\n        }\n    });\n}\nasync function createUser(email) {\n    return _notepub_db__WEBPACK_IMPORTED_MODULE_0__.prisma.user.create({\n        data: {\n            email\n        }\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vcGFja2FnZXMvY29yZS9zcmMvdXNlcnMudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBcUM7QUFFOUIsZUFBZUMsZ0JBQWdCQyxLQUFhO0lBQ2pELE9BQU9GLCtDQUFNQSxDQUFDRyxJQUFJLENBQUNDLFVBQVUsQ0FBQztRQUFFQyxPQUFPO1lBQUVIO1FBQU07SUFBRTtBQUNuRDtBQUVPLGVBQWVJLDRCQUE0QkosS0FBYTtJQUM3RCxPQUFPRiwrQ0FBTUEsQ0FBQ0csSUFBSSxDQUFDQyxVQUFVLENBQUM7UUFDNUJDLE9BQU87WUFBRUg7UUFBTTtRQUNmSyxTQUFTO1lBQUVDLFVBQVU7UUFBSztJQUM1QjtBQUNGO0FBRU8sZUFBZUMsWUFBWUMsRUFBVTtJQUMxQyxPQUFPViwrQ0FBTUEsQ0FBQ0csSUFBSSxDQUFDQyxVQUFVLENBQUM7UUFBRUMsT0FBTztZQUFFSztRQUFHO0lBQUU7QUFDaEQ7QUFFTyxlQUFlQyxXQUFXVCxLQUFhO0lBQzVDLE9BQU9GLCtDQUFNQSxDQUFDRyxJQUFJLENBQUNTLE1BQU0sQ0FBQztRQUFFQyxNQUFNO1lBQUVYO1FBQU07SUFBRTtBQUM5QyIsInNvdXJjZXMiOlsid2VicGFjazovL0Bub3RlcHViL2Rhc2hib2FyZC8uLi8uLi9wYWNrYWdlcy9jb3JlL3NyYy91c2Vycy50cz8zOTgxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHByaXNtYSB9IGZyb20gXCJAbm90ZXB1Yi9kYlwiO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZmluZFVzZXJCeUVtYWlsKGVtYWlsOiBzdHJpbmcpIHtcbiAgcmV0dXJuIHByaXNtYS51c2VyLmZpbmRVbmlxdWUoeyB3aGVyZTogeyBlbWFpbCB9IH0pO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZmluZFVzZXJXaXRoUGFzc3dvcmRCeUVtYWlsKGVtYWlsOiBzdHJpbmcpIHtcbiAgcmV0dXJuIHByaXNtYS51c2VyLmZpbmRVbmlxdWUoe1xuICAgIHdoZXJlOiB7IGVtYWlsIH0sXG4gICAgaW5jbHVkZTogeyBwYXNzd29yZDogdHJ1ZSB9LFxuICB9KTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFVzZXJCeUlkKGlkOiBzdHJpbmcpIHtcbiAgcmV0dXJuIHByaXNtYS51c2VyLmZpbmRVbmlxdWUoeyB3aGVyZTogeyBpZCB9IH0pO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlVXNlcihlbWFpbDogc3RyaW5nKSB7XG4gIHJldHVybiBwcmlzbWEudXNlci5jcmVhdGUoeyBkYXRhOiB7IGVtYWlsIH0gfSk7XG59XG4iXSwibmFtZXMiOlsicHJpc21hIiwiZmluZFVzZXJCeUVtYWlsIiwiZW1haWwiLCJ1c2VyIiwiZmluZFVuaXF1ZSIsIndoZXJlIiwiZmluZFVzZXJXaXRoUGFzc3dvcmRCeUVtYWlsIiwiaW5jbHVkZSIsInBhc3N3b3JkIiwiZ2V0VXNlckJ5SWQiLCJpZCIsImNyZWF0ZVVzZXIiLCJjcmVhdGUiLCJkYXRhIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../packages/core/src/users.ts\n");

/***/ }),

/***/ "(action-browser)/../../packages/db/src/client.ts":
/*!***************************************!*\
  !*** ../../packages/db/src/client.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   prisma: () => (/* binding */ prisma)\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _notepub_env__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @notepub/env */ \"(action-browser)/../../packages/env/src/index.ts\");\n\n\nconst env = (0,_notepub_env__WEBPACK_IMPORTED_MODULE_1__.loadEnv)();\nif (!env.DATABASE_URL) {\n    throw new Error(\"DATABASE_URL is required for Prisma client\");\n}\nconst globalForPrisma = globalThis;\nconst prisma = globalForPrisma.prisma || new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient({\n    datasources: {\n        db: {\n            url: env.DATABASE_URL\n        }\n    }\n});\nif (true) {\n    globalForPrisma.prisma = prisma;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uLi8uLi9wYWNrYWdlcy9kYi9zcmMvY2xpZW50LnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBOEM7QUFDUDtBQUV2QyxNQUFNRSxNQUFNRCxxREFBT0E7QUFFbkIsSUFBSSxDQUFDQyxJQUFJQyxZQUFZLEVBQUU7SUFDckIsTUFBTSxJQUFJQyxNQUFNO0FBQ2xCO0FBRUEsTUFBTUMsa0JBQWtCQztBQUlqQixNQUFNQyxTQUNYRixnQkFBZ0JFLE1BQU0sSUFDdEIsSUFBSVAsd0RBQVlBLENBQUM7SUFDZlEsYUFBYTtRQUNYQyxJQUFJO1lBQ0ZDLEtBQUtSLElBQUlDLFlBQVk7UUFDdkI7SUFDRjtBQUNGLEdBQUc7QUFFTCxJQUFJUSxJQUFxQyxFQUFFO0lBQ3pDTixnQkFBZ0JFLE1BQU0sR0FBR0E7QUFDM0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Abm90ZXB1Yi9kYXNoYm9hcmQvLi4vLi4vcGFja2FnZXMvZGIvc3JjL2NsaWVudC50cz8wNTgwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFByaXNtYUNsaWVudCB9IGZyb20gXCJAcHJpc21hL2NsaWVudFwiO1xuaW1wb3J0IHsgbG9hZEVudiB9IGZyb20gXCJAbm90ZXB1Yi9lbnZcIjtcblxuY29uc3QgZW52ID0gbG9hZEVudigpO1xuXG5pZiAoIWVudi5EQVRBQkFTRV9VUkwpIHtcbiAgdGhyb3cgbmV3IEVycm9yKFwiREFUQUJBU0VfVVJMIGlzIHJlcXVpcmVkIGZvciBQcmlzbWEgY2xpZW50XCIpO1xufVxuXG5jb25zdCBnbG9iYWxGb3JQcmlzbWEgPSBnbG9iYWxUaGlzIGFzIHVua25vd24gYXMge1xuICBwcmlzbWE/OiBQcmlzbWFDbGllbnQ7XG59O1xuXG5leHBvcnQgY29uc3QgcHJpc21hID1cbiAgZ2xvYmFsRm9yUHJpc21hLnByaXNtYSB8fFxuICBuZXcgUHJpc21hQ2xpZW50KHtcbiAgICBkYXRhc291cmNlczoge1xuICAgICAgZGI6IHtcbiAgICAgICAgdXJsOiBlbnYuREFUQUJBU0VfVVJMLFxuICAgICAgfSxcbiAgICB9LFxuICB9KTtcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikge1xuICBnbG9iYWxGb3JQcmlzbWEucHJpc21hID0gcHJpc21hO1xufVxuIl0sIm5hbWVzIjpbIlByaXNtYUNsaWVudCIsImxvYWRFbnYiLCJlbnYiLCJEQVRBQkFTRV9VUkwiLCJFcnJvciIsImdsb2JhbEZvclByaXNtYSIsImdsb2JhbFRoaXMiLCJwcmlzbWEiLCJkYXRhc291cmNlcyIsImRiIiwidXJsIiwicHJvY2VzcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/../../packages/db/src/client.ts\n");

/***/ }),

/***/ "(rsc)/../../packages/db/src/client.ts":
/*!***************************************!*\
  !*** ../../packages/db/src/client.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   prisma: () => (/* binding */ prisma)\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _notepub_env__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @notepub/env */ \"(rsc)/../../packages/env/src/index.ts\");\n\n\nconst env = (0,_notepub_env__WEBPACK_IMPORTED_MODULE_1__.loadEnv)();\nif (!env.DATABASE_URL) {\n    throw new Error(\"DATABASE_URL is required for Prisma client\");\n}\nconst globalForPrisma = globalThis;\nconst prisma = globalForPrisma.prisma || new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient({\n    datasources: {\n        db: {\n            url: env.DATABASE_URL\n        }\n    }\n});\nif (true) {\n    globalForPrisma.prisma = prisma;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vcGFja2FnZXMvZGIvc3JjL2NsaWVudC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQThDO0FBQ1A7QUFFdkMsTUFBTUUsTUFBTUQscURBQU9BO0FBRW5CLElBQUksQ0FBQ0MsSUFBSUMsWUFBWSxFQUFFO0lBQ3JCLE1BQU0sSUFBSUMsTUFBTTtBQUNsQjtBQUVBLE1BQU1DLGtCQUFrQkM7QUFJakIsTUFBTUMsU0FDWEYsZ0JBQWdCRSxNQUFNLElBQ3RCLElBQUlQLHdEQUFZQSxDQUFDO0lBQ2ZRLGFBQWE7UUFDWEMsSUFBSTtZQUNGQyxLQUFLUixJQUFJQyxZQUFZO1FBQ3ZCO0lBQ0Y7QUFDRixHQUFHO0FBRUwsSUFBSVEsSUFBcUMsRUFBRTtJQUN6Q04sZ0JBQWdCRSxNQUFNLEdBQUdBO0FBQzNCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQG5vdGVwdWIvZGFzaGJvYXJkLy4uLy4uL3BhY2thZ2VzL2RiL3NyYy9jbGllbnQudHM/MDU4MCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQcmlzbWFDbGllbnQgfSBmcm9tIFwiQHByaXNtYS9jbGllbnRcIjtcbmltcG9ydCB7IGxvYWRFbnYgfSBmcm9tIFwiQG5vdGVwdWIvZW52XCI7XG5cbmNvbnN0IGVudiA9IGxvYWRFbnYoKTtcblxuaWYgKCFlbnYuREFUQUJBU0VfVVJMKSB7XG4gIHRocm93IG5ldyBFcnJvcihcIkRBVEFCQVNFX1VSTCBpcyByZXF1aXJlZCBmb3IgUHJpc21hIGNsaWVudFwiKTtcbn1cblxuY29uc3QgZ2xvYmFsRm9yUHJpc21hID0gZ2xvYmFsVGhpcyBhcyB1bmtub3duIGFzIHtcbiAgcHJpc21hPzogUHJpc21hQ2xpZW50O1xufTtcblxuZXhwb3J0IGNvbnN0IHByaXNtYSA9XG4gIGdsb2JhbEZvclByaXNtYS5wcmlzbWEgfHxcbiAgbmV3IFByaXNtYUNsaWVudCh7XG4gICAgZGF0YXNvdXJjZXM6IHtcbiAgICAgIGRiOiB7XG4gICAgICAgIHVybDogZW52LkRBVEFCQVNFX1VSTCxcbiAgICAgIH0sXG4gICAgfSxcbiAgfSk7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHtcbiAgZ2xvYmFsRm9yUHJpc21hLnByaXNtYSA9IHByaXNtYTtcbn1cbiJdLCJuYW1lcyI6WyJQcmlzbWFDbGllbnQiLCJsb2FkRW52IiwiZW52IiwiREFUQUJBU0VfVVJMIiwiRXJyb3IiLCJnbG9iYWxGb3JQcmlzbWEiLCJnbG9iYWxUaGlzIiwicHJpc21hIiwiZGF0YXNvdXJjZXMiLCJkYiIsInVybCIsInByb2Nlc3MiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../packages/db/src/client.ts\n");

/***/ }),

/***/ "(action-browser)/../../packages/db/src/index.ts":
/*!**************************************!*\
  !*** ../../packages/db/src/index.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   prisma: () => (/* reexport safe */ _client__WEBPACK_IMPORTED_MODULE_0__.prisma)\n/* harmony export */ });\n/* harmony import */ var _client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./client */ \"(action-browser)/../../packages/db/src/client.ts\");\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uLi8uLi9wYWNrYWdlcy9kYi9zcmMvaW5kZXgudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBa0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Abm90ZXB1Yi9kYXNoYm9hcmQvLi4vLi4vcGFja2FnZXMvZGIvc3JjL2luZGV4LnRzPzZhMDciXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IHsgcHJpc21hIH0gZnJvbSBcIi4vY2xpZW50XCI7XG4iXSwibmFtZXMiOlsicHJpc21hIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/../../packages/db/src/index.ts\n");

/***/ }),

/***/ "(rsc)/../../packages/db/src/index.ts":
/*!**************************************!*\
  !*** ../../packages/db/src/index.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   prisma: () => (/* reexport safe */ _client__WEBPACK_IMPORTED_MODULE_0__.prisma)\n/* harmony export */ });\n/* harmony import */ var _client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./client */ \"(rsc)/../../packages/db/src/client.ts\");\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vcGFja2FnZXMvZGIvc3JjL2luZGV4LnRzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQWtDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQG5vdGVwdWIvZGFzaGJvYXJkLy4uLy4uL3BhY2thZ2VzL2RiL3NyYy9pbmRleC50cz82YTA3Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB7IHByaXNtYSB9IGZyb20gXCIuL2NsaWVudFwiO1xuIl0sIm5hbWVzIjpbInByaXNtYSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../../packages/db/src/index.ts\n");

/***/ }),

/***/ "(action-browser)/../../packages/env/src/index.ts":
/*!***************************************!*\
  !*** ../../packages/env/src/index.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   envSchema: () => (/* binding */ envSchema),\n/* harmony export */   loadEnv: () => (/* binding */ loadEnv),\n/* harmony export */   normalizePrefix: () => (/* binding */ normalizePrefix),\n/* harmony export */   resolveAppEnv: () => (/* binding */ resolveAppEnv),\n/* harmony export */   resolveS3Prefix: () => (/* binding */ resolveS3Prefix)\n/* harmony export */ });\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! zod */ \"(action-browser)/../../node_modules/zod/v3/types.js\");\n\nconst envSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    NODE_ENV: zod__WEBPACK_IMPORTED_MODULE_0__[\"enum\"]([\n        \"development\",\n        \"test\",\n        \"production\"\n    ]).default(\"development\"),\n    APP_ENV: zod__WEBPACK_IMPORTED_MODULE_0__[\"enum\"]([\n        \"local\",\n        \"staging\",\n        \"production\"\n    ]).optional(),\n    DATABASE_URL: zod__WEBPACK_IMPORTED_MODULE_0__.string().url().optional(),\n    S3_ENDPOINT: zod__WEBPACK_IMPORTED_MODULE_0__.string().trim().optional(),\n    S3_REGION: zod__WEBPACK_IMPORTED_MODULE_0__.string().trim().optional(),\n    S3_BUCKET: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(1, \"S3_BUCKET is required\"),\n    S3_ACCESS_KEY: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(1, \"S3_ACCESS_KEY is required\"),\n    S3_SECRET_KEY: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(1, \"S3_SECRET_KEY is required\"),\n    S3_PREFIX: zod__WEBPACK_IMPORTED_MODULE_0__.string().optional(),\n    COOKIE_SECRET: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(16, \"COOKIE_SECRET must be at least 16 chars\"),\n    SESSION_COOKIE_NAME: zod__WEBPACK_IMPORTED_MODULE_0__.string().default(\"notepub_session\"),\n    MAIL_HOST: zod__WEBPACK_IMPORTED_MODULE_0__.string().optional(),\n    MAIL_PORT: zod__WEBPACK_IMPORTED_MODULE_0__.coerce.number().optional(),\n    MAIL_USER: zod__WEBPACK_IMPORTED_MODULE_0__.string().optional(),\n    MAIL_PASS: zod__WEBPACK_IMPORTED_MODULE_0__.string().optional(),\n    MAIL_FROM: zod__WEBPACK_IMPORTED_MODULE_0__.string().optional(),\n    MAIL_SECURE: zod__WEBPACK_IMPORTED_MODULE_0__.union([\n        zod__WEBPACK_IMPORTED_MODULE_0__.literal(\"true\"),\n        zod__WEBPACK_IMPORTED_MODULE_0__.literal(\"false\"),\n        zod__WEBPACK_IMPORTED_MODULE_0__.literal(\"1\"),\n        zod__WEBPACK_IMPORTED_MODULE_0__.literal(\"0\")\n    ]).optional(),\n    MAIL_FROM_LEADS: zod__WEBPACK_IMPORTED_MODULE_0__.string().optional(),\n    APP_URL: zod__WEBPACK_IMPORTED_MODULE_0__.string().url().optional()\n});\nfunction loadEnv(raw = process.env) {\n    const parsed = envSchema.safeParse(raw);\n    if (!parsed.success) {\n        const message = parsed.error.issues.map((issue)=>`${issue.path.join(\".\")}: ${issue.message}`).join(\"; \");\n        throw new Error(`Invalid environment variables: ${message}`);\n    }\n    return parsed.data;\n}\nfunction resolveAppEnv(env) {\n    if (env.APP_ENV) return env.APP_ENV;\n    if (env.NODE_ENV === \"production\") return \"production\";\n    return \"local\";\n}\nfunction resolveS3Prefix(env) {\n    const appEnv = resolveAppEnv(env);\n    const fallback = appEnv === \"production\" ? \"prod/\" : appEnv === \"staging\" ? \"staging/\" : \"local/\";\n    const normalized = normalizePrefix(env.S3_PREFIX ?? fallback);\n    if (!normalized && appEnv !== \"local\") {\n        throw new Error(\"S3_PREFIX is required for staging/production environments\");\n    }\n    return normalized;\n}\nfunction normalizePrefix(input) {\n    if (!input) return \"\";\n    let prefix = input.trim();\n    prefix = prefix.replace(/^\\/+/, \"\");\n    if (prefix && !prefix.endsWith(\"/\")) prefix = `${prefix}/`;\n    return prefix;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uLi8uLi9wYWNrYWdlcy9lbnYvc3JjL2luZGV4LnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUF3QjtBQUVqQixNQUFNQyxZQUFZRCx1Q0FBUSxDQUFDO0lBQ2hDRyxVQUFVSCx3Q0FBTSxDQUFDO1FBQUM7UUFBZTtRQUFRO0tBQWEsRUFBRUssT0FBTyxDQUFDO0lBQ2hFQyxTQUFTTix3Q0FBTSxDQUFDO1FBQUM7UUFBUztRQUFXO0tBQWEsRUFBRU8sUUFBUTtJQUM1REMsY0FBY1IsdUNBQVEsR0FBR1UsR0FBRyxHQUFHSCxRQUFRO0lBQ3ZDSSxhQUFhWCx1Q0FBUSxHQUFHWSxJQUFJLEdBQUdMLFFBQVE7SUFDdkNNLFdBQVdiLHVDQUFRLEdBQUdZLElBQUksR0FBR0wsUUFBUTtJQUNyQ08sV0FBV2QsdUNBQVEsR0FBR2UsR0FBRyxDQUFDLEdBQUc7SUFDN0JDLGVBQWVoQix1Q0FBUSxHQUFHZSxHQUFHLENBQUMsR0FBRztJQUNqQ0UsZUFBZWpCLHVDQUFRLEdBQUdlLEdBQUcsQ0FBQyxHQUFHO0lBQ2pDRyxXQUFXbEIsdUNBQVEsR0FBR08sUUFBUTtJQUM5QlksZUFBZW5CLHVDQUFRLEdBQUdlLEdBQUcsQ0FBQyxJQUFJO0lBQ2xDSyxxQkFBcUJwQix1Q0FBUSxHQUFHSyxPQUFPLENBQUM7SUFDeENnQixXQUFXckIsdUNBQVEsR0FBR08sUUFBUTtJQUM5QmUsV0FBV3RCLHVDQUFRLENBQUN3QixNQUFNLEdBQUdqQixRQUFRO0lBQ3JDa0IsV0FBV3pCLHVDQUFRLEdBQUdPLFFBQVE7SUFDOUJtQixXQUFXMUIsdUNBQVEsR0FBR08sUUFBUTtJQUM5Qm9CLFdBQVczQix1Q0FBUSxHQUFHTyxRQUFRO0lBQzlCcUIsYUFBYTVCLHNDQUNMLENBQUM7UUFBQ0Esd0NBQVMsQ0FBQztRQUFTQSx3Q0FBUyxDQUFDO1FBQVVBLHdDQUFTLENBQUM7UUFBTUEsd0NBQVMsQ0FBQztLQUFLLEVBQzdFTyxRQUFRO0lBQ1h3QixpQkFBaUIvQix1Q0FBUSxHQUFHTyxRQUFRO0lBQ3BDeUIsU0FBU2hDLHVDQUFRLEdBQUdVLEdBQUcsR0FBR0gsUUFBUTtBQUNwQyxHQUFHO0FBS0ksU0FBUzBCLFFBQVFDLE1BQXlCQyxRQUFRQyxHQUFHO0lBQzFELE1BQU1DLFNBQVNwQyxVQUFVcUMsU0FBUyxDQUFDSjtJQUNuQyxJQUFJLENBQUNHLE9BQU9FLE9BQU8sRUFBRTtRQUNuQixNQUFNQyxVQUFVSCxPQUFPSSxLQUFLLENBQUNDLE1BQU0sQ0FBQ0MsR0FBRyxDQUFDLENBQUNDLFFBQVUsQ0FBQyxFQUFFQSxNQUFNQyxJQUFJLENBQUNDLElBQUksQ0FBQyxLQUFLLEVBQUUsRUFBRUYsTUFBTUosT0FBTyxDQUFDLENBQUMsRUFBRU0sSUFBSSxDQUFDO1FBQ3JHLE1BQU0sSUFBSUMsTUFBTSxDQUFDLCtCQUErQixFQUFFUCxRQUFRLENBQUM7SUFDN0Q7SUFDQSxPQUFPSCxPQUFPVyxJQUFJO0FBQ3BCO0FBRU8sU0FBU0MsY0FBY2IsR0FBVztJQUN2QyxJQUFJQSxJQUFJOUIsT0FBTyxFQUFFLE9BQU84QixJQUFJOUIsT0FBTztJQUNuQyxJQUFJOEIsSUFBSWpDLFFBQVEsS0FBSyxjQUFjLE9BQU87SUFDMUMsT0FBTztBQUNUO0FBRU8sU0FBUytDLGdCQUFnQmQsR0FBVztJQUN6QyxNQUFNZSxTQUFTRixjQUFjYjtJQUM3QixNQUFNZ0IsV0FBV0QsV0FBVyxlQUFlLFVBQVVBLFdBQVcsWUFBWSxhQUFhO0lBQ3pGLE1BQU1FLGFBQWFDLGdCQUFnQmxCLElBQUlsQixTQUFTLElBQUlrQztJQUNwRCxJQUFJLENBQUNDLGNBQWNGLFdBQVcsU0FBUztRQUNyQyxNQUFNLElBQUlKLE1BQU07SUFDbEI7SUFDQSxPQUFPTTtBQUNUO0FBRU8sU0FBU0MsZ0JBQWdCQyxLQUFnQztJQUM5RCxJQUFJLENBQUNBLE9BQU8sT0FBTztJQUNuQixJQUFJQyxTQUFTRCxNQUFNM0MsSUFBSTtJQUN2QjRDLFNBQVNBLE9BQU9DLE9BQU8sQ0FBQyxRQUFRO0lBQ2hDLElBQUlELFVBQVUsQ0FBQ0EsT0FBT0UsUUFBUSxDQUFDLE1BQU1GLFNBQVMsQ0FBQyxFQUFFQSxPQUFPLENBQUMsQ0FBQztJQUMxRCxPQUFPQTtBQUNUIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQG5vdGVwdWIvZGFzaGJvYXJkLy4uLy4uL3BhY2thZ2VzL2Vudi9zcmMvaW5kZXgudHM/NzEyNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB6IH0gZnJvbSBcInpvZFwiO1xuXG5leHBvcnQgY29uc3QgZW52U2NoZW1hID0gei5vYmplY3Qoe1xuICBOT0RFX0VOVjogei5lbnVtKFtcImRldmVsb3BtZW50XCIsIFwidGVzdFwiLCBcInByb2R1Y3Rpb25cIl0pLmRlZmF1bHQoXCJkZXZlbG9wbWVudFwiKSxcbiAgQVBQX0VOVjogei5lbnVtKFtcImxvY2FsXCIsIFwic3RhZ2luZ1wiLCBcInByb2R1Y3Rpb25cIl0pLm9wdGlvbmFsKCksXG4gIERBVEFCQVNFX1VSTDogei5zdHJpbmcoKS51cmwoKS5vcHRpb25hbCgpLFxuICBTM19FTkRQT0lOVDogei5zdHJpbmcoKS50cmltKCkub3B0aW9uYWwoKSxcbiAgUzNfUkVHSU9OOiB6LnN0cmluZygpLnRyaW0oKS5vcHRpb25hbCgpLFxuICBTM19CVUNLRVQ6IHouc3RyaW5nKCkubWluKDEsIFwiUzNfQlVDS0VUIGlzIHJlcXVpcmVkXCIpLFxuICBTM19BQ0NFU1NfS0VZOiB6LnN0cmluZygpLm1pbigxLCBcIlMzX0FDQ0VTU19LRVkgaXMgcmVxdWlyZWRcIiksXG4gIFMzX1NFQ1JFVF9LRVk6IHouc3RyaW5nKCkubWluKDEsIFwiUzNfU0VDUkVUX0tFWSBpcyByZXF1aXJlZFwiKSxcbiAgUzNfUFJFRklYOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gIENPT0tJRV9TRUNSRVQ6IHouc3RyaW5nKCkubWluKDE2LCBcIkNPT0tJRV9TRUNSRVQgbXVzdCBiZSBhdCBsZWFzdCAxNiBjaGFyc1wiKSxcbiAgU0VTU0lPTl9DT09LSUVfTkFNRTogei5zdHJpbmcoKS5kZWZhdWx0KFwibm90ZXB1Yl9zZXNzaW9uXCIpLFxuICBNQUlMX0hPU1Q6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgTUFJTF9QT1JUOiB6LmNvZXJjZS5udW1iZXIoKS5vcHRpb25hbCgpLFxuICBNQUlMX1VTRVI6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgTUFJTF9QQVNTOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gIE1BSUxfRlJPTTogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICBNQUlMX1NFQ1VSRTogelxuICAgIC51bmlvbihbei5saXRlcmFsKFwidHJ1ZVwiKSwgei5saXRlcmFsKFwiZmFsc2VcIiksIHoubGl0ZXJhbChcIjFcIiksIHoubGl0ZXJhbChcIjBcIildKVxuICAgIC5vcHRpb25hbCgpLFxuICBNQUlMX0ZST01fTEVBRFM6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgQVBQX1VSTDogei5zdHJpbmcoKS51cmwoKS5vcHRpb25hbCgpLFxufSk7XG5cbmV4cG9ydCB0eXBlIEFwcEVudiA9IHouaW5mZXI8dHlwZW9mIGVudlNjaGVtYT47XG5leHBvcnQgdHlwZSBBcHBFbnZOYW1lID0gXCJsb2NhbFwiIHwgXCJzdGFnaW5nXCIgfCBcInByb2R1Y3Rpb25cIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGxvYWRFbnYocmF3OiBOb2RlSlMuUHJvY2Vzc0VudiA9IHByb2Nlc3MuZW52KTogQXBwRW52IHtcbiAgY29uc3QgcGFyc2VkID0gZW52U2NoZW1hLnNhZmVQYXJzZShyYXcpO1xuICBpZiAoIXBhcnNlZC5zdWNjZXNzKSB7XG4gICAgY29uc3QgbWVzc2FnZSA9IHBhcnNlZC5lcnJvci5pc3N1ZXMubWFwKChpc3N1ZSkgPT4gYCR7aXNzdWUucGF0aC5qb2luKFwiLlwiKX06ICR7aXNzdWUubWVzc2FnZX1gKS5qb2luKFwiOyBcIik7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGVudmlyb25tZW50IHZhcmlhYmxlczogJHttZXNzYWdlfWApO1xuICB9XG4gIHJldHVybiBwYXJzZWQuZGF0YTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlc29sdmVBcHBFbnYoZW52OiBBcHBFbnYpOiBBcHBFbnZOYW1lIHtcbiAgaWYgKGVudi5BUFBfRU5WKSByZXR1cm4gZW52LkFQUF9FTlY7XG4gIGlmIChlbnYuTk9ERV9FTlYgPT09IFwicHJvZHVjdGlvblwiKSByZXR1cm4gXCJwcm9kdWN0aW9uXCI7XG4gIHJldHVybiBcImxvY2FsXCI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZXNvbHZlUzNQcmVmaXgoZW52OiBBcHBFbnYpOiBzdHJpbmcge1xuICBjb25zdCBhcHBFbnYgPSByZXNvbHZlQXBwRW52KGVudik7XG4gIGNvbnN0IGZhbGxiYWNrID0gYXBwRW52ID09PSBcInByb2R1Y3Rpb25cIiA/IFwicHJvZC9cIiA6IGFwcEVudiA9PT0gXCJzdGFnaW5nXCIgPyBcInN0YWdpbmcvXCIgOiBcImxvY2FsL1wiO1xuICBjb25zdCBub3JtYWxpemVkID0gbm9ybWFsaXplUHJlZml4KGVudi5TM19QUkVGSVggPz8gZmFsbGJhY2spO1xuICBpZiAoIW5vcm1hbGl6ZWQgJiYgYXBwRW52ICE9PSBcImxvY2FsXCIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJTM19QUkVGSVggaXMgcmVxdWlyZWQgZm9yIHN0YWdpbmcvcHJvZHVjdGlvbiBlbnZpcm9ubWVudHNcIik7XG4gIH1cbiAgcmV0dXJuIG5vcm1hbGl6ZWQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBub3JtYWxpemVQcmVmaXgoaW5wdXQ6IHN0cmluZyB8IG51bGwgfCB1bmRlZmluZWQpOiBzdHJpbmcge1xuICBpZiAoIWlucHV0KSByZXR1cm4gXCJcIjtcbiAgbGV0IHByZWZpeCA9IGlucHV0LnRyaW0oKTtcbiAgcHJlZml4ID0gcHJlZml4LnJlcGxhY2UoL15cXC8rLywgXCJcIik7XG4gIGlmIChwcmVmaXggJiYgIXByZWZpeC5lbmRzV2l0aChcIi9cIikpIHByZWZpeCA9IGAke3ByZWZpeH0vYDtcbiAgcmV0dXJuIHByZWZpeDtcbn1cbiJdLCJuYW1lcyI6WyJ6IiwiZW52U2NoZW1hIiwib2JqZWN0IiwiTk9ERV9FTlYiLCJlbnVtIiwiZGVmYXVsdCIsIkFQUF9FTlYiLCJvcHRpb25hbCIsIkRBVEFCQVNFX1VSTCIsInN0cmluZyIsInVybCIsIlMzX0VORFBPSU5UIiwidHJpbSIsIlMzX1JFR0lPTiIsIlMzX0JVQ0tFVCIsIm1pbiIsIlMzX0FDQ0VTU19LRVkiLCJTM19TRUNSRVRfS0VZIiwiUzNfUFJFRklYIiwiQ09PS0lFX1NFQ1JFVCIsIlNFU1NJT05fQ09PS0lFX05BTUUiLCJNQUlMX0hPU1QiLCJNQUlMX1BPUlQiLCJjb2VyY2UiLCJudW1iZXIiLCJNQUlMX1VTRVIiLCJNQUlMX1BBU1MiLCJNQUlMX0ZST00iLCJNQUlMX1NFQ1VSRSIsInVuaW9uIiwibGl0ZXJhbCIsIk1BSUxfRlJPTV9MRUFEUyIsIkFQUF9VUkwiLCJsb2FkRW52IiwicmF3IiwicHJvY2VzcyIsImVudiIsInBhcnNlZCIsInNhZmVQYXJzZSIsInN1Y2Nlc3MiLCJtZXNzYWdlIiwiZXJyb3IiLCJpc3N1ZXMiLCJtYXAiLCJpc3N1ZSIsInBhdGgiLCJqb2luIiwiRXJyb3IiLCJkYXRhIiwicmVzb2x2ZUFwcEVudiIsInJlc29sdmVTM1ByZWZpeCIsImFwcEVudiIsImZhbGxiYWNrIiwibm9ybWFsaXplZCIsIm5vcm1hbGl6ZVByZWZpeCIsImlucHV0IiwicHJlZml4IiwicmVwbGFjZSIsImVuZHNXaXRoIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/../../packages/env/src/index.ts\n");

/***/ }),

/***/ "(rsc)/../../packages/env/src/index.ts":
/*!***************************************!*\
  !*** ../../packages/env/src/index.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   envSchema: () => (/* binding */ envSchema),\n/* harmony export */   loadEnv: () => (/* binding */ loadEnv),\n/* harmony export */   normalizePrefix: () => (/* binding */ normalizePrefix),\n/* harmony export */   resolveAppEnv: () => (/* binding */ resolveAppEnv),\n/* harmony export */   resolveS3Prefix: () => (/* binding */ resolveS3Prefix)\n/* harmony export */ });\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! zod */ \"(rsc)/../../node_modules/zod/v3/types.js\");\n\nconst envSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    NODE_ENV: zod__WEBPACK_IMPORTED_MODULE_0__[\"enum\"]([\n        \"development\",\n        \"test\",\n        \"production\"\n    ]).default(\"development\"),\n    APP_ENV: zod__WEBPACK_IMPORTED_MODULE_0__[\"enum\"]([\n        \"local\",\n        \"staging\",\n        \"production\"\n    ]).optional(),\n    DATABASE_URL: zod__WEBPACK_IMPORTED_MODULE_0__.string().url().optional(),\n    S3_ENDPOINT: zod__WEBPACK_IMPORTED_MODULE_0__.string().trim().optional(),\n    S3_REGION: zod__WEBPACK_IMPORTED_MODULE_0__.string().trim().optional(),\n    S3_BUCKET: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(1, \"S3_BUCKET is required\"),\n    S3_ACCESS_KEY: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(1, \"S3_ACCESS_KEY is required\"),\n    S3_SECRET_KEY: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(1, \"S3_SECRET_KEY is required\"),\n    S3_PREFIX: zod__WEBPACK_IMPORTED_MODULE_0__.string().optional(),\n    COOKIE_SECRET: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(16, \"COOKIE_SECRET must be at least 16 chars\"),\n    SESSION_COOKIE_NAME: zod__WEBPACK_IMPORTED_MODULE_0__.string().default(\"notepub_session\"),\n    MAIL_HOST: zod__WEBPACK_IMPORTED_MODULE_0__.string().optional(),\n    MAIL_PORT: zod__WEBPACK_IMPORTED_MODULE_0__.coerce.number().optional(),\n    MAIL_USER: zod__WEBPACK_IMPORTED_MODULE_0__.string().optional(),\n    MAIL_PASS: zod__WEBPACK_IMPORTED_MODULE_0__.string().optional(),\n    MAIL_FROM: zod__WEBPACK_IMPORTED_MODULE_0__.string().optional(),\n    MAIL_SECURE: zod__WEBPACK_IMPORTED_MODULE_0__.union([\n        zod__WEBPACK_IMPORTED_MODULE_0__.literal(\"true\"),\n        zod__WEBPACK_IMPORTED_MODULE_0__.literal(\"false\"),\n        zod__WEBPACK_IMPORTED_MODULE_0__.literal(\"1\"),\n        zod__WEBPACK_IMPORTED_MODULE_0__.literal(\"0\")\n    ]).optional(),\n    MAIL_FROM_LEADS: zod__WEBPACK_IMPORTED_MODULE_0__.string().optional(),\n    APP_URL: zod__WEBPACK_IMPORTED_MODULE_0__.string().url().optional()\n});\nfunction loadEnv(raw = process.env) {\n    const parsed = envSchema.safeParse(raw);\n    if (!parsed.success) {\n        const message = parsed.error.issues.map((issue)=>`${issue.path.join(\".\")}: ${issue.message}`).join(\"; \");\n        throw new Error(`Invalid environment variables: ${message}`);\n    }\n    return parsed.data;\n}\nfunction resolveAppEnv(env) {\n    if (env.APP_ENV) return env.APP_ENV;\n    if (env.NODE_ENV === \"production\") return \"production\";\n    return \"local\";\n}\nfunction resolveS3Prefix(env) {\n    const appEnv = resolveAppEnv(env);\n    const fallback = appEnv === \"production\" ? \"prod/\" : appEnv === \"staging\" ? \"staging/\" : \"local/\";\n    const normalized = normalizePrefix(env.S3_PREFIX ?? fallback);\n    if (!normalized && appEnv !== \"local\") {\n        throw new Error(\"S3_PREFIX is required for staging/production environments\");\n    }\n    return normalized;\n}\nfunction normalizePrefix(input) {\n    if (!input) return \"\";\n    let prefix = input.trim();\n    prefix = prefix.replace(/^\\/+/, \"\");\n    if (prefix && !prefix.endsWith(\"/\")) prefix = `${prefix}/`;\n    return prefix;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QVEsQ0FBQyxNQUFNRixTQUFTLENBQUMsRUFBRUEsT0FBTyxDQUFDLENBQUM7SUFDMUQsT0FBT0E7QUFDVCIsInNvdXJjZXMiOlsid2VicGFjazovL0Bub3RlcHViL2Rhc2hib2FyZC8uLi8uLi9wYWNrYWdlcy9lbnYvc3JjL2luZGV4LnRzPzcxMjYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgeiB9IGZyb20gXCJ6b2RcIjtcblxuZXhwb3J0IGNvbnN0IGVudlNjaGVtYSA9IHoub2JqZWN0KHtcbiAgTk9ERV9FTlY6IHouZW51bShbXCJkZXZlbG9wbWVudFwiLCBcInRlc3RcIiwgXCJwcm9kdWN0aW9uXCJdKS5kZWZhdWx0KFwiZGV2ZWxvcG1lbnRcIiksXG4gIEFQUF9FTlY6IHouZW51bShbXCJsb2NhbFwiLCBcInN0YWdpbmdcIiwgXCJwcm9kdWN0aW9uXCJdKS5vcHRpb25hbCgpLFxuICBEQVRBQkFTRV9VUkw6IHouc3RyaW5nKCkudXJsKCkub3B0aW9uYWwoKSxcbiAgUzNfRU5EUE9JTlQ6IHouc3RyaW5nKCkudHJpbSgpLm9wdGlvbmFsKCksXG4gIFMzX1JFR0lPTjogei5zdHJpbmcoKS50cmltKCkub3B0aW9uYWwoKSxcbiAgUzNfQlVDS0VUOiB6LnN0cmluZygpLm1pbigxLCBcIlMzX0JVQ0tFVCBpcyByZXF1aXJlZFwiKSxcbiAgUzNfQUNDRVNTX0tFWTogei5zdHJpbmcoKS5taW4oMSwgXCJTM19BQ0NFU1NfS0VZIGlzIHJlcXVpcmVkXCIpLFxuICBTM19TRUNSRVRfS0VZOiB6LnN0cmluZygpLm1pbigxLCBcIlMzX1NFQ1JFVF9LRVkgaXMgcmVxdWlyZWRcIiksXG4gIFMzX1BSRUZJWDogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICBDT09LSUVfU0VDUkVUOiB6LnN0cmluZygpLm1pbigxNiwgXCJDT09LSUVfU0VDUkVUIG11c3QgYmUgYXQgbGVhc3QgMTYgY2hhcnNcIiksXG4gIFNFU1NJT05fQ09PS0lFX05BTUU6IHouc3RyaW5nKCkuZGVmYXVsdChcIm5vdGVwdWJfc2Vzc2lvblwiKSxcbiAgTUFJTF9IT1NUOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gIE1BSUxfUE9SVDogei5jb2VyY2UubnVtYmVyKCkub3B0aW9uYWwoKSxcbiAgTUFJTF9VU0VSOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gIE1BSUxfUEFTUzogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICBNQUlMX0ZST006IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgTUFJTF9TRUNVUkU6IHpcbiAgICAudW5pb24oW3oubGl0ZXJhbChcInRydWVcIiksIHoubGl0ZXJhbChcImZhbHNlXCIpLCB6LmxpdGVyYWwoXCIxXCIpLCB6LmxpdGVyYWwoXCIwXCIpXSlcbiAgICAub3B0aW9uYWwoKSxcbiAgTUFJTF9GUk9NX0xFQURTOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gIEFQUF9VUkw6IHouc3RyaW5nKCkudXJsKCkub3B0aW9uYWwoKSxcbn0pO1xuXG5leHBvcnQgdHlwZSBBcHBFbnYgPSB6LmluZmVyPHR5cGVvZiBlbnZTY2hlbWE+O1xuZXhwb3J0IHR5cGUgQXBwRW52TmFtZSA9IFwibG9jYWxcIiB8IFwic3RhZ2luZ1wiIHwgXCJwcm9kdWN0aW9uXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBsb2FkRW52KHJhdzogTm9kZUpTLlByb2Nlc3NFbnYgPSBwcm9jZXNzLmVudik6IEFwcEVudiB7XG4gIGNvbnN0IHBhcnNlZCA9IGVudlNjaGVtYS5zYWZlUGFyc2UocmF3KTtcbiAgaWYgKCFwYXJzZWQuc3VjY2Vzcykge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBwYXJzZWQuZXJyb3IuaXNzdWVzLm1hcCgoaXNzdWUpID0+IGAke2lzc3VlLnBhdGguam9pbihcIi5cIil9OiAke2lzc3VlLm1lc3NhZ2V9YCkuam9pbihcIjsgXCIpO1xuICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBlbnZpcm9ubWVudCB2YXJpYWJsZXM6ICR7bWVzc2FnZX1gKTtcbiAgfVxuICByZXR1cm4gcGFyc2VkLmRhdGE7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZXNvbHZlQXBwRW52KGVudjogQXBwRW52KTogQXBwRW52TmFtZSB7XG4gIGlmIChlbnYuQVBQX0VOVikgcmV0dXJuIGVudi5BUFBfRU5WO1xuICBpZiAoZW52Lk5PREVfRU5WID09PSBcInByb2R1Y3Rpb25cIikgcmV0dXJuIFwicHJvZHVjdGlvblwiO1xuICByZXR1cm4gXCJsb2NhbFwiO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVzb2x2ZVMzUHJlZml4KGVudjogQXBwRW52KTogc3RyaW5nIHtcbiAgY29uc3QgYXBwRW52ID0gcmVzb2x2ZUFwcEVudihlbnYpO1xuICBjb25zdCBmYWxsYmFjayA9IGFwcEVudiA9PT0gXCJwcm9kdWN0aW9uXCIgPyBcInByb2QvXCIgOiBhcHBFbnYgPT09IFwic3RhZ2luZ1wiID8gXCJzdGFnaW5nL1wiIDogXCJsb2NhbC9cIjtcbiAgY29uc3Qgbm9ybWFsaXplZCA9IG5vcm1hbGl6ZVByZWZpeChlbnYuUzNfUFJFRklYID8/IGZhbGxiYWNrKTtcbiAgaWYgKCFub3JtYWxpemVkICYmIGFwcEVudiAhPT0gXCJsb2NhbFwiKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiUzNfUFJFRklYIGlzIHJlcXVpcmVkIGZvciBzdGFnaW5nL3Byb2R1Y3Rpb24gZW52aXJvbm1lbnRzXCIpO1xuICB9XG4gIHJldHVybiBub3JtYWxpemVkO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbm9ybWFsaXplUHJlZml4KGlucHV0OiBzdHJpbmcgfCBudWxsIHwgdW5kZWZpbmVkKTogc3RyaW5nIHtcbiAgaWYgKCFpbnB1dCkgcmV0dXJuIFwiXCI7XG4gIGxldCBwcmVmaXggPSBpbnB1dC50cmltKCk7XG4gIHByZWZpeCA9IHByZWZpeC5yZXBsYWNlKC9eXFwvKy8sIFwiXCIpO1xuICBpZiAocHJlZml4ICYmICFwcmVmaXguZW5kc1dpdGgoXCIvXCIpKSBwcmVmaXggPSBgJHtwcmVmaXh9L2A7XG4gIHJldHVybiBwcmVmaXg7XG59XG4iXSwibmFtZXMiOlsieiIsImVudlNjaGVtYSIsIm9iamVjdCIsIk5PREVfRU5WIiwiZW51bSIsImRlZmF1bHQiLCJBUFBfRU5WIiwib3B0aW9uYWwiLCJEQVRBQkFTRV9VUkwiLCJzdHJpbmciLCJ1cmwiLCJTM19FTkRQT0lOVCIsInRyaW0iLCJTM19SRUdJT04iLCJTM19CVUNLRVQiLCJtaW4iLCJTM19BQ0NFU1NfS0VZIiwiUzNfU0VDUkVUX0tFWSIsIlMzX1BSRUZJWCIsIkNPT0tJRV9TRUNSRVQiLCJTRVNTSU9OX0NPT0tJRV9OQU1FIiwiTUFJTF9IT1NUIiwiTUFJTF9QT1JUIiwiY29lcmNlIiwibnVtYmVyIiwiTUFJTF9VU0VSIiwiTUFJTF9QQVNTIiwiTUFJTF9GUk9NIiwiTUFJTF9TRUNVUkUiLCJ1bmlvbiIsImxpdGVyYWwiLCJNQUlMX0ZST01fTEVBRFMiLCJBUFBfVVJMIiwibG9hZEVudiIsInJhdyIsInByb2Nlc3MiLCJlbnYiLCJwYXJzZWQiLCJzYWZlUGFyc2UiLCJzdWNjZXNzIiwibWVzc2FnZSIsImVycm9yIiwiaXNzdWVzIiwibWFwIiwiaXNzdWUiLCJwYXRoIiwiam9pbiIsIkVycm9yIiwiZGF0YSIsInJlc29sdmVBcHBFbnYiLCJyZXNvbHZlUzNQcmVmaXgiLCJhcHBFbnYiLCJmYWxsYmFjayIsIm5vcm1hbGl6ZWQiLCJub3JtYWxpemVQcmVmaXgiLCJpbnB1dCIsInByZWZpeCIsInJlcGxhY2UiLCJlbmRzV2l0aCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../../packages/env/src/index.ts\n");

/***/ }),

/***/ "(action-browser)/../../packages/storage/src/index.ts":
/*!*******************************************!*\
  !*** ../../packages/storage/src/index.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getObjectAsString: () => (/* binding */ getObjectAsString),\n/* harmony export */   getSignedObjectUrl: () => (/* binding */ getSignedObjectUrl),\n/* harmony export */   listObjects: () => (/* binding */ listObjects),\n/* harmony export */   putObjectString: () => (/* binding */ putObjectString)\n/* harmony export */ });\n/* harmony import */ var _aws_sdk_client_s3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aws-sdk/client-s3 */ \"@aws-sdk/client-s3\");\n/* harmony import */ var _aws_sdk_client_s3__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_aws_sdk_client_s3__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _aws_sdk_s3_request_presigner__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @aws-sdk/s3-request-presigner */ \"(action-browser)/../../node_modules/@aws-sdk/s3-request-presigner/dist-es/getSignedUrl.js\");\n/* harmony import */ var _notepub_env__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @notepub/env */ \"(action-browser)/../../packages/env/src/index.ts\");\n\n\n\nconst env = (0,_notepub_env__WEBPACK_IMPORTED_MODULE_1__.loadEnv)();\nconst basePrefix = (0,_notepub_env__WEBPACK_IMPORTED_MODULE_1__.resolveS3Prefix)(env);\nconst s3Client = new _aws_sdk_client_s3__WEBPACK_IMPORTED_MODULE_0__.S3Client({\n    region: env.S3_REGION || \"ru-1\",\n    endpoint: env.S3_ENDPOINT || \"https://s3.timeweb.com\",\n    credentials: {\n        accessKeyId: env.S3_ACCESS_KEY,\n        secretAccessKey: env.S3_SECRET_KEY\n    }\n});\nasync function getObjectAsString(key, opts) {\n    const targetKey = prependBasePrefix(key);\n    const response = await s3Client.send(new _aws_sdk_client_s3__WEBPACK_IMPORTED_MODULE_0__.GetObjectCommand({\n        Bucket: env.S3_BUCKET,\n        Key: targetKey,\n        IfNoneMatch: opts?.ifNoneMatch\n    }));\n    const body = await streamToString(response.Body);\n    return {\n        status: 200,\n        etag: response.ETag?.replace(/\"/g, \"\") || \"\",\n        lastModified: response.LastModified?.toISOString() || null,\n        body\n    };\n}\nasync function listObjects(prefix) {\n    const normalized = (0,_notepub_env__WEBPACK_IMPORTED_MODULE_1__.normalizePrefix)(prefix);\n    const effectivePrefix = mergePrefix(basePrefix, normalized);\n    let continuationToken;\n    const entries = [];\n    do {\n        const result = await s3Client.send(new _aws_sdk_client_s3__WEBPACK_IMPORTED_MODULE_0__.ListObjectsV2Command({\n            Bucket: env.S3_BUCKET,\n            Prefix: effectivePrefix || undefined,\n            ContinuationToken: continuationToken\n        }));\n        for (const object of result.Contents || []){\n            if (!object.Key || object.Key.endsWith(\"/\")) continue;\n            const keyWithoutBase = stripBasePrefix(object.Key);\n            entries.push({\n                key: keyWithoutBase,\n                etag: object.ETag?.replace(/\"/g, \"\") || \"\",\n                lastModified: object.LastModified?.toISOString() || null,\n                size: typeof object.Size === \"number\" ? object.Size : undefined\n            });\n        }\n        continuationToken = result.IsTruncated ? result.NextContinuationToken : undefined;\n    }while (continuationToken);\n    return entries;\n}\nasync function putObjectString(key, body, contentType = \"text/plain\") {\n    const targetKey = prependBasePrefix(key);\n    await s3Client.send(new _aws_sdk_client_s3__WEBPACK_IMPORTED_MODULE_0__.PutObjectCommand({\n        Bucket: env.S3_BUCKET,\n        Key: targetKey,\n        Body: body,\n        ContentType: contentType\n    }));\n}\nasync function getSignedObjectUrl(key, expiresIn = 3600) {\n    const targetKey = prependBasePrefix(key);\n    return (0,_aws_sdk_s3_request_presigner__WEBPACK_IMPORTED_MODULE_2__.getSignedUrl)(s3Client, new _aws_sdk_client_s3__WEBPACK_IMPORTED_MODULE_0__.GetObjectCommand({\n        Bucket: env.S3_BUCKET,\n        Key: targetKey\n    }), {\n        expiresIn\n    });\n}\nfunction prependBasePrefix(key) {\n    const normalizedKey = key.replace(/^\\/+/, \"\");\n    if (!basePrefix) return normalizedKey;\n    if (normalizedKey.startsWith(basePrefix)) return normalizedKey;\n    return `${basePrefix}${normalizedKey}`;\n}\nfunction mergePrefix(base, relative) {\n    if (!base) return relative;\n    if (!relative) return base;\n    if (relative.startsWith(base)) return relative;\n    return `${base}${relative}`;\n}\nfunction stripBasePrefix(key) {\n    if (!basePrefix) return key.replace(/^\\/+/, \"\");\n    const normalizedKey = key.replace(/^\\/+/, \"\");\n    if (normalizedKey.startsWith(basePrefix)) {\n        return normalizedKey.slice(basePrefix.length);\n    }\n    return normalizedKey;\n}\nasync function streamToString(body) {\n    if (!body) return \"\";\n    if (typeof body === \"string\") return body;\n    if (Buffer.isBuffer(body)) return body.toString(\"utf8\");\n    const chunks = [];\n    if (isAsyncIterable(body)) {\n        for await (const chunk of body){\n            chunks.push(typeof chunk === \"string\" ? Buffer.from(chunk) : chunk);\n        }\n        return Buffer.concat(chunks).toString(\"utf8\");\n    }\n    return \"\";\n}\nfunction isAsyncIterable(value) {\n    return typeof value === \"object\" && value !== null && Symbol.asyncIterator in value;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uLi8uLi9wYWNrYWdlcy9zdG9yYWdlL3NyYy9pbmRleC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUF3RztBQUMzQztBQUNZO0FBRXpFLE1BQU1RLE1BQU1ILHFEQUFPQTtBQUNuQixNQUFNSSxhQUFhRiw2REFBZUEsQ0FBQ0M7QUFFbkMsTUFBTUUsV0FBVyxJQUFJUCx3REFBUUEsQ0FBQztJQUM1QlEsUUFBUUgsSUFBSUksU0FBUyxJQUFJO0lBQ3pCQyxVQUFVTCxJQUFJTSxXQUFXLElBQUk7SUFDN0JDLGFBQWE7UUFDWEMsYUFBYVIsSUFBSVMsYUFBYTtRQUM5QkMsaUJBQWlCVixJQUFJVyxhQUFhO0lBQ3BDO0FBQ0Y7QUFTTyxlQUFlQyxrQkFBa0JDLEdBQVcsRUFBRUMsSUFBK0I7SUFDbEYsTUFBTUMsWUFBWUMsa0JBQWtCSDtJQUNwQyxNQUFNSSxXQUFXLE1BQU1mLFNBQVNnQixJQUFJLENBQ2xDLElBQUkxQixnRUFBZ0JBLENBQUM7UUFDbkIyQixRQUFRbkIsSUFBSW9CLFNBQVM7UUFDckJDLEtBQUtOO1FBQ0xPLGFBQWFSLE1BQU1TO0lBQ3JCO0lBR0YsTUFBTUMsT0FBTyxNQUFNQyxlQUFlUixTQUFTUyxJQUFJO0lBQy9DLE9BQU87UUFDTEMsUUFBUTtRQUNSQyxNQUFNWCxTQUFTWSxJQUFJLEVBQUVDLFFBQVEsTUFBTSxPQUFPO1FBQzFDQyxjQUFjZCxTQUFTZSxZQUFZLEVBQUVDLGlCQUFpQjtRQUN0RFQ7SUFDRjtBQUNGO0FBRU8sZUFBZVUsWUFBWUMsTUFBYztJQUM5QyxNQUFNQyxhQUFhdEMsNkRBQWVBLENBQUNxQztJQUNuQyxNQUFNRSxrQkFBa0JDLFlBQVlyQyxZQUFZbUM7SUFDaEQsSUFBSUc7SUFDSixNQUFNQyxVQUEyQixFQUFFO0lBRW5DLEdBQUc7UUFDRCxNQUFNQyxTQUFTLE1BQU12QyxTQUFTZ0IsSUFBSSxDQUNoQyxJQUFJekIsb0VBQW9CQSxDQUFDO1lBQ3ZCMEIsUUFBUW5CLElBQUlvQixT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QUFRLENBQUM7SUFDeEM7SUFDQSxPQUFPO0FBQ1Q7QUFFQSxTQUFTRSxnQkFBZ0JJLEtBQWM7SUFDckMsT0FBTyxPQUFPQSxVQUFVLFlBQVlBLFVBQVUsUUFBUUMsT0FBT0MsYUFBYSxJQUFJRjtBQUNoRiIsInNvdXJjZXMiOlsid2VicGFjazovL0Bub3RlcHViL2Rhc2hib2FyZC8uLi8uLi9wYWNrYWdlcy9zdG9yYWdlL3NyYy9pbmRleC50cz8xNmY1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEdldE9iamVjdENvbW1hbmQsIExpc3RPYmplY3RzVjJDb21tYW5kLCBQdXRPYmplY3RDb21tYW5kLCBTM0NsaWVudCB9IGZyb20gXCJAYXdzLXNkay9jbGllbnQtczNcIjtcbmltcG9ydCB7IGdldFNpZ25lZFVybCB9IGZyb20gXCJAYXdzLXNkay9zMy1yZXF1ZXN0LXByZXNpZ25lclwiO1xuaW1wb3J0IHsgbG9hZEVudiwgbm9ybWFsaXplUHJlZml4LCByZXNvbHZlUzNQcmVmaXggfSBmcm9tIFwiQG5vdGVwdWIvZW52XCI7XG5cbmNvbnN0IGVudiA9IGxvYWRFbnYoKTtcbmNvbnN0IGJhc2VQcmVmaXggPSByZXNvbHZlUzNQcmVmaXgoZW52KTtcblxuY29uc3QgczNDbGllbnQgPSBuZXcgUzNDbGllbnQoe1xuICByZWdpb246IGVudi5TM19SRUdJT04gfHwgXCJydS0xXCIsXG4gIGVuZHBvaW50OiBlbnYuUzNfRU5EUE9JTlQgfHwgXCJodHRwczovL3MzLnRpbWV3ZWIuY29tXCIsXG4gIGNyZWRlbnRpYWxzOiB7XG4gICAgYWNjZXNzS2V5SWQ6IGVudi5TM19BQ0NFU1NfS0VZLFxuICAgIHNlY3JldEFjY2Vzc0tleTogZW52LlMzX1NFQ1JFVF9LRVksXG4gIH0sXG59KTtcblxuZXhwb3J0IHR5cGUgUzNPYmplY3RFbnRyeSA9IHtcbiAga2V5OiBzdHJpbmc7XG4gIGV0YWc6IHN0cmluZztcbiAgbGFzdE1vZGlmaWVkOiBzdHJpbmcgfCBudWxsO1xuICBzaXplPzogbnVtYmVyO1xufTtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldE9iamVjdEFzU3RyaW5nKGtleTogc3RyaW5nLCBvcHRzPzogeyBpZk5vbmVNYXRjaD86IHN0cmluZyB9KSB7XG4gIGNvbnN0IHRhcmdldEtleSA9IHByZXBlbmRCYXNlUHJlZml4KGtleSk7XG4gIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgczNDbGllbnQuc2VuZChcbiAgICBuZXcgR2V0T2JqZWN0Q29tbWFuZCh7XG4gICAgICBCdWNrZXQ6IGVudi5TM19CVUNLRVQsXG4gICAgICBLZXk6IHRhcmdldEtleSxcbiAgICAgIElmTm9uZU1hdGNoOiBvcHRzPy5pZk5vbmVNYXRjaCxcbiAgICB9KSxcbiAgKTtcblxuICBjb25zdCBib2R5ID0gYXdhaXQgc3RyZWFtVG9TdHJpbmcocmVzcG9uc2UuQm9keSk7XG4gIHJldHVybiB7XG4gICAgc3RhdHVzOiAyMDAsXG4gICAgZXRhZzogcmVzcG9uc2UuRVRhZz8ucmVwbGFjZSgvXCIvZywgXCJcIikgfHwgXCJcIixcbiAgICBsYXN0TW9kaWZpZWQ6IHJlc3BvbnNlLkxhc3RNb2RpZmllZD8udG9JU09TdHJpbmcoKSB8fCBudWxsLFxuICAgIGJvZHksXG4gIH07XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsaXN0T2JqZWN0cyhwcmVmaXg6IHN0cmluZyk6IFByb21pc2U8UzNPYmplY3RFbnRyeVtdPiB7XG4gIGNvbnN0IG5vcm1hbGl6ZWQgPSBub3JtYWxpemVQcmVmaXgocHJlZml4KTtcbiAgY29uc3QgZWZmZWN0aXZlUHJlZml4ID0gbWVyZ2VQcmVmaXgoYmFzZVByZWZpeCwgbm9ybWFsaXplZCk7XG4gIGxldCBjb250aW51YXRpb25Ub2tlbjogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICBjb25zdCBlbnRyaWVzOiBTM09iamVjdEVudHJ5W10gPSBbXTtcblxuICBkbyB7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgczNDbGllbnQuc2VuZChcbiAgICAgIG5ldyBMaXN0T2JqZWN0c1YyQ29tbWFuZCh7XG4gICAgICAgIEJ1Y2tldDogZW52LlMzX0JVQ0tFVCxcbiAgICAgICAgUHJlZml4OiBlZmZlY3RpdmVQcmVmaXggfHwgdW5kZWZpbmVkLFxuICAgICAgICBDb250aW51YXRpb25Ub2tlbjogY29udGludWF0aW9uVG9rZW4sXG4gICAgICB9KSxcbiAgICApO1xuXG4gICAgZm9yIChjb25zdCBvYmplY3Qgb2YgcmVzdWx0LkNvbnRlbnRzIHx8IFtdKSB7XG4gICAgICBpZiAoIW9iamVjdC5LZXkgfHwgb2JqZWN0LktleS5lbmRzV2l0aChcIi9cIikpIGNvbnRpbnVlO1xuICAgICAgY29uc3Qga2V5V2l0aG91dEJhc2UgPSBzdHJpcEJhc2VQcmVmaXgob2JqZWN0LktleSk7XG4gICAgICBlbnRyaWVzLnB1c2goe1xuICAgICAgICBrZXk6IGtleVdpdGhvdXRCYXNlLFxuICAgICAgICBldGFnOiBvYmplY3QuRVRhZz8ucmVwbGFjZSgvXCIvZywgXCJcIikgfHwgXCJcIixcbiAgICAgICAgbGFzdE1vZGlmaWVkOiBvYmplY3QuTGFzdE1vZGlmaWVkPy50b0lTT1N0cmluZygpIHx8IG51bGwsXG4gICAgICAgIHNpemU6IHR5cGVvZiBvYmplY3QuU2l6ZSA9PT0gXCJudW1iZXJcIiA/IG9iamVjdC5TaXplIDogdW5kZWZpbmVkLFxuICAgICAgfSk7XG4gICAgfVxuICAgIGNvbnRpbnVhdGlvblRva2VuID0gcmVzdWx0LklzVHJ1bmNhdGVkID8gcmVzdWx0Lk5leHRDb250aW51YXRpb25Ub2tlbiA6IHVuZGVmaW5lZDtcbiAgfSB3aGlsZSAoY29udGludWF0aW9uVG9rZW4pO1xuXG4gIHJldHVybiBlbnRyaWVzO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcHV0T2JqZWN0U3RyaW5nKGtleTogc3RyaW5nLCBib2R5OiBzdHJpbmcsIGNvbnRlbnRUeXBlID0gXCJ0ZXh0L3BsYWluXCIpIHtcbiAgY29uc3QgdGFyZ2V0S2V5ID0gcHJlcGVuZEJhc2VQcmVmaXgoa2V5KTtcbiAgYXdhaXQgczNDbGllbnQuc2VuZChcbiAgICBuZXcgUHV0T2JqZWN0Q29tbWFuZCh7XG4gICAgICBCdWNrZXQ6IGVudi5TM19CVUNLRVQsXG4gICAgICBLZXk6IHRhcmdldEtleSxcbiAgICAgIEJvZHk6IGJvZHksXG4gICAgICBDb250ZW50VHlwZTogY29udGVudFR5cGUsXG4gICAgfSksXG4gICk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRTaWduZWRPYmplY3RVcmwoa2V5OiBzdHJpbmcsIGV4cGlyZXNJbiA9IDM2MDApIHtcbiAgY29uc3QgdGFyZ2V0S2V5ID0gcHJlcGVuZEJhc2VQcmVmaXgoa2V5KTtcbiAgcmV0dXJuIGdldFNpZ25lZFVybChcbiAgICBzM0NsaWVudCxcbiAgICBuZXcgR2V0T2JqZWN0Q29tbWFuZCh7XG4gICAgICBCdWNrZXQ6IGVudi5TM19CVUNLRVQsXG4gICAgICBLZXk6IHRhcmdldEtleSxcbiAgICB9KSxcbiAgICB7IGV4cGlyZXNJbiB9LFxuICApO1xufVxuXG5mdW5jdGlvbiBwcmVwZW5kQmFzZVByZWZpeChrZXk6IHN0cmluZykge1xuICBjb25zdCBub3JtYWxpemVkS2V5ID0ga2V5LnJlcGxhY2UoL15cXC8rLywgXCJcIik7XG4gIGlmICghYmFzZVByZWZpeCkgcmV0dXJuIG5vcm1hbGl6ZWRLZXk7XG4gIGlmIChub3JtYWxpemVkS2V5LnN0YXJ0c1dpdGgoYmFzZVByZWZpeCkpIHJldHVybiBub3JtYWxpemVkS2V5O1xuICByZXR1cm4gYCR7YmFzZVByZWZpeH0ke25vcm1hbGl6ZWRLZXl9YDtcbn1cblxuZnVuY3Rpb24gbWVyZ2VQcmVmaXgoYmFzZTogc3RyaW5nLCByZWxhdGl2ZTogc3RyaW5nKSB7XG4gIGlmICghYmFzZSkgcmV0dXJuIHJlbGF0aXZlO1xuICBpZiAoIXJlbGF0aXZlKSByZXR1cm4gYmFzZTtcbiAgaWYgKHJlbGF0aXZlLnN0YXJ0c1dpdGgoYmFzZSkpIHJldHVybiByZWxhdGl2ZTtcbiAgcmV0dXJuIGAke2Jhc2V9JHtyZWxhdGl2ZX1gO1xufVxuXG5mdW5jdGlvbiBzdHJpcEJhc2VQcmVmaXgoa2V5OiBzdHJpbmcpIHtcbiAgaWYgKCFiYXNlUHJlZml4KSByZXR1cm4ga2V5LnJlcGxhY2UoL15cXC8rLywgXCJcIik7XG4gIGNvbnN0IG5vcm1hbGl6ZWRLZXkgPSBrZXkucmVwbGFjZSgvXlxcLysvLCBcIlwiKTtcbiAgaWYgKG5vcm1hbGl6ZWRLZXkuc3RhcnRzV2l0aChiYXNlUHJlZml4KSkge1xuICAgIHJldHVybiBub3JtYWxpemVkS2V5LnNsaWNlKGJhc2VQcmVmaXgubGVuZ3RoKTtcbiAgfVxuICByZXR1cm4gbm9ybWFsaXplZEtleTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gc3RyZWFtVG9TdHJpbmcoYm9keTogdW5rbm93bikge1xuICBpZiAoIWJvZHkpIHJldHVybiBcIlwiO1xuICBpZiAodHlwZW9mIGJvZHkgPT09IFwic3RyaW5nXCIpIHJldHVybiBib2R5O1xuICBpZiAoQnVmZmVyLmlzQnVmZmVyKGJvZHkpKSByZXR1cm4gYm9keS50b1N0cmluZyhcInV0ZjhcIik7XG4gIGNvbnN0IGNodW5rczogVWludDhBcnJheVtdID0gW107XG4gIGlmIChpc0FzeW5jSXRlcmFibGUoYm9keSkpIHtcbiAgICBmb3IgYXdhaXQgKGNvbnN0IGNodW5rIG9mIGJvZHkpIHtcbiAgICAgIGNodW5rcy5wdXNoKHR5cGVvZiBjaHVuayA9PT0gXCJzdHJpbmdcIiA/IEJ1ZmZlci5mcm9tKGNodW5rKSA6IGNodW5rKTtcbiAgICB9XG4gICAgcmV0dXJuIEJ1ZmZlci5jb25jYXQoY2h1bmtzKS50b1N0cmluZyhcInV0ZjhcIik7XG4gIH1cbiAgcmV0dXJuIFwiXCI7XG59XG5cbmZ1bmN0aW9uIGlzQXN5bmNJdGVyYWJsZSh2YWx1ZTogdW5rbm93bik6IHZhbHVlIGlzIEFzeW5jSXRlcmFibGU8VWludDhBcnJheSB8IHN0cmluZz4ge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiICYmIHZhbHVlICE9PSBudWxsICYmIFN5bWJvbC5hc3luY0l0ZXJhdG9yIGluIHZhbHVlO1xufVxuIl0sIm5hbWVzIjpbIkdldE9iamVjdENvbW1hbmQiLCJMaXN0T2JqZWN0c1YyQ29tbWFuZCIsIlB1dE9iamVjdENvbW1hbmQiLCJTM0NsaWVudCIsImdldFNpZ25lZFVybCIsImxvYWRFbnYiLCJub3JtYWxpemVQcmVmaXgiLCJyZXNvbHZlUzNQcmVmaXgiLCJlbnYiLCJiYXNlUHJlZml4IiwiczNDbGllbnQiLCJyZWdpb24iLCJTM19SRUdJT04iLCJlbmRwb2ludCIsIlMzX0VORFBPSU5UIiwiY3JlZGVudGlhbHMiLCJhY2Nlc3NLZXlJZCIsIlMzX0FDQ0VTU19LRVkiLCJzZWNyZXRBY2Nlc3NLZXkiLCJTM19TRUNSRVRfS0VZIiwiZ2V0T2JqZWN0QXNTdHJpbmciLCJrZXkiLCJvcHRzIiwidGFyZ2V0S2V5IiwicHJlcGVuZEJhc2VQcmVmaXgiLCJyZXNwb25zZSIsInNlbmQiLCJCdWNrZXQiLCJTM19CVUNLRVQiLCJLZXkiLCJJZk5vbmVNYXRjaCIsImlmTm9uZU1hdGNoIiwiYm9keSIsInN0cmVhbVRvU3RyaW5nIiwiQm9keSIsInN0YXR1cyIsImV0YWciLCJFVGFnIiwicmVwbGFjZSIsImxhc3RNb2RpZmllZCIsIkxhc3RNb2RpZmllZCIsInRvSVNPU3RyaW5nIiwibGlzdE9iamVjdHMiLCJwcmVmaXgiLCJub3JtYWxpemVkIiwiZWZmZWN0aXZlUHJlZml4IiwibWVyZ2VQcmVmaXgiLCJjb250aW51YXRpb25Ub2tlbiIsImVudHJpZXMiLCJyZXN1bHQiLCJQcmVmaXgiLCJ1bmRlZmluZWQiLCJDb250aW51YXRpb25Ub2tlbiIsIm9iamVjdCIsIkNvbnRlbnRzIiwiZW5kc1dpdGgiLCJrZXlXaXRob3V0QmFzZSIsInN0cmlwQmFzZVByZWZpeCIsInB1c2giLCJzaXplIiwiU2l6ZSIsIklzVHJ1bmNhdGVkIiwiTmV4dENvbnRpbnVhdGlvblRva2VuIiwicHV0T2JqZWN0U3RyaW5nIiwiY29udGVudFR5cGUiLCJDb250ZW50VHlwZSIsImdldFNpZ25lZE9iamVjdFVybCIsImV4cGlyZXNJbiIsIm5vcm1hbGl6ZWRLZXkiLCJzdGFydHNXaXRoIiwiYmFzZSIsInJlbGF0aXZlIiwic2xpY2UiLCJsZW5ndGgiLCJCdWZmZXIiLCJpc0J1ZmZlciIsInRvU3RyaW5nIiwiY2h1bmtzIiwiaXNBc3luY0l0ZXJhYmxlIiwiY2h1bmsiLCJmcm9tIiwiY29uY2F0IiwidmFsdWUiLCJTeW1ib2wiLCJhc3luY0l0ZXJhdG9yIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/../../packages/storage/src/index.ts\n");

/***/ }),

/***/ "(rsc)/../../packages/storage/src/index.ts":
/*!*******************************************!*\
  !*** ../../packages/storage/src/index.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getObjectAsString: () => (/* binding */ getObjectAsString),\n/* harmony export */   getSignedObjectUrl: () => (/* binding */ getSignedObjectUrl),\n/* harmony export */   listObjects: () => (/* binding */ listObjects),\n/* harmony export */   putObjectString: () => (/* binding */ putObjectString)\n/* harmony export */ });\n/* harmony import */ var _aws_sdk_client_s3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @aws-sdk/client-s3 */ \"@aws-sdk/client-s3\");\n/* harmony import */ var _aws_sdk_client_s3__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_aws_sdk_client_s3__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _aws_sdk_s3_request_presigner__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @aws-sdk/s3-request-presigner */ \"(rsc)/../../node_modules/@aws-sdk/s3-request-presigner/dist-es/getSignedUrl.js\");\n/* harmony import */ var _notepub_env__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @notepub/env */ \"(rsc)/../../packages/env/src/index.ts\");\n\n\n\nconst env = (0,_notepub_env__WEBPACK_IMPORTED_MODULE_1__.loadEnv)();\nconst basePrefix = (0,_notepub_env__WEBPACK_IMPORTED_MODULE_1__.resolveS3Prefix)(env);\nconst s3Client = new _aws_sdk_client_s3__WEBPACK_IMPORTED_MODULE_0__.S3Client({\n    region: env.S3_REGION || \"ru-1\",\n    endpoint: env.S3_ENDPOINT || \"https://s3.timeweb.com\",\n    credentials: {\n        accessKeyId: env.S3_ACCESS_KEY,\n        secretAccessKey: env.S3_SECRET_KEY\n    }\n});\nasync function getObjectAsString(key, opts) {\n    const targetKey = prependBasePrefix(key);\n    const response = await s3Client.send(new _aws_sdk_client_s3__WEBPACK_IMPORTED_MODULE_0__.GetObjectCommand({\n        Bucket: env.S3_BUCKET,\n        Key: targetKey,\n        IfNoneMatch: opts?.ifNoneMatch\n    }));\n    const body = await streamToString(response.Body);\n    return {\n        status: 200,\n        etag: response.ETag?.replace(/\"/g, \"\") || \"\",\n        lastModified: response.LastModified?.toISOString() || null,\n        body\n    };\n}\nasync function listObjects(prefix) {\n    const normalized = (0,_notepub_env__WEBPACK_IMPORTED_MODULE_1__.normalizePrefix)(prefix);\n    const effectivePrefix = mergePrefix(basePrefix, normalized);\n    let continuationToken;\n    const entries = [];\n    do {\n        const result = await s3Client.send(new _aws_sdk_client_s3__WEBPACK_IMPORTED_MODULE_0__.ListObjectsV2Command({\n            Bucket: env.S3_BUCKET,\n            Prefix: effectivePrefix || undefined,\n            ContinuationToken: continuationToken\n        }));\n        for (const object of result.Contents || []){\n            if (!object.Key || object.Key.endsWith(\"/\")) continue;\n            const keyWithoutBase = stripBasePrefix(object.Key);\n            entries.push({\n                key: keyWithoutBase,\n                etag: object.ETag?.replace(/\"/g, \"\") || \"\",\n                lastModified: object.LastModified?.toISOString() || null,\n                size: typeof object.Size === \"number\" ? object.Size : undefined\n            });\n        }\n        continuationToken = result.IsTruncated ? result.NextContinuationToken : undefined;\n    }while (continuationToken);\n    return entries;\n}\nasync function putObjectString(key, body, contentType = \"text/plain\") {\n    const targetKey = prependBasePrefix(key);\n    await s3Client.send(new _aws_sdk_client_s3__WEBPACK_IMPORTED_MODULE_0__.PutObjectCommand({\n        Bucket: env.S3_BUCKET,\n        Key: targetKey,\n        Body: body,\n        ContentType: contentType\n    }));\n}\nasync function getSignedObjectUrl(key, expiresIn = 3600) {\n    const targetKey = prependBasePrefix(key);\n    return (0,_aws_sdk_s3_request_presigner__WEBPACK_IMPORTED_MODULE_2__.getSignedUrl)(s3Client, new _aws_sdk_client_s3__WEBPACK_IMPORTED_MODULE_0__.GetObjectCommand({\n        Bucket: env.S3_BUCKET,\n        Key: targetKey\n    }), {\n        expiresIn\n    });\n}\nfunction prependBasePrefix(key) {\n    const normalizedKey = key.replace(/^\\/+/, \"\");\n    if (!basePrefix) return normalizedKey;\n    if (normalizedKey.startsWith(basePrefix)) return normalizedKey;\n    return `${basePrefix}${normalizedKey}`;\n}\nfunction mergePrefix(base, relative) {\n    if (!base) return relative;\n    if (!relative) return base;\n    if (relative.startsWith(base)) return relative;\n    return `${base}${relative}`;\n}\nfunction stripBasePrefix(key) {\n    if (!basePrefix) return key.replace(/^\\/+/, \"\");\n    const normalizedKey = key.replace(/^\\/+/, \"\");\n    if (normalizedKey.startsWith(basePrefix)) {\n        return normalizedKey.slice(basePrefix.length);\n    }\n    return normalizedKey;\n}\nasync function streamToString(body) {\n    if (!body) return \"\";\n    if (typeof body === \"string\") return body;\n    if (Buffer.isBuffer(body)) return body.toString(\"utf8\");\n    const chunks = [];\n    if (isAsyncIterable(body)) {\n        for await (const chunk of body){\n            chunks.push(typeof chunk === \"string\" ? Buffer.from(chunk) : chunk);\n        }\n        return Buffer.concat(chunks).toString(\"utf8\");\n    }\n    return \"\";\n}\nfunction isAsyncIterable(value) {\n    return typeof value === \"object\" && value !== null && Symbol.asyncIterator in value;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q3hDO0lBQ0EsT0FBTztBQUNUO0FBRUEsU0FBU0UsZ0JBQWdCSSxLQUFjO0lBQ3JDLE9BQU8sT0FBT0EsVUFBVSxZQUFZQSxVQUFVLFFBQVFDLE9BQU9DLGFBQWEsSUFBSUY7QUFDaEYiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Abm90ZXB1Yi9kYXNoYm9hcmQvLi4vLi4vcGFja2FnZXMvc3RvcmFnZS9zcmMvaW5kZXgudHM/MTZmNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBHZXRPYmplY3RDb21tYW5kLCBMaXN0T2JqZWN0c1YyQ29tbWFuZCwgUHV0T2JqZWN0Q29tbWFuZCwgUzNDbGllbnQgfSBmcm9tIFwiQGF3cy1zZGsvY2xpZW50LXMzXCI7XG5pbXBvcnQgeyBnZXRTaWduZWRVcmwgfSBmcm9tIFwiQGF3cy1zZGsvczMtcmVxdWVzdC1wcmVzaWduZXJcIjtcbmltcG9ydCB7IGxvYWRFbnYsIG5vcm1hbGl6ZVByZWZpeCwgcmVzb2x2ZVMzUHJlZml4IH0gZnJvbSBcIkBub3RlcHViL2VudlwiO1xuXG5jb25zdCBlbnYgPSBsb2FkRW52KCk7XG5jb25zdCBiYXNlUHJlZml4ID0gcmVzb2x2ZVMzUHJlZml4KGVudik7XG5cbmNvbnN0IHMzQ2xpZW50ID0gbmV3IFMzQ2xpZW50KHtcbiAgcmVnaW9uOiBlbnYuUzNfUkVHSU9OIHx8IFwicnUtMVwiLFxuICBlbmRwb2ludDogZW52LlMzX0VORFBPSU5UIHx8IFwiaHR0cHM6Ly9zMy50aW1ld2ViLmNvbVwiLFxuICBjcmVkZW50aWFsczoge1xuICAgIGFjY2Vzc0tleUlkOiBlbnYuUzNfQUNDRVNTX0tFWSxcbiAgICBzZWNyZXRBY2Nlc3NLZXk6IGVudi5TM19TRUNSRVRfS0VZLFxuICB9LFxufSk7XG5cbmV4cG9ydCB0eXBlIFMzT2JqZWN0RW50cnkgPSB7XG4gIGtleTogc3RyaW5nO1xuICBldGFnOiBzdHJpbmc7XG4gIGxhc3RNb2RpZmllZDogc3RyaW5nIHwgbnVsbDtcbiAgc2l6ZT86IG51bWJlcjtcbn07XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRPYmplY3RBc1N0cmluZyhrZXk6IHN0cmluZywgb3B0cz86IHsgaWZOb25lTWF0Y2g/OiBzdHJpbmcgfSkge1xuICBjb25zdCB0YXJnZXRLZXkgPSBwcmVwZW5kQmFzZVByZWZpeChrZXkpO1xuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHMzQ2xpZW50LnNlbmQoXG4gICAgbmV3IEdldE9iamVjdENvbW1hbmQoe1xuICAgICAgQnVja2V0OiBlbnYuUzNfQlVDS0VULFxuICAgICAgS2V5OiB0YXJnZXRLZXksXG4gICAgICBJZk5vbmVNYXRjaDogb3B0cz8uaWZOb25lTWF0Y2gsXG4gICAgfSksXG4gICk7XG5cbiAgY29uc3QgYm9keSA9IGF3YWl0IHN0cmVhbVRvU3RyaW5nKHJlc3BvbnNlLkJvZHkpO1xuICByZXR1cm4ge1xuICAgIHN0YXR1czogMjAwLFxuICAgIGV0YWc6IHJlc3BvbnNlLkVUYWc/LnJlcGxhY2UoL1wiL2csIFwiXCIpIHx8IFwiXCIsXG4gICAgbGFzdE1vZGlmaWVkOiByZXNwb25zZS5MYXN0TW9kaWZpZWQ/LnRvSVNPU3RyaW5nKCkgfHwgbnVsbCxcbiAgICBib2R5LFxuICB9O1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbGlzdE9iamVjdHMocHJlZml4OiBzdHJpbmcpOiBQcm9taXNlPFMzT2JqZWN0RW50cnlbXT4ge1xuICBjb25zdCBub3JtYWxpemVkID0gbm9ybWFsaXplUHJlZml4KHByZWZpeCk7XG4gIGNvbnN0IGVmZmVjdGl2ZVByZWZpeCA9IG1lcmdlUHJlZml4KGJhc2VQcmVmaXgsIG5vcm1hbGl6ZWQpO1xuICBsZXQgY29udGludWF0aW9uVG9rZW46IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgY29uc3QgZW50cmllczogUzNPYmplY3RFbnRyeVtdID0gW107XG5cbiAgZG8ge1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHMzQ2xpZW50LnNlbmQoXG4gICAgICBuZXcgTGlzdE9iamVjdHNWMkNvbW1hbmQoe1xuICAgICAgICBCdWNrZXQ6IGVudi5TM19CVUNLRVQsXG4gICAgICAgIFByZWZpeDogZWZmZWN0aXZlUHJlZml4IHx8IHVuZGVmaW5lZCxcbiAgICAgICAgQ29udGludWF0aW9uVG9rZW46IGNvbnRpbnVhdGlvblRva2VuLFxuICAgICAgfSksXG4gICAgKTtcblxuICAgIGZvciAoY29uc3Qgb2JqZWN0IG9mIHJlc3VsdC5Db250ZW50cyB8fCBbXSkge1xuICAgICAgaWYgKCFvYmplY3QuS2V5IHx8IG9iamVjdC5LZXkuZW5kc1dpdGgoXCIvXCIpKSBjb250aW51ZTtcbiAgICAgIGNvbnN0IGtleVdpdGhvdXRCYXNlID0gc3RyaXBCYXNlUHJlZml4KG9iamVjdC5LZXkpO1xuICAgICAgZW50cmllcy5wdXNoKHtcbiAgICAgICAga2V5OiBrZXlXaXRob3V0QmFzZSxcbiAgICAgICAgZXRhZzogb2JqZWN0LkVUYWc/LnJlcGxhY2UoL1wiL2csIFwiXCIpIHx8IFwiXCIsXG4gICAgICAgIGxhc3RNb2RpZmllZDogb2JqZWN0Lkxhc3RNb2RpZmllZD8udG9JU09TdHJpbmcoKSB8fCBudWxsLFxuICAgICAgICBzaXplOiB0eXBlb2Ygb2JqZWN0LlNpemUgPT09IFwibnVtYmVyXCIgPyBvYmplY3QuU2l6ZSA6IHVuZGVmaW5lZCxcbiAgICAgIH0pO1xuICAgIH1cbiAgICBjb250aW51YXRpb25Ub2tlbiA9IHJlc3VsdC5Jc1RydW5jYXRlZCA/IHJlc3VsdC5OZXh0Q29udGludWF0aW9uVG9rZW4gOiB1bmRlZmluZWQ7XG4gIH0gd2hpbGUgKGNvbnRpbnVhdGlvblRva2VuKTtcblxuICByZXR1cm4gZW50cmllcztcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHB1dE9iamVjdFN0cmluZyhrZXk6IHN0cmluZywgYm9keTogc3RyaW5nLCBjb250ZW50VHlwZSA9IFwidGV4dC9wbGFpblwiKSB7XG4gIGNvbnN0IHRhcmdldEtleSA9IHByZXBlbmRCYXNlUHJlZml4KGtleSk7XG4gIGF3YWl0IHMzQ2xpZW50LnNlbmQoXG4gICAgbmV3IFB1dE9iamVjdENvbW1hbmQoe1xuICAgICAgQnVja2V0OiBlbnYuUzNfQlVDS0VULFxuICAgICAgS2V5OiB0YXJnZXRLZXksXG4gICAgICBCb2R5OiBib2R5LFxuICAgICAgQ29udGVudFR5cGU6IGNvbnRlbnRUeXBlLFxuICAgIH0pLFxuICApO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0U2lnbmVkT2JqZWN0VXJsKGtleTogc3RyaW5nLCBleHBpcmVzSW4gPSAzNjAwKSB7XG4gIGNvbnN0IHRhcmdldEtleSA9IHByZXBlbmRCYXNlUHJlZml4KGtleSk7XG4gIHJldHVybiBnZXRTaWduZWRVcmwoXG4gICAgczNDbGllbnQsXG4gICAgbmV3IEdldE9iamVjdENvbW1hbmQoe1xuICAgICAgQnVja2V0OiBlbnYuUzNfQlVDS0VULFxuICAgICAgS2V5OiB0YXJnZXRLZXksXG4gICAgfSksXG4gICAgeyBleHBpcmVzSW4gfSxcbiAgKTtcbn1cblxuZnVuY3Rpb24gcHJlcGVuZEJhc2VQcmVmaXgoa2V5OiBzdHJpbmcpIHtcbiAgY29uc3Qgbm9ybWFsaXplZEtleSA9IGtleS5yZXBsYWNlKC9eXFwvKy8sIFwiXCIpO1xuICBpZiAoIWJhc2VQcmVmaXgpIHJldHVybiBub3JtYWxpemVkS2V5O1xuICBpZiAobm9ybWFsaXplZEtleS5zdGFydHNXaXRoKGJhc2VQcmVmaXgpKSByZXR1cm4gbm9ybWFsaXplZEtleTtcbiAgcmV0dXJuIGAke2Jhc2VQcmVmaXh9JHtub3JtYWxpemVkS2V5fWA7XG59XG5cbmZ1bmN0aW9uIG1lcmdlUHJlZml4KGJhc2U6IHN0cmluZywgcmVsYXRpdmU6IHN0cmluZykge1xuICBpZiAoIWJhc2UpIHJldHVybiByZWxhdGl2ZTtcbiAgaWYgKCFyZWxhdGl2ZSkgcmV0dXJuIGJhc2U7XG4gIGlmIChyZWxhdGl2ZS5zdGFydHNXaXRoKGJhc2UpKSByZXR1cm4gcmVsYXRpdmU7XG4gIHJldHVybiBgJHtiYXNlfSR7cmVsYXRpdmV9YDtcbn1cblxuZnVuY3Rpb24gc3RyaXBCYXNlUHJlZml4KGtleTogc3RyaW5nKSB7XG4gIGlmICghYmFzZVByZWZpeCkgcmV0dXJuIGtleS5yZXBsYWNlKC9eXFwvKy8sIFwiXCIpO1xuICBjb25zdCBub3JtYWxpemVkS2V5ID0ga2V5LnJlcGxhY2UoL15cXC8rLywgXCJcIik7XG4gIGlmIChub3JtYWxpemVkS2V5LnN0YXJ0c1dpdGgoYmFzZVByZWZpeCkpIHtcbiAgICByZXR1cm4gbm9ybWFsaXplZEtleS5zbGljZShiYXNlUHJlZml4Lmxlbmd0aCk7XG4gIH1cbiAgcmV0dXJuIG5vcm1hbGl6ZWRLZXk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHN0cmVhbVRvU3RyaW5nKGJvZHk6IHVua25vd24pIHtcbiAgaWYgKCFib2R5KSByZXR1cm4gXCJcIjtcbiAgaWYgKHR5cGVvZiBib2R5ID09PSBcInN0cmluZ1wiKSByZXR1cm4gYm9keTtcbiAgaWYgKEJ1ZmZlci5pc0J1ZmZlcihib2R5KSkgcmV0dXJuIGJvZHkudG9TdHJpbmcoXCJ1dGY4XCIpO1xuICBjb25zdCBjaHVua3M6IFVpbnQ4QXJyYXlbXSA9IFtdO1xuICBpZiAoaXNBc3luY0l0ZXJhYmxlKGJvZHkpKSB7XG4gICAgZm9yIGF3YWl0IChjb25zdCBjaHVuayBvZiBib2R5KSB7XG4gICAgICBjaHVua3MucHVzaCh0eXBlb2YgY2h1bmsgPT09IFwic3RyaW5nXCIgPyBCdWZmZXIuZnJvbShjaHVuaykgOiBjaHVuayk7XG4gICAgfVxuICAgIHJldHVybiBCdWZmZXIuY29uY2F0KGNodW5rcykudG9TdHJpbmcoXCJ1dGY4XCIpO1xuICB9XG4gIHJldHVybiBcIlwiO1xufVxuXG5mdW5jdGlvbiBpc0FzeW5jSXRlcmFibGUodmFsdWU6IHVua25vd24pOiB2YWx1ZSBpcyBBc3luY0l0ZXJhYmxlPFVpbnQ4QXJyYXkgfCBzdHJpbmc+IHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIiAmJiB2YWx1ZSAhPT0gbnVsbCAmJiBTeW1ib2wuYXN5bmNJdGVyYXRvciBpbiB2YWx1ZTtcbn1cbiJdLCJuYW1lcyI6WyJHZXRPYmplY3RDb21tYW5kIiwiTGlzdE9iamVjdHNWMkNvbW1hbmQiLCJQdXRPYmplY3RDb21tYW5kIiwiUzNDbGllbnQiLCJnZXRTaWduZWRVcmwiLCJsb2FkRW52Iiwibm9ybWFsaXplUHJlZml4IiwicmVzb2x2ZVMzUHJlZml4IiwiZW52IiwiYmFzZVByZWZpeCIsInMzQ2xpZW50IiwicmVnaW9uIiwiUzNfUkVHSU9OIiwiZW5kcG9pbnQiLCJTM19FTkRQT0lOVCIsImNyZWRlbnRpYWxzIiwiYWNjZXNzS2V5SWQiLCJTM19BQ0NFU1NfS0VZIiwic2VjcmV0QWNjZXNzS2V5IiwiUzNfU0VDUkVUX0tFWSIsImdldE9iamVjdEFzU3RyaW5nIiwia2V5Iiwib3B0cyIsInRhcmdldEtleSIsInByZXBlbmRCYXNlUHJlZml4IiwicmVzcG9uc2UiLCJzZW5kIiwiQnVja2V0IiwiUzNfQlVDS0VUIiwiS2V5IiwiSWZOb25lTWF0Y2giLCJpZk5vbmVNYXRjaCIsImJvZHkiLCJzdHJlYW1Ub1N0cmluZyIsIkJvZHkiLCJzdGF0dXMiLCJldGFnIiwiRVRhZyIsInJlcGxhY2UiLCJsYXN0TW9kaWZpZWQiLCJMYXN0TW9kaWZpZWQiLCJ0b0lTT1N0cmluZyIsImxpc3RPYmplY3RzIiwicHJlZml4Iiwibm9ybWFsaXplZCIsImVmZmVjdGl2ZVByZWZpeCIsIm1lcmdlUHJlZml4IiwiY29udGludWF0aW9uVG9rZW4iLCJlbnRyaWVzIiwicmVzdWx0IiwiUHJlZml4IiwidW5kZWZpbmVkIiwiQ29udGludWF0aW9uVG9rZW4iLCJvYmplY3QiLCJDb250ZW50cyIsImVuZHNXaXRoIiwia2V5V2l0aG91dEJhc2UiLCJzdHJpcEJhc2VQcmVmaXgiLCJwdXNoIiwic2l6ZSIsIlNpemUiLCJJc1RydW5jYXRlZCIsIk5leHRDb250aW51YXRpb25Ub2tlbiIsInB1dE9iamVjdFN0cmluZyIsImNvbnRlbnRUeXBlIiwiQ29udGVudFR5cGUiLCJnZXRTaWduZWRPYmplY3RVcmwiLCJleHBpcmVzSW4iLCJub3JtYWxpemVkS2V5Iiwic3RhcnRzV2l0aCIsImJhc2UiLCJyZWxhdGl2ZSIsInNsaWNlIiwibGVuZ3RoIiwiQnVmZmVyIiwiaXNCdWZmZXIiLCJ0b1N0cmluZyIsImNodW5rcyIsImlzQXN5bmNJdGVyYWJsZSIsImNodW5rIiwiZnJvbSIsImNvbmNhdCIsInZhbHVlIiwiU3ltYm9sIiwiYXN5bmNJdGVyYXRvciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../../packages/storage/src/index.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/nodemailer","vendor-chunks/zod","vendor-chunks/@smithy","vendor-chunks/bcryptjs","vendor-chunks/@aws-sdk","vendor-chunks/@swc"], () => (__webpack_exec__("(rsc)/../../node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fdashboard%2Fsites%2Fpage&page=%2Fdashboard%2Fsites%2Fpage&appPaths=%2Fdashboard%2Fsites%2Fpage&pagePath=private-next-app-dir%2Fdashboard%2Fsites%2Fpage.tsx&appDir=%2FUsers%2Fantonlozkin%2FDocuments%2Fobsidian-website%2Fapps%2Fdashboard%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fantonlozkin%2FDocuments%2Fobsidian-website%2Fapps%2Fdashboard&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();